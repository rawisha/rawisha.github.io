/*! For license information please see main.cc109fe6.js.LICENSE.txt */
!function(){var e={463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),C=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function P(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var L,M=Object.assign;function U(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var F=!1;function V(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function B(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case x:return"Portal";case E:return"Profiler";case S:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case j:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function Z(e,t){J(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ae(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,_e=null,Se=null;function Ee(e){if(e=ki(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Ie(e){_e?Se?Se.push(e):Se=[e]:_e=e}function Ce(){if(_e){var e=_e,t=Se;if(Se=_e=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Te(e,t){return e(t)}function Ne(){}var Ae=!1;function je(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Te(e,t,n)}finally{Ae=!1,(null!==_e||null!==Se)&&(Ne(),Ce())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var De=!1;if(l)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){De=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(le){De=!1}function Pe(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Le=!1,Me=null,Ue=!1,Fe=null,Ve={onError:function(e){Le=!0,Me=e}};function Be(e,t,n,r,i,a,o,s,u){Le=!1,Me=null,Pe.apply(Ve,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(ze(e)!==e)throw Error(a(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return He(i),e;if(o===r)return He(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Xe=i.unstable_requestPaint,Je=i.unstable_now,Ze=i.unstable_getCurrentPriorityLevel,$e=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ft(s):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,_t,St,Et,It=!1,Ct=[],Tt=null,Nt=null,At=null,jt=new Map,Rt=new Map,Dt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":jt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Lt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=gi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Et(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ft(e,t,n){Ut(e)&&n.delete(t)}function Vt(){It=!1,null!==Tt&&Ut(Tt)&&(Tt=null),null!==Nt&&Ut(Nt)&&(Nt=null),null!==At&&Ut(At)&&(At=null),jt.forEach(Ft),Rt.forEach(Ft)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,It||(It=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function zt(e){function t(t){return Bt(t,e)}if(0<Ct.length){Bt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&Bt(Tt,e),null!==Nt&&Bt(Nt,e),null!==At&&Bt(At,e),jt.forEach(t),Rt.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Dt.shift()}var qt=b.ReactCurrentBatchConfig,Ht=!0;function Wt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=1,Gt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Kt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=4,Gt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Gt(e,t,n,r){if(Ht){var i=Yt(e,t,n,r);if(null===i)Hr(e,t,r,Qt,n),Pt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=Lt(Tt,e,t,n,r,i),!0;case"dragenter":return Nt=Lt(Nt,e,t,n,r,i),!0;case"mouseover":return At=Lt(At,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return jt.set(a,Lt(jt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Rt.set(a,Lt(Rt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Pt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=Yt(e,t,n,r))&&Hr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=gi(e=we(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Zt=null,$t=null;function en(){if($t)return $t;var e,t,n=Zt,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return $t=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=M({},cn,{view:0,detail:0}),hn=an(fn),dn=M({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(dn),vn=an(M({},dn,{dataTransfer:0})),mn=an(M({},fn,{relatedTarget:0})),yn=an(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(M({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function En(){return Sn}var In=M({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=an(In),Tn=an(M({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=an(M({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),An=an(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),jn=M({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=an(jn),Dn=[9,13,27,32],On=l&&"CompositionEvent"in window,Pn=null;l&&"documentMode"in document&&(Pn=document.documentMode);var Ln=l&&"TextEvent"in window&&!Pn,Mn=l&&(!On||Pn&&8<Pn&&11>=Pn),Un=String.fromCharCode(32),Fn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Wn(e,t,n,r){Ie(r),0<(t=Kr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Qn(e){Ur(e,0)}function Yn(e){if(G(bi(e)))return e}function Xn(e,t){if("change"===e)return t}var Jn=!1;if(l){var Zn;if(l){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"===typeof er.oninput}Zn=$n}else Zn=!1;Jn=Zn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];Wn(t,Gn,e,we(e)),je(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function ar(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&ur(gr,r)||(gr=r,0<(r=Kr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},_r={},Sr={};function Er(e){if(_r[e])return _r[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return _r[e]=n[t];return e}l&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Ir=Er("animationend"),Cr=Er("animationiteration"),Tr=Er("animationstart"),Nr=Er("transitionend"),Ar=new Map,jr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Ar.set(e,t),u(t,[e])}for(var Dr=0;Dr<jr.length;Dr++){var Or=jr[Dr];Rr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Rr(Ir,"onAnimationEnd"),Rr(Cr,"onAnimationIteration"),Rr(Tr,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pr));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if(Be.apply(this,arguments),Le){if(!Le)throw Error(a(198));var l=Me;Le=!1,Me=null,Ue||(Ue=!0,Fe=l)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Mr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Mr(i,s,c),a=u}}}if(Ue)throw e=Fe,Ue=!1,Fe=null,e}function Fr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Br]){e[Br]=!0,o.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Xt(t)){case 1:var i=Wt;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=gi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}je((function(){var r=a,i=we(n),o=[];e:{var s=Ar.get(e);if(void 0!==s){var u=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=Cn;break;case"focusin":c="focus",u=mn;break;case"focusout":c="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Nn;break;case Ir:case Cr:case Tr:u=yn;break;case Nr:u=An;break;case"scroll":u=hn;break;case"wheel":u=Rn;break;case"copy":case"cut":case"paste":u=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Tn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Re(p,h))&&l.push(Wr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Tn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:bi(u),d=null==c?s:bi(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Gr(d))p++;for(d=0,v=h;v;v=Gr(v))d++;for(;0<p-d;)l=Gr(l),p--;for(;0<d-p;)h=Gr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Gr(l),h=Gr(h)}l=null}else l=null;null!==u&&Qr(o,s,u,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(u=(s=r?bi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Xn;else if(Hn(s))if(Jn)m=or;else{m=ir;var y=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ar);switch(m&&(m=m(e,r))?Wn(o,m,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?bi(r):window,e){case"focusin":(Hn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(On)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else zn?Vn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Mn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==k?"onCompositionEnd"===k&&zn&&(g=en()):(Zt="value"in(Jt=i)?Jt.value:Jt.textContent,zn=!0)),0<(y=Kr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=Bn(n))&&(k.data=g))),(g=Ln?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Un);case"textInput":return(e=t.data)===Un&&Fn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!On&&Vn(e,t)?(e=en(),$t=Zt=Jt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Ur(o,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Re(e,n))&&r.unshift(Wr(e,a,i)),null!=(a=Re(e,t))&&r.push(Wr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Re(n,a))&&o.unshift(Wr(n,u,s)):i||null!=(u=Re(n,a))&&o.push(Wr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Xr,"")}function Zr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(a(425))}function $r(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var xi=[],_i=-1;function Si(e){return{current:e}}function Ei(e){0>_i||(e.current=xi[_i],xi[_i]=null,_i--)}function Ii(e,t){_i++,xi[_i]=e.current,e.current=t}var Ci={},Ti=Si(Ci),Ni=Si(!1),Ai=Ci;function ji(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ri(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){Ei(Ni),Ei(Ti)}function Oi(e,t,n){if(Ti.current!==Ci)throw Error(a(168));Ii(Ti,t),Ii(Ni,n)}function Pi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return M({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,Ai=Ti.current,Ii(Ti,e),Ii(Ni,Ni.current),!0}function Mi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Pi(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Ei(Ni),Ei(Ti),Ii(Ti,e)):Ei(Ni),Ii(Ni,n)}var Ui=null,Fi=!1,Vi=!1;function Bi(e){null===Ui?Ui=[e]:Ui.push(e)}function zi(){if(!Vi&&null!==Ui){Vi=!0;var e=0,t=kt;try{var n=Ui;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ui=null,Fi=!1}catch(i){throw null!==Ui&&(Ui=Ui.slice(e+1)),Ge($e,zi),i}finally{kt=t,Vi=!1}}return null}var qi=[],Hi=0,Wi=null,Ki=0,Gi=[],Qi=0,Yi=null,Xi=1,Ji="";function Zi(e,t){qi[Hi++]=Ki,qi[Hi++]=Wi,Wi=e,Ki=t}function $i(e,t,n){Gi[Qi++]=Xi,Gi[Qi++]=Ji,Gi[Qi++]=Yi,Yi=e;var r=Xi;e=Ji;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Xi=1<<32-ot(t)+i|n<<i|r,Ji=a+e}else Xi=1<<a|n<<i|r,Ji=e}function ea(e){null!==e.return&&(Zi(e,1),$i(e,1,0))}function ta(e){for(;e===Wi;)Wi=qi[--Hi],qi[Hi]=null,Ki=qi[--Hi],qi[Hi]=null;for(;e===Yi;)Yi=Gi[--Qi],Gi[Qi]=null,Ji=Gi[--Qi],Gi[Qi]=null,Xi=Gi[--Qi],Gi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=jc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Xi,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=jc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(ua(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(ua(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Si(null),ga=null,ka=null,ba=null;function wa(){ba=ka=ga=null}function xa(e){var t=ya.current;Ei(ya),e._currentValue=t}function _a(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sa(e,t){ga=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function Ea(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ga)throw Error(a(308));ka=e,ga.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Ia=null;function Ca(e){null===Ia?Ia=[e]:Ia.push(e)}function Ta(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ca(t)):(n.next=i.next,i.next=n),t.interleaved=n,Na(e,r)}function Na(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Aa=!1;function ja(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Da(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Oa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Tu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Na(e,n)}return null===(i=r.interleaved)?(t.next=t,Ca(r)):(t.next=i.next,i.next=t),r.interleaved=t,Na(e,n)}function Pa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function La(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ma(e,t,n,r){var i=e.updateQueue;Aa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===o?a=c:o.next=c,o=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==a){var f=i.baseState;for(o=0,l=c=u=null,s=a;;){var h=s.lane,d=s.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=M({},f,h);break e;case 2:Aa=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else d={eventTime:d,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=d,u=f):l=l.next=d,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Lu|=o,e.lanes=o,e.memoizedState=f}}function Ua(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Fa=(new r.Component).refs;function Va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ba={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Da(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Oa(e,a,i))&&(nc(t,e,i,r),Pa(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Da(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Oa(e,a,i))&&(nc(t,e,i,r),Pa(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Da(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Oa(e,i,r))&&(nc(t,e,r,n),Pa(t,e,r))}};function za(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function qa(e,t,n){var r=!1,i=Ci,a=t.contextType;return"object"===typeof a&&null!==a?a=Ea(a):(i=Ri(t)?Ai:Ti.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?ji(e,i):Ci),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ba,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ha(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ba.enqueueReplaceState(t,t.state,null)}function Wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Fa,ja(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ea(a):(a=Ri(t)?Ai:Ti.current,i.context=ji(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Va(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ba.enqueueReplaceState(i,i.state,null),Ma(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ka(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Fa&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function Ya(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Mc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===_?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===R&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ka(e,t,n),r.return=e,r):((r=Oc(n.type,n.key,n.props,null,e.mode,r)).ref=Ka(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Pc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Mc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Oc(t.type,t.key,t.props,null,e.mode,n)).ref=Ka(e,null,t),n.return=e,n;case x:return(t=Uc(t,e.mode,n)).return=e,t;case R:return h(e,(0,t._init)(t._payload),n)}if(te(t)||P(t))return(t=Pc(t,e.mode,n,null)).return=e,t;Ga(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case R:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||P(n))return null!==i?null:f(e,t,n,r,null);Ga(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||P(r))return f(t,e=e.get(n)||null,r,i,null);Ga(t,r)}return null}function v(i,a,s,u){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,s[v],u);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===s.length)return n(i,f),ia&&Zi(i,v),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Zi(i,v),c}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Zi(i,v),c}function m(i,s,u,c){var l=P(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var f=l=null,v=s,m=s=0,y=null,g=u.next();null!==v&&!g.done;m++,g=u.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),s=o(k,s,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),ia&&Zi(i,m),l;if(null===v){for(;!g.done;m++,g=u.next())null!==(g=h(i,g.value,c))&&(s=o(g,s,m),null===f?l=g:f.sibling=g,f=g);return ia&&Zi(i,m),l}for(v=r(i,v);!g.done;m++,g=u.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),s=o(g,s,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Zi(i,m),l}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===_&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===_){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ka(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===_?((a=Pc(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Oc(o.type,o.key,o.props,null,r.mode,u)).ref=Ka(r,a,o),u.return=r,r=u)}return s(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Uc(o,r.mode,u)).return=r,r=a}return s(r);case R:return e(r,a,(l=o._init)(o._payload),u)}if(te(o))return v(r,a,o,u);if(P(o))return m(r,a,o,u);Ga(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Mc(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var Xa=Ya(!0),Ja=Ya(!1),Za={},$a=Si(Za),eo=Si(Za),to=Si(Za);function no(e){if(e===Za)throw Error(a(174));return e}function ro(e,t){switch(Ii(to,t),Ii(eo,e),Ii($a,Za),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei($a),Ii($a,t)}function io(){Ei($a),Ei(eo),Ei(to)}function ao(e){no(to.current);var t=no($a.current),n=ue(t,e.type);t!==n&&(Ii(eo,e),Ii($a,n))}function oo(e){eo.current===e&&(Ei($a),Ei(eo))}var so=Si(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,ko=!1,bo=0,wo=0;function xo(){throw Error(a(321))}function _o(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function So(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cs,e=n(r,i)}while(ko)}if(fo.current=os,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function Eo(){var e=0!==bo;return bo=0,e}function Io(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function Co(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function To(e,t){return"function"===typeof t?t(e):t}function No(e){var t=Co(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=h,s=r):c=c.next=h,vo.lanes|=f,Lu|=f}l=l.next}while(null!==l&&l!==o);null===c?s=r:c.next=u,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Lu|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ao(e){var t=Co(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(bs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function jo(){}function Ro(e,t){var n=vo,r=Co(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,bs=!0),r=r.queue,Ho(Po.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Fo(9,Oo.bind(null,n,r,i,t),void 0,null),null===Nu)throw Error(a(349));0!==(30&po)||Do(n,t,i)}return i}function Do(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Oo(e,t,n,r){t.value=n,t.getSnapshot=r,Lo(t)&&Mo(e)}function Po(e,t,n){return n((function(){Lo(t)&&Mo(e)}))}function Lo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Mo(e){var t=Na(e,1);null!==t&&nc(t,e,1,-1)}function Uo(e){var t=Io();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:To,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,vo,e),[t.memoizedState,e]}function Fo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vo(){return Co().memoizedState}function Bo(e,t,n,r){var i=Io();vo.flags|=e,i.memoizedState=Fo(1|t,n,void 0,void 0===r?null:r)}function zo(e,t,n,r){var i=Co();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&_o(r,o.deps))return void(i.memoizedState=Fo(t,n,a,r))}vo.flags|=e,i.memoizedState=Fo(1|t,n,a,r)}function qo(e,t){return Bo(8390656,8,e,t)}function Ho(e,t){return zo(2048,8,e,t)}function Wo(e,t){return zo(4,2,e,t)}function Ko(e,t){return zo(4,4,e,t)}function Go(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4,4,Go.bind(null,t,e),n)}function Yo(){}function Xo(e,t){var n=Co();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Jo(e,t){var n=Co();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Zo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),vo.lanes|=n,Lu|=n,e.baseState=!0),t)}function $o(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function es(){return Co().memoizedState}function ts(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Ta(e,t,n,r))){nc(n,e,r,ec()),as(n,t,r)}}function ns(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var u=t.interleaved;return null===u?(i.next=i,Ca(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ta(e,t,i,r))&&(nc(n,e,r,i=ec()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function is(e,t){ko=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var os={readContext:Ea,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},ss={readContext:Ea,useCallback:function(e,t){return Io().memoizedState=[e,void 0===t?null:t],e},useContext:Ea,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4194308,4,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bo(4,2,e,t)},useMemo:function(e,t){var n=Io();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Io();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Io().memoizedState=e},useState:Uo,useDebugValue:Yo,useDeferredValue:function(e){return Io().memoizedState=e},useTransition:function(){var e=Uo(!1),t=e[0];return e=$o.bind(null,e[1]),Io().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Io();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Nu)throw Error(a(349));0!==(30&po)||Do(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Po.bind(null,r,o,e),[e]),r.flags|=2048,Fo(9,Oo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Io(),t=Nu.identifierPrefix;if(ia){var n=Ji;t=":"+t+"R"+(n=(Xi&~(1<<32-ot(Xi)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Ea,useCallback:Xo,useContext:Ea,useEffect:Ho,useImperativeHandle:Qo,useInsertionEffect:Wo,useLayoutEffect:Ko,useMemo:Jo,useReducer:No,useRef:Vo,useState:function(){return No(To)},useDebugValue:Yo,useDeferredValue:function(e){return Zo(Co(),mo.memoizedState,e)},useTransition:function(){return[No(To)[0],Co().memoizedState]},useMutableSource:jo,useSyncExternalStore:Ro,useId:es,unstable_isNewReconciler:!1},cs={readContext:Ea,useCallback:Xo,useContext:Ea,useEffect:Ho,useImperativeHandle:Qo,useInsertionEffect:Wo,useLayoutEffect:Ko,useMemo:Jo,useReducer:Ao,useRef:Vo,useState:function(){return Ao(To)},useDebugValue:Yo,useDeferredValue:function(e){var t=Co();return null===mo?t.memoizedState=e:Zo(t,mo.memoizedState,e)},useTransition:function(){return[Ao(To)[0],Co().memoizedState]},useMutableSource:jo,useSyncExternalStore:Ro,useId:es,unstable_isNewReconciler:!1};function ls(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Da(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hu||(Hu=!0,Wu=r),hs(0,t)},n}function vs(e,t,n){(n=Da(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof r&&(null===Ku?Ku=new Set([this]):Ku.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ec.bind(null,e,t,n),t.then(e,e))}function ys(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gs(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Da(-1,1)).tag=2,Oa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ks=b.ReactCurrentOwner,bs=!1;function ws(e,t,n,r){t.child=null===e?Ja(t,null,n,r):Xa(t,e.child,n,r)}function xs(e,t,n,r,i){n=n.render;var a=t.ref;return Sa(t,i),r=So(e,t,n,r,a,i),n=Eo(),null===e||bs?(ia&&n&&ea(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function _s(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Rc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Oc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ss(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return Hs(e,t,i)}return t.flags|=1,(e=Dc(a,r)).ref=t.ref,e.return=t,t.child=e}function Ss(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Hs(e,t,i);0!==(131072&e.flags)&&(bs=!0)}}return Cs(e,t,n,r,i)}function Es(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ii(Du,Ru),Ru|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ii(Du,Ru),Ru|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ii(Du,Ru),Ru|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ii(Du,Ru),Ru|=r;return ws(e,t,i,n),t.child}function Is(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cs(e,t,n,r,i){var a=Ri(n)?Ai:Ti.current;return a=ji(t,a),Sa(t,i),n=So(e,t,n,r,a,i),r=Eo(),null===e||bs?(ia&&r&&ea(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function Ts(e,t,n,r,i){if(Ri(n)){var a=!0;Li(t)}else a=!1;if(Sa(t,i),null===t.stateNode)qs(e,t),qa(t,n,r),Wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ea(c):c=ji(t,c=Ri(n)?Ai:Ti.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&Ha(t,o,r,c),Aa=!1;var h=t.memoizedState;o.state=h,Ma(t,r,o,i),u=t.memoizedState,s!==r||h!==u||Ni.current||Aa?("function"===typeof l&&(Va(t,n,l,r),u=t.memoizedState),(s=Aa||za(t,n,s,r,h,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ra(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ma(t.type,s),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=Ea(u):u=ji(t,u=Ri(n)?Ai:Ti.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&Ha(t,o,r,u),Aa=!1,h=t.memoizedState,o.state=h,Ma(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||Ni.current||Aa?("function"===typeof d&&(Va(t,n,d,r),p=t.memoizedState),(c=Aa||za(t,n,c,r,h,p,u)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ns(e,t,n,r,a,i)}function Ns(e,t,n,r,i,a){Is(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Mi(t,n,!1),Hs(e,t,a);r=t.stateNode,ks.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Xa(t,e.child,null,a),t.child=Xa(t,null,s,a)):ws(e,t,s,a),t.memoizedState=r.state,i&&Mi(t,n,!0),t.child}function As(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),ro(e,t.containerInfo)}function js(e,t,n,r,i){return da(),pa(i),t.flags|=256,ws(e,t,n,r),t.child}var Rs,Ds,Os,Ps={dehydrated:null,treeContext:null,retryLane:0};function Ls(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ms(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ii(so,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Lc(u,i,0,null),e=Pc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ls(n),t.memoizedState=Ps,e):Us(t,u));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Fs(e,t,s,r=fs(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Lc({mode:"visible",children:r.children},i,0,null),(o=Pc(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Xa(t,e.child,null,s),t.child.memoizedState=Ls(s),t.memoizedState=Ps,o);if(0===(1&t.mode))return Fs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Fs(e,t,s,r=fs(o=Error(a(419)),r,void 0))}if(u=0!==(s&e.childLanes),bs||u){if(null!==(r=Nu)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Na(e,i),nc(r,e,i,-1))}return vc(),Fs(e,t,s,r=fs(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Gi[Qi++]=Xi,Gi[Qi++]=Ji,Gi[Qi++]=Yi,Xi=e.id,Ji=e.overflow,Yi=t),(t=Us(t,r.children)).flags|=4096,t)}(e,t,u,i,r,o,n);if(s){s=i.fallback,u=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Dc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Dc(r,s):(s=Pc(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Ls(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ps,i}return e=(s=e.child).sibling,i=Dc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Us(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fs(e,t,n,r){return null!==r&&pa(r),Xa(t,e.child,null,n),(e=Us(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),_a(e.return,t,n)}function Bs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function zs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vs(e,n,t);else if(19===e.tag)Vs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ii(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bs(t,!0,n,null,a);break;case"together":Bs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Lu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ws(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ks(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gs(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ks(t),null;case 1:case 17:return Ri(t.type)&&Di(),Ks(t),null;case 3:return r=t.stateNode,io(),Ei(Ni),Ei(Ti),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(oc(aa),aa=null))),Ks(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ds(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Ks(t),null}if(e=no($a.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<Pr.length;i++)Fr(Pr[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":X(r,o),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Fr("invalid",r);break;case"textarea":ie(r,o),Fr("invalid",r)}for(var u in ge(n,o),i=null,o)if(o.hasOwnProperty(u)){var c=o[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Fr("scroll",r)}switch(n){case"input":K(r),$(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=$r)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[hi]=t,e[di]=r,Rs(e,t),t.stateNode=e;e:{switch(u=ke(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),i=r;break;case"iframe":case"object":case"embed":Fr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Pr.length;i++)Fr(Pr[i],e);i=r;break;case"source":Fr("error",e),i=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),i=r;break;case"details":Fr("toggle",e),i=r;break;case"input":X(e,r),i=Y(e,r),Fr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Fr("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Fr("scroll",e):null!=l&&k(e,o,l,u))}switch(n){case"input":K(e),$(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ks(t),null;case 6:if(e&&null!=t.stateNode)Os(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no($a.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Zr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ks(t),null;case 13:if(Ei(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ks(t),o=!1}else null!==aa&&(oc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Ou&&(Ou=3):vc())),null!==t.updateQueue&&(t.flags|=4),Ks(t),null);case 4:return io(),null===e&&zr(t.stateNode.containerInfo),Ks(t),null;case 10:return xa(t.type._context),Ks(t),null;case 19:if(Ei(so),null===(o=t.memoizedState))return Ks(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)Ws(o,!1);else{if(0!==Ou||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=uo(e))){for(t.flags|=128,Ws(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ii(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Je()>zu&&(t.flags|=128,r=!0,Ws(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ws(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!ia)return Ks(t),null}else 2*Je()-o.renderingStartTime>zu&&1073741824!==n&&(t.flags|=128,r=!0,Ws(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Je(),t.sibling=null,n=so.current,Ii(so,r?1&n|2:1&n),t):(Ks(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ru)&&(Ks(t),6&t.subtreeFlags&&(t.flags|=8192)):Ks(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Qs(e,t){switch(ta(t),t.tag){case 1:return Ri(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ei(Ni),Ei(Ti),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ei(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(so),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Rs=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ds=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no($a.current);var a,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=$r)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Fr("scroll",e),o||u===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Os=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ys=!1,Xs=!1,Js="function"===typeof WeakSet?WeakSet:Set,Zs=null;function $s(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sc(e,t,r)}else n.current=null}function eu(e,t,n){try{n()}catch(r){Sc(e,t,r)}}var tu=!1;function nu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&eu(t,n,a)}i=i.next}while(i!==r)}}function ru(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function iu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function au(e){var t=e.alternate;null!==t&&(e.alternate=null,au(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ou(e){return 5===e.tag||3===e.tag||4===e.tag}function su(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ou(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function uu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(uu(e,t,n),e=e.sibling;null!==e;)uu(e,t,n),e=e.sibling}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}var lu=null,fu=!1;function hu(e,t,n){for(n=n.child;null!==n;)du(e,t,n),n=n.sibling}function du(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Xs||$s(n,t);case 6:var r=lu,i=fu;lu=null,hu(e,t,n),fu=i,null!==(lu=r)&&(fu?(e=lu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):lu.removeChild(n.stateNode));break;case 18:null!==lu&&(fu?(e=lu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),zt(e)):ui(lu,n.stateNode));break;case 4:r=lu,i=fu,lu=n.stateNode.containerInfo,fu=!0,hu(e,t,n),lu=r,fu=i;break;case 0:case 11:case 14:case 15:if(!Xs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&eu(n,t,o),i=i.next}while(i!==r)}hu(e,t,n);break;case 1:if(!Xs&&($s(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Sc(n,t,s)}hu(e,t,n);break;case 21:hu(e,t,n);break;case 22:1&n.mode?(Xs=(r=Xs)||null!==n.memoizedState,hu(e,t,n),Xs=r):hu(e,t,n);break;default:hu(e,t,n)}}function pu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Js),t.forEach((function(t){var r=Tc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:lu=u.stateNode,fu=!1;break e;case 3:case 4:lu=u.stateNode.containerInfo,fu=!0;break e}u=u.return}if(null===lu)throw Error(a(160));du(o,s,i),lu=null,fu=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Sc(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)mu(t,e),t=t.sibling}function mu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vu(t,e),yu(e),4&r){try{nu(3,e,e.return),ru(3,e)}catch(m){Sc(e,e.return,m)}try{nu(5,e,e.return)}catch(m){Sc(e,e.return,m)}}break;case 1:vu(t,e),yu(e),512&r&&null!==n&&$s(n,n.return);break;case 5:if(vu(t,e),yu(e),512&r&&null!==n&&$s(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Sc(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===o.type&&null!=o.name&&J(i,o),ke(u,s);var l=ke(u,o);for(s=0;s<c.length;s+=2){var f=c[s],h=c[s+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(u){case"input":Z(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Sc(e,e.return,m)}}break;case 6:if(vu(t,e),yu(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Sc(e,e.return,m)}}break;case 3:if(vu(t,e),yu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(m){Sc(e,e.return,m)}break;case 4:default:vu(t,e),yu(e);break;case 13:vu(t,e),yu(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bu=Je())),4&r&&pu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Xs=(l=Xs)||f,vu(t,e),Xs=l):vu(t,e),yu(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Zs=e,f=e.child;null!==f;){for(h=Zs=f;null!==Zs;){switch(p=(d=Zs).child,d.tag){case 0:case 11:case 14:case 15:nu(4,d,d.return);break;case 1:$s(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Sc(r,n,m)}}break;case 5:$s(d,d.return);break;case 22:if(null!==d.memoizedState){wu(h);continue}}null!==p?(p.return=d,Zs=p):wu(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=ve("display",s))}catch(m){Sc(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){Sc(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vu(t,e),yu(e),4&r&&pu(e);case 21:}}function yu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ou(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cu(e,su(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;uu(e,su(e),o);break;default:throw Error(a(161))}}catch(s){Sc(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gu(e,t,n){Zs=e,ku(e,t,n)}function ku(e,t,n){for(var r=0!==(1&e.mode);null!==Zs;){var i=Zs,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Ys;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Xs;s=Ys;var c=Xs;if(Ys=o,(Xs=u)&&!c)for(Zs=i;null!==Zs;)u=(o=Zs).child,22===o.tag&&null!==o.memoizedState?xu(i):null!==u?(u.return=o,Zs=u):xu(i);for(;null!==a;)Zs=a,ku(a,t,n),a=a.sibling;Zs=i,Ys=s,Xs=c}bu(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Zs=a):bu(e)}}function bu(e){for(;null!==Zs;){var t=Zs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xs||ru(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Ua(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ua(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(a(163))}Xs||512&t.flags&&iu(t)}catch(d){Sc(t,t.return,d)}}if(t===e){Zs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zs=n;break}Zs=t.return}}function wu(e){for(;null!==Zs;){var t=Zs;if(t===e){Zs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zs=n;break}Zs=t.return}}function xu(e){for(;null!==Zs;){var t=Zs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ru(4,t)}catch(u){Sc(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Sc(t,i,u)}}var a=t.return;try{iu(t)}catch(u){Sc(t,a,u)}break;case 5:var o=t.return;try{iu(t)}catch(u){Sc(t,o,u)}}}catch(u){Sc(t,t.return,u)}if(t===e){Zs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Zs=s;break}Zs=t.return}}var _u,Su=Math.ceil,Eu=b.ReactCurrentDispatcher,Iu=b.ReactCurrentOwner,Cu=b.ReactCurrentBatchConfig,Tu=0,Nu=null,Au=null,ju=0,Ru=0,Du=Si(0),Ou=0,Pu=null,Lu=0,Mu=0,Uu=0,Fu=null,Vu=null,Bu=0,zu=1/0,qu=null,Hu=!1,Wu=null,Ku=null,Gu=!1,Qu=null,Yu=0,Xu=0,Ju=null,Zu=-1,$u=0;function ec(){return 0!==(6&Tu)?Je():-1!==Zu?Zu:Zu=Je()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Tu)&&0!==ju?ju&-ju:null!==va.transition?(0===$u&&($u=vt()),$u):0!==(e=kt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function nc(e,t,n,r){if(50<Xu)throw Xu=0,Ju=null,Error(a(185));yt(e,n,r),0!==(2&Tu)&&e===Nu||(e===Nu&&(0===(2&Tu)&&(Mu|=n),4===Ou&&sc(e,ju)),rc(e,r),1===n&&0===Tu&&0===(1&t.mode)&&(zu=Je()+500,Fi&&zi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=dt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ht(e,e===Nu?ju:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Fi=!0,Bi(e)}(uc.bind(null,e)):Bi(uc.bind(null,e)),oi((function(){0===(6&Tu)&&zi()})),n=null;else{switch(bt(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Zu=-1,$u=0,0!==(6&Tu))throw Error(a(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=ht(e,e===Nu?ju:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var i=Tu;Tu|=2;var o=pc();for(Nu===e&&ju===t||(qu=null,zu=Je()+500,hc(e,t));;)try{gc();break}catch(u){dc(e,u)}wa(),Eu.current=o,Tu=i,null!==Au?t=0:(Nu=null,ju=0,t=Ou)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Pu,hc(e,0),sc(e,r),rc(e,Je()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ac(e,o))),1===t))throw n=Pu,hc(e,0),sc(e,r),rc(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,Vu,qu);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Bu+500-Je())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,Vu,qu),t);break}wc(e,Vu,qu);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Su(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,Vu,qu),r);break}wc(e,Vu,qu);break;default:throw Error(a(329))}}}return rc(e,Je()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=Fu;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=Vu,Vu=n,null!==t&&oc(t)),e}function oc(e){null===Vu?Vu=e:Vu.push.apply(Vu,e)}function sc(e,t){for(t&=~Uu,t&=~Mu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function uc(e){if(0!==(6&Tu))throw Error(a(327));xc();var t=ht(e,0);if(0===(1&t))return rc(e,Je()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Pu,hc(e,0),sc(e,t),rc(e,Je()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Vu,qu),rc(e,Je()),null}function cc(e,t){var n=Tu;Tu|=1;try{return e(t)}finally{0===(Tu=n)&&(zu=Je()+500,Fi&&zi())}}function lc(e){null!==Qu&&0===Qu.tag&&0===(6&Tu)&&xc();var t=Tu;Tu|=1;var n=Cu.transition,r=kt;try{if(Cu.transition=null,kt=1,e)return e()}finally{kt=r,Cu.transition=n,0===(6&(Tu=t))&&zi()}}function fc(){Ru=Du.current,Ei(Du)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Au)for(n=Au.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:io(),Ei(Ni),Ei(Ti),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ei(so);break;case 10:xa(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Nu=e,Au=e=Dc(e.current,null),ju=Ru=t,Ou=0,Pu=null,Uu=Mu=Lu=0,Vu=Fu=null,null!==Ia){for(t=0;t<Ia.length;t++)if(null!==(r=(n=Ia[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ia=null}return e}function dc(e,t){for(;;){var n=Au;try{if(wa(),fo.current=os,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,ko=!1,bo=0,Iu.current=null,null===n||null===n.return){Ou=1,Pu=t,Au=null;break}e:{var o=e,s=n.return,u=n,c=t;if(t=ju,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=u,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=ys(s);if(null!==p){p.flags&=-257,gs(p,s,u,0,t),1&p.mode&&ms(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){ms(o,l,t),vc();break e}c=Error(a(426))}else if(ia&&1&u.mode){var y=ys(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gs(y,s,u,0,t),pa(ls(c,u));break e}}o=c=ls(c,u),4!==Ou&&(Ou=2),null===Fu?Fu=[o]:Fu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,La(o,ps(0,c,t));break e;case 1:u=c;var g=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Ku||!Ku.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,La(o,vs(o,u,t));break e}}o=o.return}while(null!==o)}bc(n)}catch(b){t=b,Au===n&&null!==n&&(Au=n=n.return);continue}break}}function pc(){var e=Eu.current;return Eu.current=os,null===e?os:e}function vc(){0!==Ou&&3!==Ou&&2!==Ou||(Ou=4),null===Nu||0===(268435455&Lu)&&0===(268435455&Mu)||sc(Nu,ju)}function mc(e,t){var n=Tu;Tu|=2;var r=pc();for(Nu===e&&ju===t||(qu=null,hc(e,t));;)try{yc();break}catch(i){dc(e,i)}if(wa(),Tu=n,Eu.current=r,null!==Au)throw Error(a(261));return Nu=null,ju=0,Ou}function yc(){for(;null!==Au;)kc(Au)}function gc(){for(;null!==Au&&!Ye();)kc(Au)}function kc(e){var t=_u(e.alternate,e,Ru);e.memoizedProps=e.pendingProps,null===t?bc(e):Au=t,Iu.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Gs(n,t,Ru)))return void(Au=n)}else{if(null!==(n=Qs(n,t)))return n.flags&=32767,void(Au=n);if(null===e)return Ou=6,void(Au=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Au=t);Au=t=e}while(null!==t);0===Ou&&(Ou=5)}function wc(e,t,n){var r=kt,i=Cu.transition;try{Cu.transition=null,kt=1,function(e,t,n,r){do{xc()}while(null!==Qu);if(0!==(6&Tu))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Nu&&(Au=Nu=null,ju=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gu||(Gu=!0,Nc(tt,(function(){return xc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Cu.transition,Cu.transition=null;var s=kt;kt=1;var u=Tu;Tu|=4,Iu.current=null,function(e,t){if(ei=Ht,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var s=0,u=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(u=s+i),h!==o||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(u=s),d===o&&++f===r&&(c=s),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Zs=t;null!==Zs;)if(e=(t=Zs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zs=e;else for(;null!==Zs;){t=Zs;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){Sc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Zs=e;break}Zs=t.return}v=tu,tu=!1}(e,n),mu(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,gu(n,e,i),Xe(),Tu=u,kt=s,Cu.transition=o}else e.current=n;if(Gu&&(Gu=!1,Qu=e,Yu=i),0===(o=e.pendingLanes)&&(Ku=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Hu)throw Hu=!1,e=Wu,Wu=null,e;0!==(1&Yu)&&0!==e.tag&&xc(),0!==(1&(o=e.pendingLanes))?e===Ju?Xu++:(Xu=0,Ju=e):Xu=0,zi()}(e,t,n,r)}finally{Cu.transition=i,kt=r}return null}function xc(){if(null!==Qu){var e=bt(Yu),t=Cu.transition,n=kt;try{if(Cu.transition=null,kt=16>e?16:e,null===Qu)var r=!1;else{if(e=Qu,Qu=null,Yu=0,0!==(6&Tu))throw Error(a(331));var i=Tu;for(Tu|=4,Zs=e.current;null!==Zs;){var o=Zs,s=o.child;if(0!==(16&Zs.flags)){var u=o.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(Zs=l;null!==Zs;){var f=Zs;switch(f.tag){case 0:case 11:case 15:nu(8,f,o)}var h=f.child;if(null!==h)h.return=f,Zs=h;else for(;null!==Zs;){var d=(f=Zs).sibling,p=f.return;if(au(f),f===l){Zs=null;break}if(null!==d){d.return=p,Zs=d;break}Zs=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Zs=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Zs=s;else e:for(;null!==Zs;){if(0!==(2048&(o=Zs).flags))switch(o.tag){case 0:case 11:case 15:nu(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Zs=g;break e}Zs=o.return}}var k=e.current;for(Zs=k;null!==Zs;){var b=(s=Zs).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,Zs=b;else e:for(s=k;null!==Zs;){if(0!==(2048&(u=Zs).flags))try{switch(u.tag){case 0:case 11:case 15:ru(9,u)}}catch(x){Sc(u,u.return,x)}if(u===s){Zs=null;break e}var w=u.sibling;if(null!==w){w.return=u.return,Zs=w;break e}Zs=u.return}}if(Tu=i,zi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{kt=n,Cu.transition=t}}return!1}function _c(e,t,n){e=Oa(e,t=ps(0,t=ls(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function Sc(e,t,n){if(3===e.tag)_c(e,e,n);else for(;null!==t;){if(3===t.tag){_c(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ku||!Ku.has(r))){t=Oa(t,e=vs(t,e=ls(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function Ec(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Nu===e&&(ju&n)===n&&(4===Ou||3===Ou&&(130023424&ju)===ju&&500>Je()-Bu?hc(e,0):Uu|=n),rc(e,t)}function Ic(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=Na(e,t))&&(yt(e,t,n),rc(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ic(e,n)}function Tc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Ic(e,n)}function Nc(e,t){return Ge(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jc(e,t,n,r){return new Ac(e,t,n,r)}function Rc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=jc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Oc(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Rc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case _:return Pc(n.children,i,o,t);case S:s=8,i|=8;break;case E:return(e=jc(12,n,t,2|i)).elementType=E,e.lanes=o,e;case N:return(e=jc(13,n,t,i)).elementType=N,e.lanes=o,e;case A:return(e=jc(19,n,t,i)).elementType=A,e.lanes=o,e;case D:return Lc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case I:s=10;break e;case C:s=9;break e;case T:s=11;break e;case j:s=14;break e;case R:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=jc(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Pc(e,t,n,r){return(e=jc(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=jc(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function Mc(e,t,n){return(e=jc(6,e,null,t)).lanes=n,e}function Uc(e,t,n){return(t=jc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,i,a,o,s,u){return e=new Fc(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=jc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ja(a),e}function Bc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function zc(e){if(!e)return Ci;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ri(n))return Pi(e,n,t)}return t}function qc(e,t,n,r,i,a,o,s,u){return(e=Vc(n,r,!0,e,0,a,0,s,u)).context=zc(null),n=e.current,(a=Da(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Oa(n,a,i),e.current.lanes=i,yt(e,i,r),rc(e,r),e}function Hc(e,t,n,r){var i=t.current,a=ec(),o=tc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Da(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Oa(i,t,o))&&(nc(e,i,o,a),Pa(e,i,o)),o}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}_u=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)bs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:As(t),da();break;case 5:ao(t);break;case 1:Ri(t.type)&&Li(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ii(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ii(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ms(e,t,n):(Ii(so,1&so.current),null!==(e=Hs(e,t,n))?e.sibling:null);Ii(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return zs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ii(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,Es(e,t,n)}return Hs(e,t,n)}(e,t,n);bs=0!==(131072&e.flags)}else bs=!1,ia&&0!==(1048576&t.flags)&&$i(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qs(e,t),e=t.pendingProps;var i=ji(t,Ti.current);Sa(t,n),i=So(null,t,r,e,i,n);var o=Eo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(o=!0,Li(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ja(t),i.updater=Ba,t.stateNode=i,i._reactInternals=t,Wa(t,r,e,n),t=Ns(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Rc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===j)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Cs(null,t,r,e,n);break e;case 1:t=Ts(null,t,r,e,n);break e;case 11:t=xs(null,t,r,e,n);break e;case 14:t=_s(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Cs(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ts(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(As(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Ra(e,t),Ma(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=js(e,t,r,n,i=ls(Error(a(423)),t));break e}if(r!==i){t=js(e,t,r,n,i=ls(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Ja(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Hs(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Is(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Ms(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Xa(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xs(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ii(ya,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ni.current){t=Hs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Da(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),_a(o.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),_a(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Sa(t,n),r=r(i=Ea(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),_s(e,t,r,i=ma(r.type,i),n);case 15:return Ss(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),qs(e,t),t.tag=1,Ri(r)?(e=!0,Li(t)):e=!1,Sa(t,n),qa(t,r,i),Wa(t,r,i,n),Ns(null,t,r,!0,e,n);case 19:return zs(e,t,n);case 22:return Es(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $c(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Wc(o);s.call(e)}}Hc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Wc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",$c);return e._reactRootContainer=o,e[pi]=o.current,zr(8===e.nodeType?e.parentNode:e),lc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Wc(u);s.call(e)}}var u=Vc(e,0,!1,null,0,!1,0,"",$c);return e._reactRootContainer=u,e[pi]=u.current,zr(8===e.nodeType?e.parentNode:e),lc((function(){Hc(t,u,n,r)})),u}(n,t,e,i,r);return Wc(o)}Xc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Hc(e,t,null,null)},Xc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){Hc(null,e,null,null)})),t[pi]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Mt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),rc(t,Je()),0===(6&Tu)&&(zu=Je()+500,zi()))}break;case 13:lc((function(){var t=Na(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Gc(e,1)}},xt=function(e){if(13===e.tag){var t=Na(e,134217728);if(null!==t)nc(t,e,134217728,ec());Gc(e,134217728)}},_t=function(e){if(13===e.tag){var t=tc(e),n=Na(e,t);if(null!==n)nc(n,e,t,ec());Gc(e,t)}},St=function(){return kt},Et=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},xe=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));G(r),Z(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=cc,Ne=lc;var tl={usingClientEntryPoint:!1,Events:[ki,bi,wi,Ie,Ce,cc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(a(200));return Bc(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Zc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xc(t)},t.render=function(e,t,n){if(!Zc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zc(e))throw Error(a(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:s.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=k.prototype=new g;b.constructor=k,v(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,_={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:_.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+T(u,0):a,w(o)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(I(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(C,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+T(s=e[c],c);u+=N(s,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=N(s=s.value,t,i,l=a+T(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function j(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},D={transition:null},O={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:D,ReactCurrentOwner:_};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)x.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:j}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>a(u,n))c<i&&0>a(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,D(x);else{var t=r(l);null!==t&&O(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,g(I),I=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!N());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var u=!0;else{var f=r(l);null!==f&&O(w,f.startTime-n),u=!1}return u}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,S=!1,E=null,I=-1,C=5,T=-1;function N(){return!(t.unstable_now()-T<C)}function A(){if(null!==E){var e=t.unstable_now();T=e;var n=!0;try{n=E(!0,e)}finally{n?_():(S=!1,E=null)}}else S=!1}if("function"===typeof k)_=function(){k(A)};else if("undefined"!==typeof MessageChannel){var j=new MessageChannel,R=j.port2;j.port1.onmessage=A,_=function(){R.postMessage(null)}}else _=function(){y(A,0)};function D(e){E=e,S||(S=!0,_())}function O(e,n){I=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,D(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(I),I=-1):m=!0,O(w,a-o))):(e.sortIndex=s,n(c,e),v||p||(v=!0,D(x))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},404:function(e,t,n){var r=n(861).default,i=n(728).default,a=n(690).default,o=n(993).default,s=n(115).default,u=n(655).default,c=n(389).default,l=n(496).default,f=n(704).default,h=function(){var e=Object.defineProperty,t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable,d=function(t,n,r){return n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r},p=function(e,r){for(var i in r||(r={}))n.call(r,i)&&d(e,i,r[i]);if(t){var a,o=f(t(r));try{for(o.s();!(a=o.n()).done;){i=a.value;h.call(r,i)&&d(e,i,r[i])}}catch(s){o.e(s)}finally{o.f()}}return e},v={};!function(t,n){for(var r in function(t){e(t,"__esModule",{value:!0})}(t),n)e(t,r,{get:n[r],enumerable:!0})}(v,{DEFAULT_UUID_LENGTH:function(){return y},default:function(){return b}});var m="4.4.4",y=6,g={dictionary:"alphanum",shuffle:!0,debug:!1,length:y},k=function(e){"use strict";u(n,e);var t=c(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a(this,n),(e=t.call(this)).dictIndex=0,e.dictRange=[],e.lowerBound=0,e.upperBound=0,e.dictLength=0,e._digit_first_ascii=48,e._digit_last_ascii=58,e._alpha_lower_first_ascii=97,e._alpha_lower_last_ascii=123,e._hex_last_ascii=103,e._alpha_upper_first_ascii=65,e._alpha_upper_last_ascii=91,e._number_dict_ranges={digits:[e._digit_first_ascii,e._digit_last_ascii]},e._alpha_dict_ranges={lowerCase:[e._alpha_lower_first_ascii,e._alpha_lower_last_ascii],upperCase:[e._alpha_upper_first_ascii,e._alpha_upper_last_ascii]},e._alpha_lower_dict_ranges={lowerCase:[e._alpha_lower_first_ascii,e._alpha_lower_last_ascii]},e._alpha_upper_dict_ranges={upperCase:[e._alpha_upper_first_ascii,e._alpha_upper_last_ascii]},e._alphanum_dict_ranges={digits:[e._digit_first_ascii,e._digit_last_ascii],lowerCase:[e._alpha_lower_first_ascii,e._alpha_lower_last_ascii],upperCase:[e._alpha_upper_first_ascii,e._alpha_upper_last_ascii]},e._alphanum_lower_dict_ranges={digits:[e._digit_first_ascii,e._digit_last_ascii],lowerCase:[e._alpha_lower_first_ascii,e._alpha_lower_last_ascii]},e._alphanum_upper_dict_ranges={digits:[e._digit_first_ascii,e._digit_last_ascii],upperCase:[e._alpha_upper_first_ascii,e._alpha_upper_last_ascii]},e._hex_dict_ranges={decDigits:[e._digit_first_ascii,e._digit_last_ascii],alphaDigits:[e._alpha_lower_first_ascii,e._hex_last_ascii]},e.log=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var a,o=[].concat(n);if((o[0]="[short-unique-id] ".concat(n[0]),!0===e.debug)&&("undefined"!==typeof console&&null!==console))return(a=console).log.apply(a,r(o))},e.setDictionary=function(t,n){var r;if(t&&Array.isArray(t)&&t.length>1)r=t;else{var i;r=[],e.dictIndex=i=0;var a="_".concat(t,"_dict_ranges"),o=e[a];Object.keys(o).forEach((function(t){var n=t;for(e.dictRange=o[n],e.lowerBound=e.dictRange[0],e.upperBound=e.dictRange[1],e.dictIndex=i=e.lowerBound;e.lowerBound<=e.upperBound?i<e.upperBound:i>e.upperBound;e.dictIndex=e.lowerBound<=e.upperBound?i+=1:i-=1)r.push(String.fromCharCode(e.dictIndex))}))}if(n){r=r.sort((function(){return Math.random()-.5}))}e.dict=r,e.dictLength=e.dict.length,e.counter=0},e.seq=function(){return e.sequentialUUID()},e.sequentialUUID=function(){var t,n,r="";t=e.counter;do{n=t%e.dictLength,t=Math.trunc(t/e.dictLength),r+=e.dict[n]}while(0!==t);return e.counter+=1,r},e.randomUUID=function(){var t,n,r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.uuidLength||y;if(null===i||"undefined"===typeof i||i<1)throw new Error("Invalid UUID Length Provided");for(t="",r=0;r<i;r+=1)n=parseInt((Math.random()*e.dictLength).toFixed(0),10)%e.dictLength,t+=e.dict[n];return t},e.availableUUIDs=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.uuidLength;return parseFloat(Math.pow(r(new Set(e.dict)).length,t).toFixed(0))},e.approxMaxBeforeCollision=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.availableUUIDs(e.uuidLength);return parseFloat(Math.sqrt(Math.PI/2*t).toFixed(20))},e.collisionProbability=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.availableUUIDs(e.uuidLength),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.uuidLength;return parseFloat((e.approxMaxBeforeCollision(t)/e.availableUUIDs(n)).toFixed(20))},e.uniqueness=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.availableUUIDs(e.uuidLength),n=parseFloat((1-e.approxMaxBeforeCollision(t)/t).toFixed(20));return n>1?1:n<0?0:n},e.getVersion=function(){return e.version},e.stamp=function(t){if("number"!==typeof t||t<10)throw new Error("Param finalLength must be number greater than 10");var n=Math.floor(+new Date/1e3).toString(16),r=t-9,i=Math.round(Math.random()*(r>15?15:r)),a=e.randomUUID(r);return"".concat(a.substr(0,i)).concat(n).concat(a.substr(i)).concat(i.toString(16))},e.parseStamp=function(e){if(e.length<10)throw new Error("Stamp length invalid");var t=parseInt(e.substr(e.length-1,1),16);return new Date(1e3*parseInt(e.substr(t,8),16))};var u=p(p({},g),i);e.counter=0,e.debug=!1,e.dict=[],e.version=m;var c=u.dictionary,l=u.shuffle,f=u.length;return e.uuidLength=f,e.setDictionary(c,l),e.debug=u.debug,e.log(e.dict),e.log("Generator instantiated with Dictionary Size ".concat(e.dictLength)),o(e,new Proxy(s(e),{apply:function(t,n,i){var a;return(a=e).randomUUID.apply(a,r(i))}}))}return i(n)}(l(Function)),b=k;return b.default=k,v}();e.exports=h.default,"undefined"!=typeof window&&(h=h.default)},897:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},405:function(e,t,n){var r=n(897);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},115:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},690:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},515:function(e,t,n){var r=n(15),i=n(617);function a(t,n,o){return i()?(e.exports=a=Reflect.construct.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=a=function(e,t,n){var i=[null];i.push.apply(i,t);var a=new(Function.bind.apply(e,i));return n&&r(a,n.prototype),a},e.exports.__esModule=!0,e.exports.default=e.exports),a.apply(null,arguments)}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports},728:function(e){function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},704:function(e,t,n){var r=n(116);e.exports=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=r(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}},e.exports.__esModule=!0,e.exports.default=e.exports},389:function(e,t,n){var r=n(808),i=n(617),a=n(993);e.exports=function(e){var t=i();return function(){var n,i=r(e);if(t){var o=r(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return a(this,n)}},e.exports.__esModule=!0,e.exports.default=e.exports},808:function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},655:function(e,t,n){var r=n(15);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},35:function(e){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")},e.exports.__esModule=!0,e.exports.default=e.exports},617:function(e){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},498:function(e){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},281:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},993:function(e,t,n){var r=n(698).default,i=n(115);e.exports=function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},15:function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},861:function(e,t,n){var r=n(405),i=n(498),a=n(116),o=n(281);e.exports=function(e){return r(e)||i(e)||a(e)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},698:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},116:function(e,t,n){var r=n(897);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},496:function(e,t,n){var r=n(808),i=n(15),a=n(35),o=n(515);function s(t){var n="function"===typeof Map?new Map:void 0;return e.exports=s=function(e){if(null===e||!a(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return o(e,arguments,r(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i(t,e)},e.exports.__esModule=!0,e.exports.default=e.exports,s(t)}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",function(){"use strict";var e,t=n(791),r=n(250);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){if(e){if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));var u=function(e){return e};var c="beforeunload",l="popstate";function f(e){e.preventDefault(),e.returnValue=""}function h(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function d(){return Math.random().toString(36).substr(2,8)}function p(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function v(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var m=(0,t.createContext)(null);var y=(0,t.createContext)(null);var g=(0,t.createContext)({outlet:null,matches:[]});function k(e,t){if(!e)throw new Error(t)}function b(e,t,n){void 0===n&&(n="/");var r=T(("string"===typeof t?v(t):t).pathname||"/",n);if(null==r)return null;var i=w(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=E(i[o],r);return a}function w(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||k(!1),a.relativePath=a.relativePath.slice(r.length));var o=N([r,a.relativePath]),s=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&k(!1),w(e.children,t,s,o)),(null!=e.path||e.index)&&t.push({path:o,score:S(o,e.index),routesMeta:s})})),t}var x=/^:\w+$/,_=function(e){return"*"===e};function S(e,t){var n=e.split("/"),r=n.length;return n.some(_)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!_(e)})).reduce((function(e,t){return e+(x.test(t)?3:""===t?1:10)}),r)}function E(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=I({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var f=s.route;a.push({params:r,pathname:N([i,l.pathname]),pathnameBase:A(N([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=N([i,l.pathnameBase]))}return a}function I(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=o(n,2),i=r[0],a=r[1],s=t.match(i);if(!s)return null;var u=s[0],c=u.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";c=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(l[n]||""),e}),{}),pathname:u,pathnameBase:c,pattern:e}}function C(e,t,n){var r,i="string"===typeof e?v(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{var o=t.length-1;if(a.startsWith("..")){for(var s=a.split("/");".."===s[0];)s.shift(),o-=1;i.pathname=s.join("/")}r=o>=0?t[o]:"/"}var u=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?v(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:j(a),hash:R(s)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!u.pathname.endsWith("/")&&(u.pathname+="/"),u}function T(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var N=function(e){return e.join("/").replace(/\/\/+/g,"/")},A=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},j=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},R=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function D(e){O()||k(!1);var n=(0,t.useContext)(m),r=n.basename,i=n.navigator,a=U(e),o=a.hash,s=a.pathname,u=a.search,c=s;if("/"!==r){var l=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?v(e).pathname:e.pathname}(e),f=null!=l&&l.endsWith("/");c="/"===s?r+(f?"/":""):N([r,s])}return i.createHref({pathname:c,search:u,hash:o})}function O(){return null!=(0,t.useContext)(y)}function P(){return O()||k(!1),(0,t.useContext)(y).location}function L(){O()||k(!1);var e=(0,t.useContext)(m),n=e.basename,r=e.navigator,i=(0,t.useContext)(g).matches,a=P().pathname,o=JSON.stringify(i.map((function(e){return e.pathnameBase}))),s=(0,t.useRef)(!1);(0,t.useEffect)((function(){s.current=!0}));var u=(0,t.useCallback)((function(e,t){if(void 0===t&&(t={}),s.current)if("number"!==typeof e){var i=C(e,JSON.parse(o),a);"/"!==n&&(i.pathname=N([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state)}else r.go(e)}),[n,r,o,a]);return u}function M(){var e=(0,t.useContext)(g).matches,n=e[e.length-1];return n?n.params:{}}function U(e){var n=(0,t.useContext)(g).matches,r=P().pathname,i=JSON.stringify(n.map((function(e){return e.pathnameBase})));return(0,t.useMemo)((function(){return C(e,JSON.parse(i),r)}),[e,i,r])}function F(e,n){return void 0===n&&(n=[]),null==e?null:e.reduceRight((function(r,i,a){return(0,t.createElement)(g.Provider,{children:void 0!==i.route.element?i.route.element:r,value:{outlet:r,matches:n.concat(e.slice(0,a+1))}})}),null)}function V(e){k(!1)}function B(n){var r=n.basename,i=void 0===r?"/":r,a=n.children,o=void 0===a?null:a,s=n.location,u=n.navigationType,c=void 0===u?e.Pop:u,l=n.navigator,f=n.static,h=void 0!==f&&f;O()&&k(!1);var d=A(i),p=(0,t.useMemo)((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof s&&(s=v(s));var g=s,b=g.pathname,w=void 0===b?"/":b,x=g.search,_=void 0===x?"":x,S=g.hash,E=void 0===S?"":S,I=g.state,C=void 0===I?null:I,N=g.key,j=void 0===N?"default":N,R=(0,t.useMemo)((function(){var e=T(w,d);return null==e?null:{pathname:e,search:_,hash:E,state:C,key:j}}),[d,w,_,E,C,j]);return null==R?null:(0,t.createElement)(m.Provider,{value:p},(0,t.createElement)(y.Provider,{children:o,value:{location:R,navigationType:c}}))}function z(e){var n=e.children,r=e.location;return function(e,n){O()||k(!1);var r,i=(0,t.useContext)(g).matches,a=i[i.length-1],o=a?a.params:{},s=(a&&a.pathname,a?a.pathnameBase:"/"),u=(a&&a.route,P());if(n){var c,l="string"===typeof n?v(n):n;"/"===s||(null==(c=l.pathname)?void 0:c.startsWith(s))||k(!1),r=l}else r=u;var f=r.pathname||"/",h=b(e,{pathname:"/"===s?f:f.slice(s.length)||"/"});return F(h&&h.map((function(e){return Object.assign({},e,{params:Object.assign({},o,e.params),pathname:N([s,e.pathname]),pathnameBase:"/"===e.pathnameBase?s:N([s,e.pathnameBase])})})),i)}(q(n),r)}function q(e){var n=[];return t.Children.forEach(e,(function(e){if((0,t.isValidElement)(e))if(e.type!==t.Fragment){e.type!==V&&k(!1);var r={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(r.children=q(e.props.children)),n.push(r)}else n.push.apply(n,q(e.props.children))})),n}function H(){return H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H.apply(this,arguments)}function W(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var K=["onClick","reloadDocument","replace","state","target","to"];function G(n){var r=n.basename,i=n.children,a=n.window,m=(0,t.useRef)();null==m.current&&(m.current=function(t){void 0===t&&(t={});var n=t.window,r=void 0===n?document.defaultView:n,i=r.history;function a(){var e=r.location,t=e.pathname,n=e.search,a=e.hash,o=i.state||{};return[o.idx,u({pathname:t,search:n,hash:a,state:o.usr||null,key:o.key||"default"})]}var o=null;r.addEventListener(l,(function(){if(o)w.call(o),o=null;else{var t=e.Pop,n=a(),r=n[0],i=n[1];if(w.length){if(null!=r){var s=g-r;s&&(o={action:t,location:i,retry:function(){C(-1*s)}},C(s))}}else I(t)}}));var m=e.Pop,y=a(),g=y[0],k=y[1],b=h(),w=h();function x(e){return"string"===typeof e?e:p(e)}function _(e,t){return void 0===t&&(t=null),u(s({pathname:k.pathname,hash:"",search:""},"string"===typeof e?v(e):e,{state:t,key:d()}))}function S(e,t){return[{usr:e.state,key:e.key,idx:t},x(e)]}function E(e,t,n){return!w.length||(w.call({action:e,location:t,retry:n}),!1)}function I(e){m=e;var t=a();g=t[0],k=t[1],b.call({action:m,location:k})}function C(e){i.go(e)}null==g&&(g=0,i.replaceState(s({},i.state,{idx:g}),""));var T={get action(){return m},get location(){return k},createHref:x,push:function t(n,a){var o=e.Push,s=_(n,a);if(E(o,s,(function(){t(n,a)}))){var u=S(s,g+1),c=u[0],l=u[1];try{i.pushState(c,"",l)}catch(f){r.location.assign(l)}I(o)}},replace:function t(n,r){var a=e.Replace,o=_(n,r);if(E(a,o,(function(){t(n,r)}))){var s=S(o,g),u=s[0],c=s[1];i.replaceState(u,"",c),I(a)}},go:C,back:function(){C(-1)},forward:function(){C(1)},listen:function(e){return b.push(e)},block:function(e){var t=w.push(e);return 1===w.length&&r.addEventListener(c,f),function(){t(),w.length||r.removeEventListener(c,f)}}};return T}({window:a}));var y=m.current,g=o((0,t.useState)({action:y.action,location:y.location}),2),k=g[0],b=g[1];return(0,t.useLayoutEffect)((function(){return y.listen(b)}),[y]),(0,t.createElement)(B,{basename:r,children:i,location:k.location,navigationType:k.action,navigator:y})}var Q=(0,t.forwardRef)((function(e,n){var r=e.onClick,i=e.reloadDocument,a=e.replace,o=void 0!==a&&a,s=e.state,u=e.target,c=e.to,l=W(e,K),f=D(c),h=function(e,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,s=L(),u=P(),c=U(e);return(0,t.useCallback)((function(t){if(0===t.button&&(!i||"_self"===i)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)){t.preventDefault();var n=!!a||p(u)===p(c);s(e,{replace:n,state:o})}}),[u,s,c,a,o,i,e])}(c,{replace:o,state:s,target:u});return(0,t.createElement)("a",H({},l,{href:f,onClick:function(e){r&&r(e),e.defaultPrevented||i||h(e)},ref:n,target:u}))}));function Y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){Y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Z=n.p+"static/media/Logo.7f399a93141d8681d55f528a938a2c4c.svg";function $(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ee(e){return ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ee(e)}function te(){te=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(I){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),o=new _(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return E()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=b(o,n);if(s){if(s===l)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=c(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(I){return{type:"throw",arg:I}}}e.wrap=u;var l={};function f(){}function h(){}function d(){}var p={};s(p,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(S([])));m&&m!==t&&n.call(m,i)&&(p=m);var y=d.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(i,a,o,s){var u=c(e[i],e,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==ee(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,o,s)}),(function(e){r("throw",e,o,s)})):t.resolve(f).then((function(e){l.value=e,o(l)}),(function(e){return r("throw",e,o,s)}))}s(u.arg)}var i;this._invoke=function(e,n){function a(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(a,a):a()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function S(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:E}}function E(){return{value:void 0,done:!0}}return h.prototype=d,s(y,"constructor",d),s(d,"constructor",h),h.displayName=s(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,s(e,o,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(k.prototype),s(k.prototype,a,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new k(u(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},g(y),s(y,o,"Generator"),s(y,i,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=S,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}function ne(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function re(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){ne(a,r,i,o,s,"next",e)}function s(e){ne(a,r,i,o,s,"throw",e)}o(void 0)}))}}function ie(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=a(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}function ae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function se(e,t,n){return t&&oe(e.prototype,t),n&&oe(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ue(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ce(e,t){return ce=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ce(e,t)}function le(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ce(e,t)}function fe(e){return fe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},fe(e)}function he(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function de(e,t){if(t&&("object"===ee(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ue(e)}function pe(e){var t=he();return function(){var n,r=fe(e);if(t){var i=fe(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return de(this,n)}}function ve(e,t,n){return ve=he()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&ce(i,n.prototype),i},ve.apply(null,arguments)}function me(e){var t="function"===typeof Map?new Map:void 0;return me=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return ve(e,arguments,fe(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),ce(n,e)},me(e)}var ye=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ge={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ye(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},ke=function(e){return function(e){var t=ye(e);return ge.encodeByteArray(t,!0)}(e).replace(/\./g,"")},be=function(e){try{return ge.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};var we=function(){function e(){var t=this;ae(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return se(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function xe(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function _e(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xe())}function Se(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Ee(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Ie(){var e=xe();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}var Ce=function(e){le(n,e);var t=pe(n);function n(e,r,i){var a;return ae(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(ue(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(ue(a),Te.prototype.create),a}return se(n)}(me(Error)),Te=function(){function e(t,n,r){ae(this,e),this.service=t,this.serviceName=n,this.errors=r}return se(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Ne(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new Ce(n,a,t);return o}}]),e}();function Ne(e,t){return e.replace(Ae,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Ae=/\{\$([^}]+)}/g;function je(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(Re(s)&&Re(u)){if(!je(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Re(e){return null!==e&&"object"===typeof e}function De(e){for(var t=[],n=function(){var e=o(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Oe(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=o(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Pe(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var Le=function(){function e(t,n){var r=this;ae(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return se(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=ie(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Me),void 0===r.error&&(r.error=Me),void 0===r.complete&&(r.complete=Me);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Me(){}function Ue(e){return e&&e._delegate?e._delegate:e}var Fe=function(){function e(t,n,r){ae(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return se(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Ve="[DEFAULT]",Be=function(){function e(t,n){ae(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return se(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new we;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ve})}catch(c){}var t,n=ie(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=o(t.value,2),i=r[0],a=r[1],s=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:s});a.resolve(u)}catch(c){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=re(te().mark((function e(){var t;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat($(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),$(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),s=ie(this.instancesDeferred.entries());try{for(s.s();!(i=s.n()).done;){var u=o(i.value,2),c=u[0],l=u[1],f=this.normalizeInstanceIdentifier(c);r===f&&l.resolve(a)}}catch(h){s.e(h)}finally{s.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=ie(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(s){i.e(s)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Ve?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(o){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve;return this.component?this.component.multipleInstances?e:Ve:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var ze,qe,He=function(){function e(t){ae(this,e),this.name=t,this.providers=new Map}return se(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Be(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),We=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(qe||(qe={}));var Ke={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},Ge=qe.INFO,Qe=(Y(ze={},qe.DEBUG,"log"),Y(ze,qe.VERBOSE,"log"),Y(ze,qe.INFO,"info"),Y(ze,qe.WARN,"warn"),Y(ze,qe.ERROR,"error"),ze),Ye=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Qe[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Xe=function(){function e(t){ae(this,e),this.name=t,this._logLevel=Ge,this._logHandler=Ye,this._userLogHandler=null,We.push(this)}return se(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in qe))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Ke[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,qe.DEBUG].concat(t)),this._logHandler.apply(this,[this,qe.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,qe.VERBOSE].concat(t)),this._logHandler.apply(this,[this,qe.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,qe.INFO].concat(t)),this._logHandler.apply(this,[this,qe.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,qe.WARN].concat(t)),this._logHandler.apply(this,[this,qe.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,qe.ERROR].concat(t)),this._logHandler.apply(this,[this,qe.ERROR].concat(t))}}]),e}();var Je,Ze;var $e=new WeakMap,et=new WeakMap,tt=new WeakMap,nt=new WeakMap,rt=new WeakMap;var it={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return et.get(e);if("objectStoreNames"===t)return e.objectStoreNames||tt.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return st(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function at(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Ze||(Ze=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(ut(this),n),st($e.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return st(e.apply(ut(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[ut(this),t].concat(r));return tt.set(a,t.sort?t.sort():[t]),st(a)}}function ot(e){return"function"===typeof e?at(e):(e instanceof IDBTransaction&&function(e){if(!et.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));et.set(e,t)}}(e),t=e,(Je||(Je=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,it):e);var t}function st(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(st(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&$e.set(t,e)})).catch((function(){})),rt.set(t,e),t}(e);if(nt.has(e))return nt.get(e);var t=ot(e);return t!==e&&(nt.set(e,t),rt.set(t,e)),t}var ut=function(e){return rt.get(e)};var ct,lt,ft=["get","getKey","getAll","getAllKeys","count"],ht=["put","add","delete","clear"],dt=new Map;function pt(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(dt.get(t))return dt.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=ht.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||ft.includes(n))){var a=function(){var e=re(te().mark((function e(t){var a,o,s,u,c,l,f=arguments;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=f.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=f[l];return r&&(s=s.index(c.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return dt.set(t,a),a}}}it=function(e){return J(J({},e),{},{get:function(t,n,r){return pt(t,n)||e.get(t,n,r)},has:function(t,n){return!!pt(t,n)||e.has(t,n)}})}(it);var vt=function(){function e(t){ae(this,e),this.container=t}return se(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var mt="@firebase/app",yt="0.7.32",gt=new Xe("@firebase/app"),kt="[DEFAULT]",bt=(Y(ct={},mt,"fire-core"),Y(ct,"@firebase/app-compat","fire-core-compat"),Y(ct,"@firebase/analytics","fire-analytics"),Y(ct,"@firebase/analytics-compat","fire-analytics-compat"),Y(ct,"@firebase/app-check","fire-app-check"),Y(ct,"@firebase/app-check-compat","fire-app-check-compat"),Y(ct,"@firebase/auth","fire-auth"),Y(ct,"@firebase/auth-compat","fire-auth-compat"),Y(ct,"@firebase/database","fire-rtdb"),Y(ct,"@firebase/database-compat","fire-rtdb-compat"),Y(ct,"@firebase/functions","fire-fn"),Y(ct,"@firebase/functions-compat","fire-fn-compat"),Y(ct,"@firebase/installations","fire-iid"),Y(ct,"@firebase/installations-compat","fire-iid-compat"),Y(ct,"@firebase/messaging","fire-fcm"),Y(ct,"@firebase/messaging-compat","fire-fcm-compat"),Y(ct,"@firebase/performance","fire-perf"),Y(ct,"@firebase/performance-compat","fire-perf-compat"),Y(ct,"@firebase/remote-config","fire-rc"),Y(ct,"@firebase/remote-config-compat","fire-rc-compat"),Y(ct,"@firebase/storage","fire-gcs"),Y(ct,"@firebase/storage-compat","fire-gcs-compat"),Y(ct,"@firebase/firestore","fire-fst"),Y(ct,"@firebase/firestore-compat","fire-fst-compat"),Y(ct,"fire-js","fire-js"),Y(ct,"firebase","fire-js-all"),ct),wt=new Map,xt=new Map;function _t(e,t){try{e.container.addComponent(t)}catch(n){gt.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function St(e){var t=e.name;if(xt.has(t))return gt.debug("There were multiple attempts to register component ".concat(t,".")),!1;xt.set(t,e);var n,r=ie(wt.values());try{for(r.s();!(n=r.n()).done;){_t(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Et(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}var It=(Y(lt={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Y(lt,"bad-app-name","Illegal App name: '{$appName}"),Y(lt,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Y(lt,"app-deleted","Firebase App named '{$appName}' already deleted"),Y(lt,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Y(lt,"invalid-log-argument","First argument to `onLog` must be null or a function."),Y(lt,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),Y(lt,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),Y(lt,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),Y(lt,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),lt),Ct=new Te("app","Firebase",It),Tt=function(){function e(t,n,r){var i=this;ae(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Fe("app",(function(){return i}),"PUBLIC"))}return se(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Ct.create("app-deleted",{appName:this._name})}}]),e}(),Nt="9.9.4";function At(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kt,t=wt.get(e);if(!t)throw Ct.create("no-app",{appName:e});return t}function jt(e,t,n){var r,i=null!==(r=bt[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void gt.warn(s.join(" "))}St(new Fe("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}var Rt="firebase-heartbeat-store",Dt=null;function Ot(){return Dt||(Dt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=st(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(st(s.result),e.oldVersion,e.newVersion,st(s.transaction))})),r&&s.addEventListener("blocked",(function(){return r()})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),u}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(Rt)}}).catch((function(e){throw Ct.create("idb-open",{originalErrorMessage:e.message})}))),Dt}function Pt(e){return Lt.apply(this,arguments)}function Lt(){return Lt=re(te().mark((function e(t){var n,r,i;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ot();case 3:return r=e.sent,e.abrupt("return",r.transaction(Rt).objectStore(Rt).get(Ft(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof Ce?gt.warn(e.t0.message):(i=Ct.create("idb-get",{originalErrorMessage:null===(n=e.t0)||void 0===n?void 0:n.message}),gt.warn(i.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Lt.apply(this,arguments)}function Mt(e,t){return Ut.apply(this,arguments)}function Ut(){return Ut=re(te().mark((function e(t,n){var r,i,a,o,s;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ot();case 3:return i=e.sent,a=i.transaction(Rt,"readwrite"),o=a.objectStore(Rt),e.next=8,o.put(n,Ft(t));case 8:return e.abrupt("return",a.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof Ce?gt.warn(e.t0.message):(s=Ct.create("idb-set",{originalErrorMessage:null===(r=e.t0)||void 0===r?void 0:r.message}),gt.warn(s.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Ut.apply(this,arguments)}function Ft(e){return"".concat(e.name,"!").concat(e.options.appId)}var Vt=function(){function e(t){var n=this;ae(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Ht(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return se(e,[{key:"triggerHeartbeat",value:function(){var e=re(te().mark((function e(){var t,n,r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Bt(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=re(te().mark((function e(){var t,n,r,i,a;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Bt(),n=zt(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=ke(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Bt(){return(new Date).toISOString().substring(0,10)}function zt(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=ie(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Wt(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Wt(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var s=o();if("break"===s)break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var qt,Ht=function(){function e(t){ae(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return se(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=re(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("object"===typeof indexedDB){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=re(te().mark((function e(){var t;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Pt(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=re(te().mark((function e(t){var n,r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Mt(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=re(te().mark((function e(t){var n,r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Mt(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat($(r.heartbeats),$(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Wt(e){return ke(JSON.stringify({version:2,heartbeats:e})).length}qt="",St(new Fe("platform-logger",(function(e){return new vt(e)}),"PRIVATE")),St(new Fe("heartbeat",(function(e){return new Vt(e)}),"PRIVATE")),jt(mt,yt,qt),jt(mt,yt,"esm2017"),jt("fire-js","");function Kt(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=fe(e)););return e}function Gt(){return Gt="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Kt(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Gt.apply(this,arguments)}jt("firebase","9.9.4","app");var Qt,Yt="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Xt={},Jt=Jt||{},Zt=Yt||self;function $t(){}function en(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function tn(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var nn="closure_uid_"+(1e9*Math.random()>>>0),rn=0;function an(e,t,n){return e.call.apply(e.bind,arguments)}function on(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function sn(e,t,n){return(sn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?an:on).apply(null,arguments)}function un(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function cn(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function ln(){this.s=this.s,this.o=this.o}var fn={};ln.prototype.s=!1,ln.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,nn)&&e[nn]||(e[nn]=++rn)}(this);delete fn[e]}},ln.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var hn=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},dn=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function pn(e){return Array.prototype.concat.apply([],arguments)}function vn(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function mn(e){return/^[\s\xa0]*$/.test(e)}var yn,gn=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function kn(e,t){return-1!=e.indexOf(t)}function bn(e,t){return e<t?-1:e>t?1:0}e:{var wn=Zt.navigator;if(wn){var xn=wn.userAgent;if(xn){yn=xn;break e}}yn=""}function _n(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Sn(e){var t={};for(var n in e)t[n]=e[n];return t}var En="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function In(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<En.length;a++)n=En[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Cn(e){return Cn[" "](e),e}Cn[" "]=$t;var Tn,Nn=kn(yn,"Opera"),An=kn(yn,"Trident")||kn(yn,"MSIE"),jn=kn(yn,"Edge"),Rn=jn||An,Dn=kn(yn,"Gecko")&&!(kn(yn.toLowerCase(),"webkit")&&!kn(yn,"Edge"))&&!(kn(yn,"Trident")||kn(yn,"MSIE"))&&!kn(yn,"Edge"),On=kn(yn.toLowerCase(),"webkit")&&!kn(yn,"Edge");function Pn(){var e=Zt.document;return e?e.documentMode:void 0}e:{var Ln="",Mn=function(){var e=yn;return Dn?/rv:([^\);]+)(\)|;)/.exec(e):jn?/Edge\/([\d\.]+)/.exec(e):An?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):On?/WebKit\/(\S+)/.exec(e):Nn?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Mn&&(Ln=Mn?Mn[1]:""),An){var Un=Pn();if(null!=Un&&Un>parseFloat(Ln)){Tn=String(Un);break e}}Tn=Ln}var Fn,Vn={};function Bn(){return function(e){var t=Vn;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=gn(String(Tn)).split("."),n=gn("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=bn(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||bn(0==a[2].length,0==o[2].length)||bn(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(Zt.document&&An){var zn=Pn();Fn=zn||(parseInt(Tn,10)||void 0)}else Fn=void 0;var qn=Fn,Hn=function(){if(!Zt.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Zt.addEventListener("test",$t,t),Zt.removeEventListener("test",$t,t)}catch(n){}return e}();function Wn(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Kn(e,t){if(Wn.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Dn){e:{try{Cn(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Gn[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Kn.Z.h.call(this)}}Wn.prototype.h=function(){this.defaultPrevented=!0},cn(Kn,Wn);var Gn={2:"touch",3:"pen",4:"mouse"};Kn.prototype.h=function(){Kn.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Qn="closure_listenable_"+(1e6*Math.random()|0),Yn=0;function Xn(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Yn,this.ca=this.fa=!1}function Jn(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Zn(e){this.src=e,this.g={},this.h=0}function $n(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=hn(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Jn(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function er(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}Zn.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=er(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new Xn(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var tr="closure_lm_"+(1e6*Math.random()|0),nr={};function rr(e,t,n,r,i){if(r&&r.once)return ar(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)rr(e,t[a],n,r,i);return null}return n=hr(n),e&&e[Qn]?e.N(t,n,tn(r)?!!r.capture:!!r,i):ir(e,t,n,!1,r,i)}function ir(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=tn(i)?!!i.capture:!!i,s=lr(e);if(s||(e[tr]=s=new Zn(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=cr;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Hn||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(ur(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ar(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)ar(e,t[a],n,r,i);return null}return n=hr(n),e&&e[Qn]?e.O(t,n,tn(r)?!!r.capture:!!r,i):ir(e,t,n,!0,r,i)}function or(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)or(e,t[a],n,r,i);else r=tn(r)?!!r.capture:!!r,n=hr(n),e&&e[Qn]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=er(a=e.g[t],n,r,i))&&(Jn(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=lr(e))&&(t=e.g[t.toString()],e=-1,t&&(e=er(t,n,r,i)),(n=-1<e?t[e]:null)&&sr(n))}function sr(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Qn])$n(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ur(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=lr(t))?($n(n,e),0==n.h&&(n.src=null,t[tr]=null)):Jn(e)}}}function ur(e){return e in nr?nr[e]:nr[e]="on"+e}function cr(e,t){if(e.ca)e=!0;else{t=new Kn(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&sr(e),e=n.call(r,t)}return e}function lr(e){return(e=e[tr])instanceof Zn?e:null}var fr="__closure_events_fn_"+(1e9*Math.random()>>>0);function hr(e){return"function"===typeof e?e:(e[fr]||(e[fr]=function(t){return e.handleEvent(t)}),e[fr])}function dr(){ln.call(this),this.i=new Zn(this),this.P=this,this.I=null}function pr(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Wn(t,e);else if(t instanceof Wn)t.target=t.target||e;else{var i=t;In(t=new Wn(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=vr(o,r,!0,t)&&i}if(i=vr(o=t.g=e,r,!0,t)&&i,i=vr(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=vr(o=t.g=n[a],r,!1,t)&&i}function vr(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var s=o.listener,u=o.ia||o.src;o.fa&&$n(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}cn(dr,ln),dr.prototype[Qn]=!0,dr.prototype.removeEventListener=function(e,t,n,r){or(this,e,t,n,r)},dr.prototype.M=function(){if(dr.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Jn(n[r]);delete t.g[e],t.h--}}this.I=null},dr.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},dr.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var mr=Zt.JSON.stringify;function yr(){var e=Er,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var gr,kr=function(){function e(){ae(this,e),this.h=this.g=null}return se(e,[{key:"add",value:function(e,t){var n=br.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),br=new(function(){function e(t,n){ae(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return se(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new wr}),(function(e){return e.reset()})),wr=function(){function e(){ae(this,e),this.next=this.g=this.h=null}return se(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function xr(e){Zt.setTimeout((function(){throw e}),0)}function _r(e,t){gr||function(){var e=Zt.Promise.resolve(void 0);gr=function(){e.then(Ir)}}(),Sr||(gr(),Sr=!0),Er.add(e,t)}var Sr=!1,Er=new kr;function Ir(){for(var e;e=yr();){try{e.h.call(e.g)}catch(n){xr(n)}var t=br;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Sr=!1}function Cr(e,t){dr.call(this),this.h=e||1,this.g=t||Zt,this.j=sn(this.kb,this),this.l=Date.now()}function Tr(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Nr(e,t,n){if("function"===typeof e)n&&(e=sn(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=sn(e.handleEvent,e)}return 2147483647<Number(t)?-1:Zt.setTimeout(e,t||0)}function Ar(e){e.g=Nr((function(){e.g=null,e.i&&(e.i=!1,Ar(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}cn(Cr,dr),(Qt=Cr.prototype).da=!1,Qt.S=null,Qt.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),pr(this,"tick"),this.da&&(Tr(this),this.start()))}},Qt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Qt.M=function(){Cr.Z.M.call(this),Tr(this),delete this.g};var jr=function(e){le(n,e);var t=pe(n);function n(e,r){var i;return ae(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return se(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Ar(this)}},{key:"M",value:function(){Gt(fe(n.prototype),"M",this).call(this),this.g&&(Zt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(ln);function Rr(e){ln.call(this),this.h=e,this.g={}}cn(Rr,ln);var Dr=[];function Or(e,t,n,r){Array.isArray(n)||(n&&(Dr[0]=n.toString()),n=Dr);for(var i=0;i<n.length;i++){var a=rr(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Pr(e){_n(e.g,(function(e,t){this.g.hasOwnProperty(t)&&sr(e)}),e),e.g={}}function Lr(){this.g=!0}function Mr(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return mr(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}Rr.prototype.M=function(){Rr.Z.M.call(this),Pr(this)},Rr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Lr.prototype.Aa=function(){this.g=!1},Lr.prototype.info=function(){};var Ur={},Fr=null;function Vr(){return Fr=Fr||new dr}function Br(e){Wn.call(this,Ur.Ma,e)}function zr(e){var t=Vr();pr(t,new Br(t,e))}function qr(e,t){Wn.call(this,Ur.STAT_EVENT,e),this.stat=t}function Hr(e){var t=Vr();pr(t,new qr(t,e))}function Wr(e,t){Wn.call(this,Ur.Na,e),this.size=t}function Kr(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Zt.setTimeout((function(){e()}),t)}Ur.Ma="serverreachability",cn(Br,Wn),Ur.STAT_EVENT="statevent",cn(qr,Wn),Ur.Na="timingevent",cn(Wr,Wn);var Gr={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Qr={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Yr(){}function Xr(e){return e.h||(e.h=e.i())}function Jr(){}Yr.prototype.h=null;var Zr,$r={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function ei(){Wn.call(this,"d")}function ti(){Wn.call(this,"c")}function ni(){}function ri(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Rr(this),this.P=ai,e=Rn?125:void 0,this.W=new Cr(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new ii}function ii(){this.i=null,this.g="",this.h=!1}cn(ei,Wn),cn(ti,Wn),cn(ni,Yr),ni.prototype.g=function(){return new XMLHttpRequest},ni.prototype.i=function(){return{}},Zr=new ni;var ai=45e3,oi={},si={};function ui(e,t,n){e.K=1,e.v=ji(Ei(t)),e.s=n,e.U=!0,ci(e,null)}function ci(e,t){e.F=Date.now(),di(e),e.A=Ei(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Hi(n.h,"t",r),e.C=0,n=e.l.H,e.h=new ii,e.g=Ka(e.l,n?t:null,!e.s),0<e.O&&(e.L=new jr(sn(e.Ia,e,e.g),e.O)),Or(e.V,e.g,"readystatechange",e.gb),t=e.H?Sn(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),zr(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function li(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function fi(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=hi(e,n))==si){4==t&&(e.o=4,Hr(14),i=!1),Mr(e.j,e.m,null,"[Incomplete Response]");break}if(r==oi){e.o=4,Hr(15),Mr(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Mr(e.j,e.m,r,null),gi(e,r)}li(e)&&r!=si&&r!=oi&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Hr(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ua(t),t.L=!0,Hr(11))):(Mr(e.j,e.m,n,"[Invalid Chunked Response]"),yi(e),mi(e))}function hi(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?si:(n=Number(t.substring(n,r)),isNaN(n)?oi:(r+=1)+n>t.length?si:(t=t.substr(r,n),e.C=r+n,t))}function di(e){e.Y=Date.now()+e.P,pi(e,e.P)}function pi(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Kr(sn(e.eb,e),t)}function vi(e){e.B&&(Zt.clearTimeout(e.B),e.B=null)}function mi(e){0==e.l.G||e.I||Ba(e.l,e)}function yi(e){vi(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Tr(e.W),Pr(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function gi(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Zi(n.i,e)))if(n.I=e.N,!e.J&&Zi(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Va(n),Na(n)}Ma(n),Hr(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Kr(sn(n.ab,n),6e3));if(1>=Ji(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else qa(n,11)}else if((e.J||n.g==e)&&Va(n),!mn(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var s=a[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(kn(l,"spdy")||kn(l,"quic")||kn(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&($i(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,Ai(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=Wa(r,r.H?r.la:null,r.W),d.J){ea(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(vi(p),di(p)),r.g=d}else La(r);0<n.l.length&&Ra(n)}else"stop"!=a[0]&&"close"!=a[0]||qa(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?qa(n,7):Ta(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}zr(4)}catch(a){}}function ki(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(en(e)||"string"===typeof e)dn(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(en(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(en(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function bi(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof bi)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function wi(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];xi(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)xi(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function xi(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Qt=ri.prototype).setTimeout=function(e){this.P=e},Qt.gb=function(e){e=e.target;var t=this.L;t&&3==_a(e)?t.l():this.Ia(e)},Qt.Ia=function(e){try{if(e==this.g)e:{var t=_a(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Rn||this.g&&(this.h.h||this.g.ga()||Sa(this.g)))){this.I||4!=t||7==n||zr(8==n||0>=r?3:2),vi(this);var i=this.g.ba();this.N=i;t:if(li(this)){var a=Sa(this.g);e="";var o=a.length,s=4==_a(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){yi(this),mi(this);var u="";break t}this.h.i=new Zt.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:s&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!mn(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,Hr(12),yi(this),mi(this);break e}Mr(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,gi(this,i)}this.U?(fi(this,t,u),Rn&&this.i&&3==t&&(Or(this.V,this.W,"tick",this.fb),this.W.start())):(Mr(this.j,this.m,u,null),gi(this,u)),4==t&&yi(this),this.i&&!this.I&&(4==t?Ba(this.l,this):(this.i=!1,di(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,Hr(12)):(this.o=0,Hr(13)),yi(this),mi(this)}}}catch(t){}},Qt.fb=function(){if(this.g){var e=_a(this.g),t=this.g.ga();this.C<t.length&&(vi(this),fi(this,e,t),this.i&&4!=e&&di(this))}},Qt.cancel=function(){this.I=!0,yi(this)},Qt.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(zr(3),Hr(17)),yi(this),this.o=2,mi(this)):pi(this,this.Y-e)},(Qt=bi.prototype).R=function(){wi(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Qt.T=function(){return wi(this),this.g.concat()},Qt.get=function(e,t){return xi(this.h,e)?this.h[e]:t},Qt.set=function(e,t){xi(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Qt.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var _i=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Si(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Si){this.g=void 0!==t?t:e.g,Ii(this,e.j),this.s=e.s,Ci(this,e.i),Ti(this,e.m),this.l=e.l,t=e.h;var n=new Vi;n.i=t.i,t.g&&(n.g=new bi(t.g),n.h=t.h),Ni(this,n),this.o=e.o}else e&&(n=String(e).match(_i))?(this.g=!!t,Ii(this,n[1]||"",!0),this.s=Ri(n[2]||""),Ci(this,n[3]||"",!0),Ti(this,n[4]),this.l=Ri(n[5]||"",!0),Ni(this,n[6]||"",!0),this.o=Ri(n[7]||"")):(this.g=!!t,this.h=new Vi(null,this.g))}function Ei(e){return new Si(e)}function Ii(e,t,n){e.j=n?Ri(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Ci(e,t,n){e.i=n?Ri(t,!0):t}function Ti(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Ni(e,t,n){t instanceof Vi?(e.h=t,function(e,t){t&&!e.j&&(Bi(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(zi(this,t),Hi(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Di(t,Ui)),e.h=new Vi(t,e.g))}function Ai(e,t,n){e.h.set(t,n)}function ji(e){return Ai(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Ri(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Di(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Oi),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Oi(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Si.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Di(t,Pi,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Di(t,Pi,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Di(n,"/"==n.charAt(0)?Mi:Li,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Di(n,Fi)),e.join("")};var Pi=/[#\/\?@]/g,Li=/[#\?:]/g,Mi=/[#\?]/g,Ui=/[#\?@]/g,Fi=/#/g;function Vi(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Bi(e){e.g||(e.g=new bi,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function zi(e,t){Bi(e),t=Wi(e,t),xi(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,xi((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&wi(e)))}function qi(e,t){return Bi(e),t=Wi(e,t),xi(e.g.h,t)}function Hi(e,t,n){zi(e,t),0<n.length&&(e.i=null,e.g.set(Wi(e,t),vn(n)),e.h+=n.length)}function Wi(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Qt=Vi.prototype).add=function(e,t){Bi(this),this.i=null,e=Wi(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Qt.forEach=function(e,t){Bi(this),this.g.forEach((function(n,r){dn(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Qt.T=function(){Bi(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Qt.R=function(e){Bi(this);var t=[];if("string"===typeof e)qi(this,e)&&(t=pn(t,this.g.get(Wi(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=pn(t,e[n])}return t},Qt.set=function(e,t){return Bi(this),this.i=null,qi(this,e=Wi(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Qt.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Qt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var Ki=se((function e(t,n){ae(this,e),this.h=t,this.g=n}));function Gi(e){this.l=e||Yi,Zt.PerformanceNavigationTiming?e=0<(e=Zt.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Zt.g&&Zt.g.Ea&&Zt.g.Ea()&&Zt.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Qi,Yi=10;function Xi(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ji(e){return e.h?1:e.g?e.g.size:0}function Zi(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function $i(e,t){e.g?e.g.add(t):e.h=t}function ea(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function ta(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=ie(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return vn(e.i)}function na(){}function ra(){this.g=new na}function ia(e,t,n){var r=n||"";try{ki(e,(function(e,n){var i=e;tn(e)&&(i=mr(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function aa(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function oa(e){this.l=e.$b||null,this.j=e.ib||!1}function sa(e,t){dr.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=ua,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Gi.prototype.cancel=function(){if(this.i=ta(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=ie(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},na.prototype.stringify=function(e){return Zt.JSON.stringify(e,void 0)},na.prototype.parse=function(e){return Zt.JSON.parse(e,void 0)},cn(oa,Yr),oa.prototype.g=function(){return new sa(this.l,this.j)},oa.prototype.i=(Qi={},function(){return Qi}),cn(sa,dr);var ua=0;function ca(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function la(e){e.readyState=4,e.l=null,e.j=null,e.A=null,fa(e)}function fa(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Qt=sa.prototype).open=function(e,t){if(this.readyState!=ua)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,fa(this)},Qt.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Zt).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Qt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,la(this)),this.readyState=ua},Qt.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,fa(this)),this.g&&(this.readyState=3,fa(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof Zt.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ca(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Qt.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?la(this):fa(this),3==this.readyState&&ca(this)}},Qt.Ua=function(e){this.g&&(this.response=this.responseText=e,la(this))},Qt.Ta=function(e){this.g&&(this.response=e,la(this))},Qt.ha=function(){this.g&&la(this)},Qt.setRequestHeader=function(e,t){this.v.append(e,t)},Qt.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Qt.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(sa.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var ha=Zt.JSON.parse;function da(e){dr.call(this),this.headers=new bi,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=pa,this.K=this.L=!1}cn(da,dr);var pa="",va=/^https?$/i,ma=["POST","PUT"];function ya(e){return"content-type"==e.toLowerCase()}function ga(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,ka(e),wa(e)}function ka(e){e.D||(e.D=!0,pr(e,"complete"),pr(e,"error"))}function ba(e){if(e.h&&"undefined"!=typeof Jt&&(!e.C[1]||4!=_a(e)||2!=e.ba()))if(e.v&&4==_a(e))Nr(e.Fa,0,e);else if(pr(e,"readystatechange"),4==_a(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(_i)[1]||null;if(!a&&Zt.self&&Zt.self.location){var o=Zt.self.location.protocol;a=o.substr(0,o.length-1)}i=!va.test(a?a.toLowerCase():"")}t=i}if(t)pr(e,"complete"),pr(e,"success");else{e.m=6;try{var s=2<_a(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.ba()+"]",ka(e)}}finally{wa(e)}}}function wa(e,t){if(e.g){xa(e);var n=e.g,r=e.C[0]?$t:null;e.g=null,e.C=null,t||pr(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function xa(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Zt.clearTimeout(e.A),e.A=null)}function _a(e){return e.g?e.g.readyState:0}function Sa(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case pa:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Ea(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return _n(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Ai(e,t,n))}function Ia(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Ca(e){this.za=0,this.l=[],this.h=new Lr,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ia("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ia("baseRetryDelayMs",5e3,e),this.$a=Ia("retryDelaySeedMs",1e4,e),this.Ya=Ia("forwardChannelMaxRetries",2,e),this.ra=Ia("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Gi(e&&e.concurrentRequestLimit),this.Ca=new ra,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Ta(e){if(Aa(e),3==e.G){var t=e.V++,n=Ei(e.F);Ai(n,"SID",e.J),Ai(n,"RID",t),Ai(n,"TYPE","terminate"),Oa(e,n),(t=new ri(e,e.h,t,void 0)).K=2,t.v=ji(Ei(n)),n=!1,Zt.navigator&&Zt.navigator.sendBeacon&&(n=Zt.navigator.sendBeacon(t.v.toString(),"")),!n&&Zt.Image&&((new Image).src=t.v,n=!0),n||(t.g=Ka(t.l,null),t.g.ea(t.v)),t.F=Date.now(),di(t)}Ha(e)}function Na(e){e.g&&(Ua(e),e.g.cancel(),e.g=null)}function Aa(e){Na(e),e.u&&(Zt.clearTimeout(e.u),e.u=null),Va(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Zt.clearTimeout(e.m),e.m=null)}function ja(e,t){e.l.push(new Ki(e.Za++,t)),3==e.G&&Ra(e)}function Ra(e){Xi(e.i)||e.m||(e.m=!0,_r(e.Ha,e),e.C=0)}function Da(e,t){var n;n=t?t.m:e.V++;var r=Ei(e.F);Ai(r,"SID",e.J),Ai(r,"RID",n),Ai(r,"AID",e.U),Oa(e,r),e.o&&e.s&&Ea(r,e.o,e.s),n=new ri(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Pa(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),$i(e.i,n),ui(n,r,t)}function Oa(e,t){e.j&&ki({},(function(e,n){Ai(t,n,e)}))}function Pa(e,t,n){n=Math.min(e.l.length,n);var r=e.j?sn(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=a))a=Math.max(0,i[u].h-100),s=!1;else try{ia(l,o,"req"+c+"_")}catch(wo){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function La(e){e.g||e.u||(e.Y=1,_r(e.Ga,e),e.A=0)}function Ma(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=Kr(sn(e.Ga,e),za(e,e.A)),e.A++,!0)}function Ua(e){null!=e.B&&(Zt.clearTimeout(e.B),e.B=null)}function Fa(e){e.g=new ri(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Ei(e.oa);Ai(t,"RID","rpc"),Ai(t,"SID",e.J),Ai(t,"CI",e.N?"0":"1"),Ai(t,"AID",e.U),Oa(e,t),Ai(t,"TYPE","xmlhttp"),e.o&&e.s&&Ea(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=ji(Ei(t)),n.s=null,n.U=!0,ci(n,e)}function Va(e){null!=e.v&&(Zt.clearTimeout(e.v),e.v=null)}function Ba(e,t){var n=null;if(e.g==t){Va(e),Ua(e),e.g=null;var r=2}else{if(!Zi(e.i,t))return;n=t.D,ea(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;pr(r=Vr(),new Wr(r,n,t,i)),Ra(e)}else La(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Ji(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=Kr(sn(e.Ha,e,t),za(e,e.C)),e.C++,!0))}(e,t)||2==r&&Ma(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:qa(e,5);break;case 4:qa(e,10);break;case 3:qa(e,6);break;default:qa(e,2)}}function za(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function qa(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=sn(e.jb,e);n||(n=new Si("//www.google.com/images/cleardot.gif"),Zt.location&&"http"==Zt.location.protocol||Ii(n,"https"),ji(n)),function(e,t){var n=new Lr;if(Zt.Image){var r=new Image;r.onload=un(aa,n,r,"TestLoadImage: loaded",!0,t),r.onerror=un(aa,n,r,"TestLoadImage: error",!1,t),r.onabort=un(aa,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=un(aa,n,r,"TestLoadImage: timeout",!1,t),Zt.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Hr(2);e.G=0,e.j&&e.j.va(t),Ha(e),Aa(e)}function Ha(e){e.G=0,e.I=-1,e.j&&(0==ta(e.i).length&&0==e.l.length||(e.i.i.length=0,vn(e.l),e.l.length=0),e.j.ua())}function Wa(e,t,n){var r=function(e){return e instanceof Si?Ei(e):new Si(e,void 0)}(n);if(""!=r.i)t&&Ci(r,t+"."+r.i),Ti(r,r.m);else{var i=Zt.location;r=function(e,t,n,r){var i=new Si(null,void 0);return e&&Ii(i,e),t&&Ci(i,t),n&&Ti(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&_n(e.aa,(function(e,t){Ai(r,t,e)})),t=e.D,n=e.sa,t&&n&&Ai(r,t,n),Ai(r,"VER",e.ma),Oa(e,r),r}function Ka(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new da(new oa({ib:!0})):new da(e.qa)).L=e.H,t}function Ga(){}function Qa(){if(An&&!(10<=Number(qn)))throw Error("Environmental error: no available transport.")}function Ya(e,t){dr.call(this),this.g=new Ca(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!mn(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!mn(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Za(this)}function Xa(e){ei.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Ja(){ti.call(this),this.status=1}function Za(e){this.g=e}(Qt=da.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Zr.g(),this.C=this.u?Xr(this.u):Xr(Zr),this.g.onreadystatechange=sn(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void ga(this,a)}e=n||"";var i=new bi(this.headers);r&&ki(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=ya,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=Zt.FormData&&e instanceof Zt.FormData,!(0<=hn(ma,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{xa(this),0<this.B&&((this.K=function(e){return An&&Bn()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=sn(this.pa,this)):this.A=Nr(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){ga(this,a)}},Qt.pa=function(){"undefined"!=typeof Jt&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,pr(this,"timeout"),this.abort(8))},Qt.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,pr(this,"complete"),pr(this,"abort"),wa(this))},Qt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),wa(this,!0)),da.Z.M.call(this)},Qt.Fa=function(){this.s||(this.F||this.v||this.l?ba(this):this.cb())},Qt.cb=function(){ba(this)},Qt.ba=function(){try{return 2<_a(this)?this.g.status:-1}catch(Qi){return-1}},Qt.ga=function(){try{return this.g?this.g.responseText:""}catch(Qi){return""}},Qt.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ha(t)}},Qt.Da=function(){return this.m},Qt.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(Qt=Ca.prototype).ma=8,Qt.G=1,Qt.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},Qt.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new ri(this,this.h,e,void 0),n=this.s;if(this.P&&(n?In(n=Sn(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Pa(this,t,r),Ai(i=Ei(this.F),"RID",e),Ai(i,"CVER",22),this.D&&Ai(i,"X-HTTP-Session-Id",this.D),Oa(this,i),this.o&&n&&Ea(i,this.o,n),$i(this.i,t),this.Ra&&Ai(i,"TYPE","init"),this.ja?(Ai(i,"$req",r),Ai(i,"SID","null"),t.$=!0,ui(t,i,null)):ui(t,i,r),this.G=2}}else 3==this.G&&(e?Da(this,e):0==this.l.length||Xi(this.i)||Da(this))},Qt.Ga=function(){if(this.u=null,Fa(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Kr(sn(this.bb,this),e)}},Qt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Hr(10),Na(this),Fa(this))},Qt.ab=function(){null!=this.v&&(this.v=null,Na(this),Ma(this),Hr(19))},Qt.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Hr(2)):(this.h.info("Failed to ping google.com"),Hr(1))},(Qt=Ga.prototype).xa=function(){},Qt.wa=function(){},Qt.va=function(){},Qt.ua=function(){},Qt.Oa=function(){},Qa.prototype.g=function(e,t){return new Ya(e,t)},cn(Ya,dr),Ya.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),_r(sn(e.hb,e,t))),Hr(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Wa(e,null,e.W),Ra(e)},Ya.prototype.close=function(){Ta(this.g)},Ya.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,ja(this.g,t)}else this.v?((t={}).__data__=mr(e),ja(this.g,t)):ja(this.g,e)},Ya.prototype.M=function(){this.g.j=null,delete this.j,Ta(this.g),delete this.g,Ya.Z.M.call(this)},cn(Xa,ei),cn(Ja,ti),cn(Za,Ga),Za.prototype.xa=function(){pr(this.g,"a")},Za.prototype.wa=function(e){pr(this.g,new Xa(e))},Za.prototype.va=function(e){pr(this.g,new Ja(e))},Za.prototype.ua=function(){pr(this.g,"b")},Qa.prototype.createWebChannel=Qa.prototype.g,Ya.prototype.send=Ya.prototype.u,Ya.prototype.open=Ya.prototype.m,Ya.prototype.close=Ya.prototype.close,Gr.NO_ERROR=0,Gr.TIMEOUT=8,Gr.HTTP_ERROR=6,Qr.COMPLETE="complete",Jr.EventType=$r,$r.OPEN="a",$r.CLOSE="b",$r.ERROR="c",$r.MESSAGE="d",dr.prototype.listen=dr.prototype.N,da.prototype.listenOnce=da.prototype.O,da.prototype.getLastError=da.prototype.La,da.prototype.getLastErrorCode=da.prototype.Da,da.prototype.getStatus=da.prototype.ba,da.prototype.getResponseJson=da.prototype.Qa,da.prototype.getResponseText=da.prototype.ga,da.prototype.send=da.prototype.ea;var $a=Xt.createWebChannelTransport=function(){return new Qa},eo=Xt.getStatEventTarget=function(){return Vr()},to=Xt.ErrorCode=Gr,no=Xt.EventType=Qr,ro=Xt.Event=Ur,io=Xt.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},ao=Xt.FetchXmlHttpFactory=oa,oo=Xt.WebChannel=Jr,so=Xt.XhrIo=da,uo="@firebase/firestore",co=function(){function e(t){ae(this,e),this.uid=t}return se(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();co.UNAUTHENTICATED=new co(null),co.GOOGLE_CREDENTIALS=new co("google-credentials-uid"),co.FIRST_PARTY=new co("first-party-uid"),co.MOCK_USER=new co("mock-user");var lo="9.9.4",fo=new Xe("@firebase/firestore");function ho(){return fo.logLevel}function po(e){if(fo.logLevel<=qe.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(yo);fo.debug.apply(fo,["Firestore (".concat(lo,"): ").concat(e)].concat($(i)))}}function vo(e){if(fo.logLevel<=qe.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(yo);fo.error.apply(fo,["Firestore (".concat(lo,"): ").concat(e)].concat($(i)))}}function mo(e){if(fo.logLevel<=qe.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(yo);fo.warn.apply(fo,["Firestore (".concat(lo,"): ").concat(e)].concat($(i)))}}function yo(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function go(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(lo,") INTERNAL ASSERTION FAILED: ")+e;throw vo(t),new Error(t)}function ko(e,t){e||go()}function bo(e,t){return e}var wo={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},xo=function(e){le(n,e);var t=pe(n);function n(e,r){var i;return ae(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return se(n)}(Ce),_o=se((function e(){var t=this;ae(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),So=se((function e(t,n){ae(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Eo=function(){function e(){ae(this,e)}return se(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(co.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Io=function(){function e(t){ae(this,e),this.t=t,this.currentUser=co.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return se(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new _o;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new _o,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(re(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){po("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(po("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new _o)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(po("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(ko("string"==typeof n.accessToken),new So(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return ko(null===e||"string"==typeof e),new co(e)}}]),e}(),Co=function(){function e(t,n,r,i){ae(this,e),this.h=t,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=co.FIRST_PARTY,this.p=new Map}return se(e,[{key:"I",value:function(){return this.g?this.g():(ko(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}},{key:"headers",get:function(){this.p.set("X-Goog-AuthUser",this.l);var e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}]),e}(),To=function(){function e(t,n,r,i){ae(this,e),this.h=t,this.l=n,this.m=r,this.g=i}return se(e,[{key:"getToken",value:function(){return Promise.resolve(new Co(this.h,this.l,this.m,this.g))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(co.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),No=se((function e(t){ae(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Ao=function(){function e(t){ae(this,e),this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}return se(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&po("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.A;return n.A=e.token,po("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){po("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.T.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.T.getImmediate({optional:!0});e?i(e):po("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(ko("string"==typeof t.token),e.A=t.token,new No(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function jo(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Ro=function(){function e(){ae(this,e)}return se(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=jo(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Do(e,t){return e<t?-1:e>t?1:0}function Oo(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}var Po=function(){function e(t,n){if(ae(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new xo(wo.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new xo(wo.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new xo(wo.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new xo(wo.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return se(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Do(this.nanoseconds,e.nanoseconds):Do(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Lo=function(){function e(t){ae(this,e),this.timestamp=t}return se(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Po(0,0))}},{key:"max",value:function(){return new e(new Po(253402300799,999999999))}}]),e}(),Mo=function(){function e(t,n,r){ae(this,e),void 0===n?n=0:n>t.length&&go(),void 0===r?r=t.length-n:r>t.length-n&&go(),this.segments=t,this.offset=n,this.len=r}return se(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Uo=function(e){le(n,e);var t=pe(n);function n(){return ae(this,n),t.apply(this,arguments)}return se(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new xo(wo.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,$(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Mo),Fo=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Vo=function(e){le(n,e);var t=pe(n);function n(){return ae(this,n),t.apply(this,arguments)}return se(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Fo.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new xo(wo.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new xo(wo.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new xo(wo.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new xo(wo.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Mo),Bo=function(){function e(t){ae(this,e),this.path=t}return se(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Uo.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Uo.fromString(t))}},{key:"fromName",value:function(t){return new e(Uo.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Uo.emptyPath())}},{key:"comparator",value:function(e,t){return Uo.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Uo(t.slice()))}}]),e}(),zo=se((function e(t,n,r,i){ae(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));zo.UNKNOWN_ID=-1;function qo(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Lo.fromTimestamp(1e9===r?new Po(n+1,0):new Po(n,r));return new Wo(i,Bo.empty(),t)}function Ho(e){return new Wo(e.readTime,e.key,-1)}var Wo=function(){function e(t,n,r){ae(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return se(e,null,[{key:"min",value:function(){return new e(Lo.min(),Bo.empty(),-1)}},{key:"max",value:function(){return new e(Lo.max(),Bo.empty(),-1)}}]),e}();function Ko(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Bo.comparator(e.documentKey,t.documentKey))?n:Do(e.largestBatchId,t.largestBatchId)}var Go="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Qo=function(){function e(){ae(this,e),this.onCommittedListeners=[]}return se(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function Yo(e){return Xo.apply(this,arguments)}function Xo(){return Xo=re(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===wo.FAILED_PRECONDITION&&t.message===Go){e.next=2;break}throw t;case 2:po("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),Xo.apply(this,arguments)}var Jo=function(){function e(t){var n=this;ae(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return se(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&go(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=ie(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,s=function(s){var u=s;n(t[u]).next((function(t){a[u]=t,++o===i&&e(a)}),(function(e){return r(e)}))},u=0;u<i;u++)s(u)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}();function Zo(e){return"IndexedDbTransactionError"===e.name}var $o=function(){function e(t,n){var r=this;ae(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ut(e)},this.ct=function(e){return n.writeSequenceNumber(e)})}return se(e,[{key:"ut",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ct&&this.ct(e),e}}]),e}();function es(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ts(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ns(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}$o.at=-1;var rs=function(){function e(t,n){ae(this,e),this.comparator=t,this.root=n||as.EMPTY}return se(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,as.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,as.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new is(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new is(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new is(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new is(this.root,e,this.comparator,!0)}}]),e}(),is=function(){function e(t,n,r,i){ae(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return se(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),as=function(){function e(t,n,r,i,a){ae(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return se(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw go();if(this.right.isRed())throw go();var e=this.left.check();if(e!==this.right.check())throw go();return e+(this.isRed()?0:1)}}]),e}();as.EMPTY=null,as.RED=!0,as.BLACK=!1,as.EMPTY=new(function(){function e(){ae(this,e),this.size=0}return se(e,[{key:"key",get:function(){throw go()}},{key:"value",get:function(){throw go()}},{key:"color",get:function(){throw go()}},{key:"left",get:function(){throw go()}},{key:"right",get:function(){throw go()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new as(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var os=function(){function e(t){ae(this,e),this.comparator=t,this.data=new rs(this.comparator)}return se(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new ss(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new ss(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),ss=function(){function e(t){ae(this,e),this.iter=t}return se(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();var us=function(){function e(t){ae(this,e),this.fields=t,t.sort(Vo.comparator)}return se(e,[{key:"unionWith",value:function(t){var n,r=new os(Vo.comparator),i=ie(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,s=ie(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;r=r.add(u)}}catch(c){s.e(c)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=ie(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Oo(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}();var cs=function(e){function t(e){ae(this,t),this.binaryString=e}return se(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Do(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();cs.EMPTY_BYTE_STRING=new cs("");var ls=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fs(e){if(ko(!!e),"string"==typeof e){var t=0,n=ls.exec(e);if(ko(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:hs(e.seconds),nanos:hs(e.nanos)}}function hs(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function ds(e){return"string"==typeof e?cs.fromBase64String(e):cs.fromUint8Array(e)}function ps(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function vs(e){var t=e.mapValue.fields.__previous_value__;return ps(t)?vs(t):t}function ms(e){var t=fs(e.mapValue.fields.__local_write_time__.timestampValue);return new Po(t.seconds,t.nanos)}var ys=se((function e(t,n,r,i,a,o,s,u){ae(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u})),gs=function(){function e(t,n){ae(this,e),this.projectId=t,this.database=n||"(default)"}return se(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function ks(e){return null==e}function bs(e){return 0===e&&1/e==-1/0}function ws(e){return"number"==typeof e&&Number.isInteger(e)&&!bs(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var xs={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function _s(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ps(e)?4:Ms(e)?9007199254740991:10:go()}function Ss(e,t){if(e===t)return!0;var n=_s(e);if(n!==_s(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ms(e).isEqual(ms(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=fs(e.timestampValue),r=fs(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return ds(e.bytesValue).isEqual(ds(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return hs(e.geoPointValue.latitude)===hs(t.geoPointValue.latitude)&&hs(e.geoPointValue.longitude)===hs(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return hs(e.integerValue)===hs(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=hs(e.doubleValue),r=hs(t.doubleValue);return n===r?bs(n)===bs(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Oo(e.arrayValue.values||[],t.arrayValue.values||[],Ss);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(es(n)!==es(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Ss(n[i],r[i])))return!1;return!0}(e,t);default:return go()}}function Es(e,t){return void 0!==(e.values||[]).find((function(e){return Ss(e,t)}))}function Is(e,t){if(e===t)return 0;var n=_s(e),r=_s(t);if(n!==r)return Do(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Do(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=hs(e.integerValue||e.doubleValue),r=hs(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Cs(e.timestampValue,t.timestampValue);case 4:return Cs(ms(e),ms(t));case 5:return Do(e.stringValue,t.stringValue);case 6:return function(e,t){var n=ds(e),r=ds(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Do(n[i],r[i]);if(0!==a)return a}return Do(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Do(hs(e.latitude),hs(t.latitude));return 0!==n?n:Do(hs(e.longitude),hs(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Is(n[i],r[i]);if(a)return a}return Do(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===xs.mapValue&&t===xs.mapValue)return 0;if(e===xs.mapValue)return 1;if(t===xs.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=Do(r[o],a[o]);if(0!==s)return s;var u=Is(n[r[o]],i[a[o]]);if(0!==u)return u}return Do(r.length,a.length)}(e.mapValue,t.mapValue);default:throw go()}}function Cs(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Do(e,t);var n=fs(e),r=fs(t),i=Do(n.seconds,r.seconds);return 0!==i?i:Do(n.nanos,r.nanos)}function Ts(e){return Ns(e)}function Ns(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=fs(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?ds(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Bo.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=ie(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Ns(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=ie(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Ns(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):go();var t,n}function As(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function js(e){return!!e&&"integerValue"in e}function Rs(e){return!!e&&"arrayValue"in e}function Ds(e){return!!e&&"nullValue"in e}function Os(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ps(e){return!!e&&"mapValue"in e}function Ls(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return ts(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Ls(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Ls(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Ms(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}var Us=function(){function e(t){ae(this,e),this.value=t}return se(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Ps(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ls(t)}},{key:"setAll",value:function(e){var t=this,n=Vo.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Ls(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Ps(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Ss(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Ps(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){ts(t,(function(t,n){return e[t]=n}));var r,i=ie(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Ls(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Fs(e){var t=[];return ts(e.fields,(function(e,n){var r=new Vo([e]);if(Ps(n)){var i=Fs(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=ie(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new us(t)}var Vs=function(){function e(t,n,r,i,a,o){ae(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return se(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Us.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Us.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Lo.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Lo.min(),Lo.min(),Us.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,Lo.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Lo.min(),Us.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Lo.min(),Us.empty(),2)}}]),e}(),Bs=se((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;ae(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.ht=null}));function zs(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new Bs(e,t,n,r,i,a,o)}function qs(e){var t=bo(e);if(null===t.ht){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+Ts(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),ks(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Ts(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Ts(e)})).join(",")),t.ht=n}return t.ht}function Hs(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!ru(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!Ss(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!au(e.startAt,t.startAt)&&au(e.endAt,t.endAt)}function Ws(e){return Bo.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var Ks=function(e){le(n,e);var t=pe(n);function n(e,r,i){var a;return ae(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return se(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(Is(t,this.value)):null!==t&&_s(this.value)===_s(t)&&this.ft(Is(t,this.value))}},{key:"ft",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return go()}}},{key:"dt",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new Gs(e,t,r):"array-contains"===t?new Js(e,r):"in"===t?new Zs(e,r):"not-in"===t?new $s(e,r):"array-contains-any"===t?new eu(e,r):new n(e,t,r)}},{key:"lt",value:function(e,t,n){return"in"===t?new Qs(e,n):new Ys(e,n)}}]),n}(function(){return se((function e(){ae(this,e)}))}()),Gs=function(e){le(n,e);var t=pe(n);function n(e,r,i){var a;return ae(this,n),(a=t.call(this,e,r,i)).key=Bo.fromName(i.referenceValue),a}return se(n,[{key:"matches",value:function(e){var t=Bo.comparator(e.key,this.key);return this.ft(t)}}]),n}(Ks),Qs=function(e){le(n,e);var t=pe(n);function n(e,r){var i;return ae(this,n),(i=t.call(this,e,"in",r)).keys=Xs("in",r),i}return se(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Ks),Ys=function(e){le(n,e);var t=pe(n);function n(e,r){var i;return ae(this,n),(i=t.call(this,e,"not-in",r)).keys=Xs("not-in",r),i}return se(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Ks);function Xs(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Bo.fromName(e.referenceValue)}))}var Js=function(e){le(n,e);var t=pe(n);function n(e,r){return ae(this,n),t.call(this,e,"array-contains",r)}return se(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Rs(t)&&Es(t.arrayValue,this.value)}}]),n}(Ks),Zs=function(e){le(n,e);var t=pe(n);function n(e,r){return ae(this,n),t.call(this,e,"in",r)}return se(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Es(this.value.arrayValue,t)}}]),n}(Ks),$s=function(e){le(n,e);var t=pe(n);function n(e,r){return ae(this,n),t.call(this,e,"not-in",r)}return se(n,[{key:"matches",value:function(e){if(Es(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Es(this.value.arrayValue,t)}}]),n}(Ks),eu=function(e){le(n,e);var t=pe(n);function n(e,r){return ae(this,n),t.call(this,e,"array-contains-any",r)}return se(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Rs(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Es(t.value.arrayValue,e)}))}}]),n}(Ks),tu=se((function e(t,n){ae(this,e),this.position=t,this.inclusive=n})),nu=se((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";ae(this,e),this.field=t,this.dir=n}));function ru(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function iu(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Bo.comparator(Bo.fromName(o.referenceValue),n.key):Is(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function au(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Ss(e.position[n],t.position[n]))return!1;return!0}var ou=se((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;ae(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this._t=null,this.wt=null,this.startAt,this.endAt}));function su(e,t,n,r,i,a,o,s){return new ou(e,t,n,r,i,a,o,s)}function uu(e){return new ou(e)}function cu(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function lu(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function fu(e){var t,n=ie(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.dt())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function hu(e){return null!==e.collectionGroup}function du(e){var t=bo(e);if(null===t._t){t._t=[];var n=fu(t),r=lu(t);if(null!==n&&null===r)n.isKeyField()||t._t.push(new nu(n)),t._t.push(new nu(Vo.keyField(),"asc"));else{var i,a=!1,o=ie(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t._t.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t._t.push(new nu(Vo.keyField(),u))}}}return t._t}function pu(e){var t=bo(e);if(!t.wt)if("F"===t.limitType)t.wt=zs(t.path,t.collectionGroup,du(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=ie(du(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new nu(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new tu(t.endAt.position,t.endAt.inclusive):null,u=t.startAt?new tu(t.startAt.position,t.startAt.inclusive):null;t.wt=zs(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t.wt}function vu(e,t,n){return new ou(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function mu(e,t){return Hs(pu(e),pu(t))&&e.limitType===t.limitType}function yu(e){return"".concat(qs(pu(e)),"|lt:").concat(e.limitType)}function gu(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Ts(t.value));var t})).join(", "),"]")),ks(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Ts(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Ts(e)})).join(",")),"Target(".concat(t,")")}(pu(e)),"; limitType=").concat(e.limitType,")")}function ku(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Bo.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=ie(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=ie(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=iu(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,du(e),t))&&!(e.endAt&&!function(e,t,n){var r=iu(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,du(e),t))}(e,t)}function bu(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function wu(e){return function(t,n){var r,i=!1,a=ie(du(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=xu(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function xu(e,t,n){var r=e.field.isKeyField()?Bo.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Is(r,i):go()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return go()}}function _u(e,t){if(e.gt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bs(t)?"-0":t}}function Su(e){return{integerValue:""+e}}function Eu(e,t){return ws(t)?Su(t):_u(e,t)}var Iu=se((function e(){ae(this,e),this._=void 0}));function Cu(e,t,n){return e instanceof Au?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof ju?Ru(e,t):e instanceof Du?Ou(e,t):function(e,t){var n=Nu(e,t),r=Lu(n)+Lu(e.yt);return js(n)&&js(e.yt)?Su(r):_u(e.It,r)}(e,t)}function Tu(e,t,n){return e instanceof ju?Ru(e,t):e instanceof Du?Ou(e,t):n}function Nu(e,t){return e instanceof Pu?js(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Au=function(e){le(n,e);var t=pe(n);function n(){return ae(this,n),t.apply(this,arguments)}return se(n)}(Iu),ju=function(e){le(n,e);var t=pe(n);function n(e){var r;return ae(this,n),(r=t.call(this)).elements=e,r}return se(n)}(Iu);function Ru(e,t){var n,r=Mu(t),i=ie(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Ss(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Du=function(e){le(n,e);var t=pe(n);function n(e){var r;return ae(this,n),(r=t.call(this)).elements=e,r}return se(n)}(Iu);function Ou(e,t){var n,r=Mu(t),i=ie(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Ss(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Pu=function(e){le(n,e);var t=pe(n);function n(e,r){var i;return ae(this,n),(i=t.call(this)).It=e,i.yt=r,i}return se(n)}(Iu);function Lu(e){return hs(e.integerValue||e.doubleValue)}function Mu(e){return Rs(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Uu=se((function e(t,n){ae(this,e),this.field=t,this.transform=n}));var Fu=se((function e(t,n){ae(this,e),this.version=t,this.transformResults=n})),Vu=function(){function e(t,n){ae(this,e),this.updateTime=t,this.exists=n}return se(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Bu(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var zu=se((function e(){ae(this,e)}));function qu(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new tc(e.key,Vu.none()):new Qu(e.key,e.data,Vu.none());var n,r=e.data,i=Us.empty(),a=new os(Vo.comparator),o=ie(t.fields);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(!a.has(s)){var u=r.field(s);null===u&&s.length>1&&(s=s.popLast(),u=r.field(s)),null===u?i.delete(s):i.set(s,u),a=a.add(s)}}}catch(c){o.e(c)}finally{o.f()}return new Yu(e.key,i,new us(a.toArray()),Vu.none())}function Hu(e,t,n){e instanceof Qu?function(e,t,n){var r=e.value.clone(),i=Ju(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Yu?function(e,t,n){if(Bu(e.precondition,t)){var r=Ju(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Xu(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Wu(e,t,n,r){return e instanceof Qu?function(e,t,n,r){if(!Bu(e.precondition,t))return n;var i=e.value.clone(),a=Zu(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Yu?function(e,t,n,r){if(!Bu(e.precondition,t))return n;var i=Zu(e.fieldTransforms,r,t),a=t.data;return a.setAll(Xu(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return Bu(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Ku(e,t){var n,r=null,i=ie(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=Nu(a.transform,o||null);null!=s&&(null===r&&(r=Us.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function Gu(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Oo(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof ju&&t instanceof ju||e instanceof Du&&t instanceof Du?Oo(e.elements,t.elements,Ss):e instanceof Pu&&t instanceof Pu?Ss(e.yt,t.yt):e instanceof Au&&t instanceof Au}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var Qu=function(e){le(n,e);var t=pe(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return ae(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return se(n,[{key:"getFieldMask",value:function(){return null}}]),n}(zu),Yu=function(e){le(n,e);var t=pe(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return ae(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return se(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(zu);function Xu(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Ju(e,t,n){var r=new Map;ko(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,Tu(o,s,n[i]))}return r}function Zu(e,t,n){var r,i=new Map,a=ie(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,Cu(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var $u,ec,tc=function(e){le(n,e);var t=pe(n);function n(e,r){var i;return ae(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return se(n,[{key:"getFieldMask",value:function(){return null}}]),n}(zu),nc=function(e){le(n,e);var t=pe(n);function n(e,r){var i;return ae(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return se(n,[{key:"getFieldMask",value:function(){return null}}]),n}(zu),rc=se((function e(t){ae(this,e),this.count=t}));function ic(e){switch(e){default:return go();case wo.CANCELLED:case wo.UNKNOWN:case wo.DEADLINE_EXCEEDED:case wo.RESOURCE_EXHAUSTED:case wo.INTERNAL:case wo.UNAVAILABLE:case wo.UNAUTHENTICATED:return!1;case wo.INVALID_ARGUMENT:case wo.NOT_FOUND:case wo.ALREADY_EXISTS:case wo.PERMISSION_DENIED:case wo.FAILED_PRECONDITION:case wo.ABORTED:case wo.OUT_OF_RANGE:case wo.UNIMPLEMENTED:case wo.DATA_LOSS:return!0}}function ac(e){if(void 0===e)return vo("GRPC error has no .code"),wo.UNKNOWN;switch(e){case $u.OK:return wo.OK;case $u.CANCELLED:return wo.CANCELLED;case $u.UNKNOWN:return wo.UNKNOWN;case $u.DEADLINE_EXCEEDED:return wo.DEADLINE_EXCEEDED;case $u.RESOURCE_EXHAUSTED:return wo.RESOURCE_EXHAUSTED;case $u.INTERNAL:return wo.INTERNAL;case $u.UNAVAILABLE:return wo.UNAVAILABLE;case $u.UNAUTHENTICATED:return wo.UNAUTHENTICATED;case $u.INVALID_ARGUMENT:return wo.INVALID_ARGUMENT;case $u.NOT_FOUND:return wo.NOT_FOUND;case $u.ALREADY_EXISTS:return wo.ALREADY_EXISTS;case $u.PERMISSION_DENIED:return wo.PERMISSION_DENIED;case $u.FAILED_PRECONDITION:return wo.FAILED_PRECONDITION;case $u.ABORTED:return wo.ABORTED;case $u.OUT_OF_RANGE:return wo.OUT_OF_RANGE;case $u.UNIMPLEMENTED:return wo.UNIMPLEMENTED;case $u.DATA_LOSS:return wo.DATA_LOSS;default:return go()}}(ec=$u||($u={}))[ec.OK=0]="OK",ec[ec.CANCELLED=1]="CANCELLED",ec[ec.UNKNOWN=2]="UNKNOWN",ec[ec.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ec[ec.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ec[ec.NOT_FOUND=5]="NOT_FOUND",ec[ec.ALREADY_EXISTS=6]="ALREADY_EXISTS",ec[ec.PERMISSION_DENIED=7]="PERMISSION_DENIED",ec[ec.UNAUTHENTICATED=16]="UNAUTHENTICATED",ec[ec.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ec[ec.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ec[ec.ABORTED=10]="ABORTED",ec[ec.OUT_OF_RANGE=11]="OUT_OF_RANGE",ec[ec.UNIMPLEMENTED=12]="UNIMPLEMENTED",ec[ec.INTERNAL=13]="INTERNAL",ec[ec.UNAVAILABLE=14]="UNAVAILABLE",ec[ec.DATA_LOSS=15]="DATA_LOSS";var oc=function(){function e(t,n){ae(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return se(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=ie(n);try{for(i.s();!(r=i.n()).done;){var a=o(r.value,2),s=a[0],u=a[1];if(this.equalsFn(s,e))return u}}catch(c){i.e(c)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){ts(this.inner,(function(t,n){var r,i=ie(n);try{for(i.s();!(r=i.n()).done;){var a=o(r.value,2),s=a[0],u=a[1];e(s,u)}}catch(c){i.e(c)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return ns(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),sc=new rs(Bo.comparator);function uc(){return sc}var cc=new rs(Bo.comparator);function lc(){for(var e=cc,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function fc(e){var t=cc;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function hc(){return pc()}function dc(){return pc()}function pc(){return new oc((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var vc=new rs(Bo.comparator),mc=new os(Bo.comparator);function yc(){for(var e=mc,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var gc=new os(Do);function kc(){return gc}var bc=function(){function e(t,n,r,i,a){ae(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return se(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,wc.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Lo.min(),r,kc(),uc(),yc())}}]),e}(),wc=function(){function e(t,n,r,i,a){ae(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return se(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(cs.EMPTY_BYTE_STRING,n,yc(),yc(),yc())}}]),e}(),xc=se((function e(t,n,r,i){ae(this,e),this.Tt=t,this.removedTargetIds=n,this.key=r,this.Et=i})),_c=se((function e(t,n){ae(this,e),this.targetId=t,this.At=n})),Sc=se((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:cs.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;ae(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Ec=function(){function e(){ae(this,e),this.Rt=0,this.bt=Tc(),this.Pt=cs.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}return se(e,[{key:"current",get:function(){return this.vt}},{key:"resumeToken",get:function(){return this.Pt}},{key:"St",get:function(){return 0!==this.Rt}},{key:"Dt",get:function(){return this.Vt}},{key:"Ct",value:function(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}},{key:"xt",value:function(){var e=yc(),t=yc(),n=yc();return this.bt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:go()}})),new wc(this.Pt,this.vt,e,t,n)}},{key:"Nt",value:function(){this.Vt=!1,this.bt=Tc()}},{key:"kt",value:function(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}},{key:"Mt",value:function(e){this.Vt=!0,this.bt=this.bt.remove(e)}},{key:"Ot",value:function(){this.Rt+=1}},{key:"Ft",value:function(){this.Rt-=1}},{key:"$t",value:function(){this.Vt=!0,this.vt=!0}}]),e}(),Ic=function(){function e(t){ae(this,e),this.Bt=t,this.Lt=new Map,this.Ut=uc(),this.qt=Cc(),this.Kt=new os(Do)}return se(e,[{key:"Gt",value:function(e){var t,n=ie(e.Tt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Et&&e.Et.isFoundDocument()?this.Qt(r,e.Et):this.jt(r,e.key,e.Et)}}catch(s){n.e(s)}finally{n.f()}var i,a=ie(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.jt(o,e.key,e.Et)}}catch(s){a.e(s)}finally{a.f()}}},{key:"Wt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.zt(n);switch(e.state){case 0:t.Ht(n)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||t.removeTarget(n);break;case 3:t.Ht(n)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:t.Ht(n)&&(t.Jt(n),r.Ct(e.resumeToken));break;default:go()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((function(e,r){n.Ht(r)&&t(r)}))}},{key:"Yt",value:function(e){var t=e.targetId,n=e.At.count,r=this.Xt(t);if(r){var i=r.target;if(Ws(i))if(0===n){var a=new Bo(i.path);this.jt(t,a,Vs.newNoDocument(a,Lo.min()))}else ko(1===n);else this.Zt(t)!==n&&(this.Jt(t),this.Kt=this.Kt.add(t))}}},{key:"te",value:function(e){var t=this,n=new Map;this.Lt.forEach((function(r,i){var a=t.Xt(i);if(a){if(r.current&&Ws(a.target)){var o=new Bo(a.target.path);null!==t.Ut.get(o)||t.ee(i,o)||t.jt(i,o,Vs.newNoDocument(o,e))}r.Dt&&(n.set(i,r.xt()),r.Nt())}}));var r=yc();this.qt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Xt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Ut.forEach((function(t,n){return n.setReadTime(e)}));var i=new bc(e,n,this.Kt,this.Ut,r);return this.Ut=uc(),this.qt=Cc(),this.Kt=new os(Do),i}},{key:"Qt",value:function(e,t){if(this.Ht(e)){var n=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,n),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}}},{key:"jt",value:function(e,t,n){if(this.Ht(e)){var r=this.zt(e);this.ee(e,t)?r.kt(t,1):r.Mt(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),n&&(this.Ut=this.Ut.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Lt.delete(e)}},{key:"Zt",value:function(e){var t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Ot",value:function(e){this.zt(e).Ot()}},{key:"zt",value:function(e){var t=this.Lt.get(e);return t||(t=new Ec,this.Lt.set(e,t)),t}},{key:"ne",value:function(e){var t=this.qt.get(e);return t||(t=new os(Do),this.qt=this.qt.insert(e,t)),t}},{key:"Ht",value:function(e){var t=null!==this.Xt(e);return t||po("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Xt",value:function(e){var t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}},{key:"Jt",value:function(e){var t=this;this.Lt.set(e,new Ec),this.Bt.getRemoteKeysForTarget(e).forEach((function(n){t.jt(e,n,null)}))}},{key:"ee",value:function(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}]),e}();function Cc(){return new rs(Bo.comparator)}function Tc(){return new rs(Bo.comparator)}var Nc={asc:"ASCENDING",desc:"DESCENDING"},Ac={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jc=se((function e(t,n){ae(this,e),this.databaseId=t,this.gt=n}));function Rc(e,t){return e.gt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Dc(e,t){return e.gt?t.toBase64():t.toUint8Array()}function Oc(e,t){return Rc(e,t.toTimestamp())}function Pc(e){return ko(!!e),Lo.fromTimestamp(function(e){var t=fs(e);return new Po(t.seconds,t.nanos)}(e))}function Lc(e,t){return function(e){return new Uo(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Mc(e){var t=Uo.fromString(e);return ko(rl(t)),t}function Uc(e,t){return Lc(e.databaseId,t.path)}function Fc(e,t){var n=Mc(t);if(n.get(1)!==e.databaseId.projectId)throw new xo(wo.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new xo(wo.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Bo(qc(n))}function Vc(e,t){return Lc(e.databaseId,t)}function Bc(e){var t=Mc(e);return 4===t.length?Uo.emptyPath():qc(t)}function zc(e){return new Uo(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function qc(e){return ko(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Hc(e,t,n){return{name:Uc(e,t),fields:n.value.mapValue.fields}}function Wc(e,t){var n;if(t instanceof Qu)n={update:Hc(e,t.key,t.value)};else if(t instanceof tc)n={delete:Uc(e,t.key)};else if(t instanceof Yu)n={update:Hc(e,t.key,t.data),updateMask:nl(t.fieldMask)};else{if(!(t instanceof nc))return go();n={verify:Uc(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Au)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ju)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Du)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Pu)return{fieldPath:t.field.canonicalString(),increment:n.yt};throw go()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Oc(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:go()}(e,t.precondition)),n}function Kc(e,t){return{documents:[Vc(e,t.path)]}}function Gc(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Vc(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Vc(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Os(e.value))return{unaryFilter:{field:Zc(e.field),op:"IS_NAN"}};if(Ds(e.value))return{unaryFilter:{field:Zc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Os(e.value))return{unaryFilter:{field:Zc(e.field),op:"IS_NOT_NAN"}};if(Ds(e.value))return{unaryFilter:{field:Zc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zc(e.field),op:Jc(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Zc(e.field),direction:Xc(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,s=function(e,t){return e.gt||ks(t)?t:{value:t}}(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Qc(e){var t=Bc(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ko(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=Yc(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new nu($c(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return ks(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new tu(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new tu(n,t)}(n.endAt)),su(t,i,s,o,u,"F",c,l)}function Yc(e){return e?void 0!==e.unaryFilter?[tl(e)]:void 0!==e.fieldFilter?[el(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Yc(e)})).reduce((function(e,t){return e.concat(t)})):go():[]}function Xc(e){return Nc[e]}function Jc(e){return Ac[e]}function Zc(e){return{fieldPath:e.canonicalString()}}function $c(e){return Vo.fromServerFormat(e.fieldPath)}function el(e){return Ks.create($c(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return go()}}(e.fieldFilter.op),e.fieldFilter.value)}function tl(e){switch(e.unaryFilter.op){case"IS_NAN":var t=$c(e.unaryFilter.field);return Ks.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=$c(e.unaryFilter.field);return Ks.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=$c(e.unaryFilter.field);return Ks.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=$c(e.unaryFilter.field);return Ks.create(i,"!=",{nullValue:"NULL_VALUE"});default:return go()}}function nl(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function rl(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var il=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),al=([].concat($(il),["documentOverlays"]),["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"]),ol=al;[].concat(ol,["indexConfiguration","indexState","indexEntries"]);var sl=function(){function e(t,n,r,i){ae(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return se(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Hu(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=ie(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=Wu(i,e,t,this.localWriteTime))}}catch(u){r.e(u)}finally{r.f()}var a,o=ie(this.mutations);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.key.isEqual(e.key)&&(t=Wu(s,e,t,this.localWriteTime))}}catch(u){o.e(u)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=dc();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,s=n.applyToLocalView(o,a.mutatedFields),u=qu(o,s=t.has(i.key)?null:s);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Lo.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),yc())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Oo(this.mutations,e.mutations,(function(e,t){return Gu(e,t)}))&&Oo(this.baseMutations,e.baseMutations,(function(e,t){return Gu(e,t)}))}}]),e}(),ul=function(){function e(t,n,r,i){ae(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return se(e,null,[{key:"from",value:function(t,n,r){ko(t.mutations.length===r.length);for(var i=vc,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),cl=function(){function e(t,n){ae(this,e),this.largestBatchId=t,this.mutation=n}return se(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),ll=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Lo.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Lo.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:cs.EMPTY_BYTE_STRING;ae(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return se(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),fl=se((function e(t){ae(this,e),this.re=t}));function hl(e){var t=Qc({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?vu(t,t.limit,"L"):t}var dl=function(){function e(){ae(this,e)}return se(e,[{key:"ce",value:function(e,t){this.ae(e,t),t.he()}},{key:"ae",value:function(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(hs(e.integerValue));else if("doubleValue"in e){var n=hs(e.doubleValue);isNaN(n)?this.le(t,13):(this.le(t,15),bs(n)?t.fe(0):t.fe(n))}else if("timestampValue"in e){var r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de("".concat(r.seconds||"")),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(ds(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.le(t,45),t.fe(i.latitude||0),t.fe(i.longitude||0)}else"mapValue"in e?Ms(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):go()}},{key:"_e",value:function(e,t){this.le(t,25),this.Ie(e,t)}},{key:"Ie",value:function(e,t){t.de(e)}},{key:"ye",value:function(e,t){var n=e.fields||{};this.le(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this._e(a,t),this.ae(n[a],t)}}},{key:"pe",value:function(e,t){var n=e.values||[];this.le(t,50);var r,i=ie(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.ae(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ge",value:function(e,t){var n=this;this.le(t,37),Bo.fromName(e).path.forEach((function(e){n.le(t,60),n.Ie(e,t)}))}},{key:"le",value:function(e,t){e.fe(t)}},{key:"we",value:function(e){e.fe(2)}}]),e}();dl.Te=new dl;var pl=function(){function e(){ae(this,e),this.Ye=new vl}return se(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Ye.add(t),Jo.resolve()}},{key:"getCollectionParents",value:function(e,t){return Jo.resolve(this.Ye.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Jo.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Jo.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Jo.resolve(null)}},{key:"getIndexType",value:function(e,t){return Jo.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return Jo.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Jo.resolve(null)}},{key:"getMinOffset",value:function(e,t){return Jo.resolve(Wo.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return Jo.resolve(Wo.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return Jo.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Jo.resolve()}}]),e}(),vl=function(){function e(){ae(this,e),this.index={}}return se(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new os(Uo.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new os(Uo.comparator)).toArray()}}]),e}();new Uint8Array(0);var ml=function(){function e(t,n,r){ae(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return se(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();ml.DEFAULT_COLLECTION_PERCENTILE=10,ml.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ml.DEFAULT=new ml(41943040,ml.DEFAULT_COLLECTION_PERCENTILE,ml.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ml.DISABLED=new ml(-1,0,0);var yl=function(){function e(t){ae(this,e),this.bn=t}return se(e,[{key:"next",value:function(){return this.bn+=2,this.bn}}],[{key:"Pn",value:function(){return new e(0)}},{key:"vn",value:function(){return new e(-1)}}]),e}();var gl=function(){function e(){ae(this,e),this.changes=new oc((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return se(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Vs.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Jo.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}();var kl=se((function e(t,n){ae(this,e),this.overlayedDocument=t,this.mutatedFields=n})),bl=function(){function e(t,n,r,i){ae(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return se(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.getBaseDocument(e,t,r)})).next((function(e){return null!==r&&Wu(r.mutation,e,us.empty(),Po.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,yc()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:yc(),i=hc();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=lc();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=hc();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,yc())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=uc(),a=pc(),o=pc();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Yu)?i=i.insert(t.key,t):void 0!==o&&(a.set(t.key,o.mutation.getFieldMask()),Wu(o.mutation,t,o.mutation.getFieldMask(),Po.now()))})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new kl(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=pc(),i=new rs((function(e,t){return e-t})),a=yc();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=ie(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||us.empty();o=e.applyToLocalView(a,o),r.set(n,o);var s=(i.get(e.batchId)||yc()).add(n);i=i.insert(e.batchId,s)}}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}})).next((function(){for(var o=[],s=i.getReverseIterator(),u=function(){var i=s.getNext(),u=i.key,c=i.value,l=dc();c.forEach((function(e){if(!a.has(e)){var n=qu(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,u,l))};s.hasNext();)u();return Jo.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Bo.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):hu(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):Jo.resolve(hc()),s=-1,u=a;return o.next((function(t){return Jo.forEach(t,(function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),a.get(t)?Jo.resolve():i.getBaseDocument(e,t,n).next((function(e){u=u.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,u,t,yc())})).next((function(e){return{batchId:s,changes:fc(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Bo(t)).next((function(e){var t=lc();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=lc();return this.indexManager.getCollectionParents(e,i).next((function(o){return Jo.forEach(o,(function(o){var s=function(e,t){return new ou(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((function(a){return r=a,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)})).next((function(e){e.forEach((function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,Vs.newInvalidDocument(n)))}));var n=lc();return r.forEach((function(r,i){var a=e.get(r);void 0!==a&&Wu(a.mutation,i,us.empty(),Po.now()),ku(t,i)&&(n=n.insert(r,i))})),n}))}},{key:"getBaseDocument",value:function(e,t,n){return null===n||1===n.mutation.type?this.remoteDocumentCache.getEntry(e,t):Jo.resolve(Vs.newInvalidDocument(t))}}]),e}(),wl=function(){function e(t){ae(this,e),this.It=t,this.Zn=new Map,this.ts=new Map}return se(e,[{key:"getBundleMetadata",value:function(e,t){return Jo.resolve(this.Zn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:Pc(n.createTime)}),Jo.resolve()}},{key:"getNamedQuery",value:function(e,t){return Jo.resolve(this.ts.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.ts.set(t.name,function(e){return{name:e.name,query:hl(e.bundledQuery),readTime:Pc(e.readTime)}}(t)),Jo.resolve()}}]),e}(),xl=function(){function e(){ae(this,e),this.overlays=new rs(Bo.comparator),this.es=new Map}return se(e,[{key:"getOverlay",value:function(e,t){return Jo.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=hc();return Jo.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ue(e,t,i)})),Jo.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.es.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.es.delete(n)),Jo.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=hc(),i=t.length+1,a=new Bo(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return Jo.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new rs((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=hc(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=hc(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return Jo.resolve(u)}},{key:"ue",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.es.get(r.largestBatchId).delete(n.key);this.es.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new cl(t,n));var a=this.es.get(t);void 0===a&&(a=yc(),this.es.set(t,a)),this.es.set(t,a.add(n.key))}}]),e}(),_l=function(){function e(){ae(this,e),this.ns=new os(Sl.ss),this.rs=new os(Sl.os)}return se(e,[{key:"isEmpty",value:function(){return this.ns.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Sl(e,t);this.ns=this.ns.add(n),this.rs=this.rs.add(n)}},{key:"us",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.cs(new Sl(e,t))}},{key:"hs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ls",value:function(e){var t=this,n=new Bo(new Uo([])),r=new Sl(n,e),i=new Sl(n,e+1),a=[];return this.rs.forEachInRange([r,i],(function(e){t.cs(e),a.push(e.key)})),a}},{key:"fs",value:function(){var e=this;this.ns.forEach((function(t){return e.cs(t)}))}},{key:"cs",value:function(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}},{key:"ds",value:function(e){var t=new Bo(new Uo([])),n=new Sl(t,e),r=new Sl(t,e+1),i=yc();return this.rs.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Sl(e,0),n=this.ns.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Sl=function(){function e(t,n){ae(this,e),this.key=t,this._s=n}return se(e,null,[{key:"ss",value:function(e,t){return Bo.comparator(e.key,t.key)||Do(e._s,t._s)}},{key:"os",value:function(e,t){return Do(e._s,t._s)||Bo.comparator(e.key,t.key)}}]),e}(),El=function(){function e(t,n){ae(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new os(Sl.ss)}return se(e,[{key:"checkEmpty",value:function(e){return Jo.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new sl(i,t,n,r);this.mutationQueue.push(a);var o,s=ie(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.gs=this.gs.add(new Sl(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return Jo.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Jo.resolve(this.ys(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ps(n),i=r<0?0:r;return Jo.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Jo.resolve(0===this.mutationQueue.length?-1:this.ws-1)}},{key:"getAllMutationBatches",value:function(e){return Jo.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Sl(t,0),i=new Sl(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,i],(function(e){var t=n.ys(e._s);a.push(t)})),Jo.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new os(Do);return t.forEach((function(e){var t=new Sl(e,0),i=new Sl(e,Number.POSITIVE_INFINITY);n.gs.forEachInRange([t,i],(function(e){r=r.add(e._s)}))})),Jo.resolve(this.Is(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Bo.isDocumentKey(i)||(i=i.child(""));var a=new Sl(new Bo(i),0),o=new os(Do);return this.gs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e._s)),!0)}),a),Jo.resolve(this.Is(o))}},{key:"Is",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ys(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;ko(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();var r=this.gs;return Jo.forEach(t.mutations,(function(i){var a=new Sl(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.gs=r}))}},{key:"An",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Sl(t,0),r=this.gs.firstAfterOrEqual(n);return Jo.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,Jo.resolve()}},{key:"Ts",value:function(e,t){return this.ps(e)}},{key:"ps",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"ys",value:function(e){var t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),Il=function(){function e(t){ae(this,e),this.Es=t,this.docs=new rs(Bo.comparator),this.size=0}return se(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Es(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Jo.resolve(n?n.document.mutableCopy():Vs.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=uc();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Vs.newInvalidDocument(e))})),Jo.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=uc(),i=new Bo(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),s=o.key,u=o.value.document;if(!t.isPrefixOf(s.path))break;s.path.length>t.length+1||Ko(Ho(u),n)<=0||(r=r.insert(u.key,u.mutableCopy()))}return Jo.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){go()}},{key:"As",value:function(e,t){return Jo.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Cl(this)}},{key:"getSize",value:function(e){return Jo.resolve(this.size)}}]),e}(),Cl=function(e){le(n,e);var t=pe(n);function n(e){var r;return ae(this,n),(r=t.call(this)).Yn=e,r}return se(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Yn.addEntry(e,i)):t.Yn.removeEntry(r)})),Jo.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Yn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Yn.getEntries(e,t)}}]),n}(gl),Tl=function(){function e(t){ae(this,e),this.persistence=t,this.Rs=new oc((function(e){return qs(e)}),Hs),this.lastRemoteSnapshotVersion=Lo.min(),this.highestTargetId=0,this.bs=0,this.Ps=new _l,this.targetCount=0,this.vs=yl.Pn()}return se(e,[{key:"forEachTarget",value:function(e,t){return this.Rs.forEach((function(e,n){return t(n)})),Jo.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Jo.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Jo.resolve(this.bs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.vs.next(),Jo.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.bs&&(this.bs=t),Jo.resolve()}},{key:"Dn",value:function(e){this.Rs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.vs=new yl(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Dn(t),this.targetCount+=1,Jo.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Dn(t),Jo.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,Jo.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Rs.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Rs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),Jo.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Jo.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Rs.get(t)||null;return Jo.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Ps.us(t,n),Jo.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Ps.hs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Jo.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Ps.ls(t),Jo.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Ps.ds(t);return Jo.resolve(n)}},{key:"containsKey",value:function(e,t){return Jo.resolve(this.Ps.containsKey(t))}}]),e}(),Nl=function(){function e(t,n){var r=this;ae(this,e),this.Vs={},this.overlays={},this.Ss=new $o(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new Tl(this),this.indexManager=new pl,this.remoteDocumentCache=new Il((function(e){return r.referenceDelegate.xs(e)})),this.It=new fl(n),this.Ns=new wl(this.It)}return se(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ds=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ds}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new xl,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Vs[e.toKey()];return n||(n=new El(t,this.referenceDelegate),this.Vs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;po("MemoryPersistence","Starting transaction:",e);var i=new Al(this.Ss.next());return this.referenceDelegate.ks(),n(i).next((function(e){return r.referenceDelegate.Ms(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Os",value:function(e,t){return Jo.or(Object.values(this.Vs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Al=function(e){le(n,e);var t=pe(n);function n(e){var r;return ae(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return se(n)}(Qo),jl=function(){function e(t){ae(this,e),this.persistence=t,this.Fs=new _l,this.$s=null}return se(e,[{key:"Ls",get:function(){if(this.$s)return this.$s;throw go()}},{key:"addReference",value:function(e,t,n){return this.Fs.addReference(n,t),this.Ls.delete(n.toString()),Jo.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Fs.removeReference(n,t),this.Ls.add(n.toString()),Jo.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ls.add(t.toString()),Jo.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Fs.ls(t.targetId).forEach((function(e){return n.Ls.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ls.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"ks",value:function(){this.$s=new Set}},{key:"Ms",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Jo.forEach(this.Ls,(function(r){var i=Bo.fromPath(r);return t.Us(e,i).next((function(e){e||n.removeEntry(i,Lo.min())}))})).next((function(){return t.$s=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Us(e,t).next((function(e){e?n.Ls.delete(t.toString()):n.Ls.add(t.toString())}))}},{key:"xs",value:function(e){return 0}},{key:"Us",value:function(e,t){var n=this;return Jo.or([function(){return Jo.resolve(n.Fs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Os(e,t)}])}}],[{key:"Bs",value:function(t){return new e(t)}}]),e}();var Rl=function(){function e(t,n,r,i){ae(this,e),this.targetId=t,this.fromCache=n,this.Si=r,this.Di=i}return se(e,null,[{key:"Ci",value:function(t,n){var r,i=yc(),a=yc(),o=ie(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),Dl=function(){function e(){ae(this,e),this.xi=!1}return se(e,[{key:"initialize",value:function(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.ki(e,t).next((function(a){return a||i.Mi(e,t,r,n)})).next((function(n){return n||i.Oi(e,t)}))}},{key:"ki",value:function(e,t){var n=this;if(cu(t))return Jo.resolve(null);var r=pu(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=vu(t,null,"F"),r=pu(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=yc.apply(void 0,$(i));return n.Ni.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Fi(t,i);return n.$i(t,o,a,r.readTime)?n.ki(e,vu(t,null,"F")):n.Bi(e,o,t,r)}))}))})))}))}},{key:"Mi",value:function(e,t,n,r){var i=this;return cu(t)||r.isEqual(Lo.min())?this.Oi(e,t):this.Ni.getDocuments(e,n).next((function(a){var o=i.Fi(t,a);return i.$i(t,o,n,r)?i.Oi(e,t):(ho()<=qe.DEBUG&&po("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),gu(t)),i.Bi(e,o,t,qo(r,-1)))}))}},{key:"Fi",value:function(e,t){var n=new os(wu(e));return t.forEach((function(t,r){ku(e,r)&&(n=n.add(r))})),n}},{key:"$i",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Oi",value:function(e,t){return ho()<=qe.DEBUG&&po("QueryEngine","Using full collection scan to execute query:",gu(t)),this.Ni.getDocumentsMatchingQuery(e,t,Wo.min())}},{key:"Bi",value:function(e,t,n,r){return this.Ni.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),Ol=function(){function e(t,n,r,i){ae(this,e),this.persistence=t,this.Li=n,this.It=i,this.Ui=new rs(Do),this.qi=new oc((function(e){return qs(e)}),Hs),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(r)}return se(e,[{key:"Qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new bl(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ui)}))}}]),e}();function Pl(e,t,n,r){return new Ol(e,t,n,r)}function Ll(e,t){return Ml.apply(this,arguments)}function Ml(){return Ml=re(te().mark((function e(t,n){var r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=bo(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.Qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=yc(),u=ie(t);try{for(u.s();!(i=u.n()).done;){var c=i.value;a.push(c.batchId);var l,f=ie(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;s=s.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){u.e(k)}finally{u.f()}var d,p=ie(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=ie(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;s=s.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{ji:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Ml.apply(this,arguments)}function Ul(e,t){var n=bo(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Gi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Jo.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);ko(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=yc(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function Fl(e){var t=bo(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Cs.getLastRemoteSnapshotVersion(e)}))}function Vl(e,t){var n=bo(e),r=t.snapshotVersion,i=n.Ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.Ui;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.Cs.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.Cs.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(s)?c=c.withResumeToken(cs.EMPTY_BYTE_STRING,Lo.min()).withLastLimboFreeSnapshotVersion(Lo.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.Cs.updateTargetData(e,c))}}));var s=uc(),u=yc();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Bl(e,a,t.documentUpdates).next((function(e){s=e.Wi,u=e.zi}))),!r.isEqual(Lo.min())){var c=n.Cs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Cs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return Jo.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,s,u)})).next((function(){return s}))})).then((function(e){return n.Ui=i,e}))}function Bl(e,t,n){var r=yc(),i=yc();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=uc();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Lo.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):po("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Wi:r,zi:i}}))}function zl(e,t){var n=bo(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function ql(e,t){var n=bo(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Cs.getTargetData(e,t).next((function(i){return i?(r=i,Jo.resolve(r)):n.Cs.allocateTargetId(e).next((function(i){return r=new ll(t,i,0,e.currentSequenceNumber),n.Cs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ui.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ui=n.Ui.insert(e.targetId,e),n.qi.set(t,e.targetId)),e}))}function Hl(e,t,n){return Wl.apply(this,arguments)}function Wl(){return Wl=re(te().mark((function e(t,n,r){var i,a,o;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=bo(t),a=i.Ui.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Zo(e.t1)){e.next=12;break}throw e.t1;case 12:po("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ui=i.Ui.remove(n),i.qi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),Wl.apply(this,arguments)}function Kl(e,t,n){var r=bo(e),i=Lo.min(),a=yc();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=bo(e),i=r.qi.get(n);return void 0!==i?Jo.resolve(r.Ui.get(i)):r.Cs.getTargetData(t,n)}(r,e,pu(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Li.getDocumentsMatchingQuery(e,t,n?i:Lo.min(),n?a:yc())})).next((function(e){return Gl(r,bu(t),e),{documents:e,Hi:a}}))}))}function Gl(e,t,n){var r=Lo.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ki.set(t,r)}var Ql=function(){function e(){ae(this,e),this.activeTargetIds=kc()}return se(e,[{key:"er",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"nr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"tr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Yl=function(){function e(){ae(this,e),this.Lr=new Ql,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return se(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Lr.er(e),this.Ur[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Ur[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Lr.nr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Ur[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Lr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Lr=new Ql,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),Xl=function(){function e(){ae(this,e)}return se(e,[{key:"qr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Jl=function(){function e(){var t=this;ae(this,e),this.Kr=function(){return t.Gr()},this.Qr=function(){return t.jr()},this.Wr=[],this.zr()}return se(e,[{key:"qr",value:function(e){this.Wr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}},{key:"zr",value:function(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}},{key:"Gr",value:function(){po("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=ie(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"jr",value:function(){po("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=ie(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Zl={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},$l=function(){function e(t){ae(this,e),this.Hr=t.Hr,this.Jr=t.Jr}return se(e,[{key:"Yr",value:function(e){this.Xr=e}},{key:"Zr",value:function(e){this.eo=e}},{key:"onMessage",value:function(e){this.no=e}},{key:"close",value:function(){this.Jr()}},{key:"send",value:function(e){this.Hr(e)}},{key:"so",value:function(){this.Xr()}},{key:"io",value:function(e){this.eo(e)}},{key:"ro",value:function(e){this.no(e)}}]),e}(),ef=function(e){le(n,e);var t=pe(n);function n(e){var r;return ae(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return se(n,[{key:"lo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new so;o.listenOnce(no.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case to.NO_ERROR:var t=o.getResponseJson();po("Connection","XHR received:",JSON.stringify(t)),i(t);break;case to.TIMEOUT:po("Connection",'RPC "'+e+'" timed out'),a(new xo(wo.DEADLINE_EXCEEDED,"Request time out"));break;case to.HTTP_ERROR:var n=o.getStatus();if(po("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(wo).indexOf(t)>=0?t:wo.UNKNOWN}(r.status);a(new xo(s,r.message))}else a(new xo(wo.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new xo(wo.UNAVAILABLE,"Connection failed."));break;default:go()}}finally{po("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);o.send(t,"POST",s,n,15)}))}},{key:"_o",value:function(e,t,n){var r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=$a(),a=eo(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new ao({})),this.ho(o.initMessageHeaders,t,n),_e()||Ee()||xe().indexOf("Electron/")>=0||Ie()||xe().indexOf("MSAppHost/")>=0||Se()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=r.join("");po("Connection","Creating WebChannel: "+s,o);var u=i.createWebChannel(s,o),c=!1,l=!1,f=new $l({Hr:function(e){l?po("Connection","Not sending because WebChannel is closed:",e):(c||(po("Connection","Opening WebChannel transport."),u.open(),c=!0),po("Connection","WebChannel sending:",e),u.send(e))},Jr:function(){return u.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(u,oo.EventType.OPEN,(function(){l||po("Connection","WebChannel transport opened.")})),h(u,oo.EventType.CLOSE,(function(){l||(l=!0,po("Connection","WebChannel transport closed"),f.io())})),h(u,oo.EventType.ERROR,(function(e){l||(l=!0,mo("Connection","WebChannel transport errored:",e),f.io(new xo(wo.UNAVAILABLE,"The operation could not be completed")))})),h(u,oo.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];ko(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){po("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=$u[e];if(void 0!==t)return ac(t)}(a),s=i.message;void 0===o&&(o=wo.INTERNAL,s="Unknown error status: "+a+" with message "+i.message),l=!0,f.io(new xo(o,s)),u.close()}else po("Connection","WebChannel received:",n),f.ro(n)}})),h(a,ro.STAT_EVENT,(function(e){e.stat===io.PROXY?po("Connection","Detected buffering proxy"):e.stat===io.NOPROXY&&po("Connection","Detected no buffering proxy")})),setTimeout((function(){f.so()}),0),f}}]),n}(function(){function e(t){ae(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.oo=n+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return se(e,[{key:"co",value:function(e,t,n,r,i){var a=this.ao(e,t);po("RestConnection","Sending: ",a,n);var o={};return this.ho(o,r,i),this.lo(e,a,o,n).then((function(e){return po("RestConnection","Received: ",e),e}),(function(t){throw mo("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"fo",value:function(e,t,n,r,i,a){return this.co(e,t,n,r,i)}},{key:"ho",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+lo,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ao",value:function(e,t){var n=Zl[e];return"".concat(this.oo,"/v1/").concat(t,":").concat(n)}}]),e}());function tf(){return"undefined"!=typeof document?document:null}function nf(e){return new jc(e,!0)}var rf=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;ae(this,e),this.Hs=t,this.timerId=n,this.wo=r,this.mo=i,this.yo=a,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}return se(e,[{key:"reset",value:function(){this.po=0}},{key:"Eo",value:function(){this.po=this.yo}},{key:"Ao",value:function(e){var t=this;this.cancel();var n=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,n-r);i>0&&po("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.po," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Io=this.Hs.enqueueAfterDelay(this.timerId,i,(function(){return t.To=Date.now(),e()})),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}},{key:"bo",value:function(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}},{key:"cancel",value:function(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}},{key:"Ro",value:function(){return(Math.random()-.5)*this.po}}]),e}(),af=function(){function e(t,n,r,i,a,o,s,u){ae(this,e),this.Hs=t,this.Po=r,this.vo=i,this.Vo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new rf(t,n)}return se(e,[{key:"No",value:function(){return 1===this.state||5===this.state||this.ko()}},{key:"ko",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Mo()}},{key:"stop",value:function(){var e=re(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.No(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Oo",value:function(){this.state=0,this.xo.reset()}},{key:"Fo",value:function(){var e=this;this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,(function(){return e.$o()})))}},{key:"Bo",value:function(e){this.Lo(),this.stream.send(e)}},{key:"$o",value:function(){var e=re(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.ko()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Lo",value:function(){this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"Uo",value:function(){this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"close",value:function(){var e=re(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Lo(),this.Uo(),this.xo.cancel(),this.So++,4!==t?this.xo.reset():n&&n.code===wo.RESOURCE_EXHAUSTED?(vo(n.toString()),vo("Using maximum backoff delay to prevent overloading the backend."),this.xo.Eo()):n&&n.code===wo.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.qo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Zr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"qo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=o(t,2),i=r[0],a=r[1];e.So===n&&e.Go(i,a)}),(function(n){t((function(){var t=new xo(wo.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Qo(t)}))}))}},{key:"Go",value:function(e,t){var n=this,r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr((function(){r((function(){return n.state=2,n.Co=n.Hs.enqueueAfterDelay(n.vo,1e4,(function(){return n.ko()&&(n.state=3),Promise.resolve()})),n.listener.Yr()}))})),this.stream.Zr((function(e){r((function(){return n.Qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Mo",value:function(){var e=this;this.state=5,this.xo.Ao(re(te().mark((function t(){return te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Qo",value:function(e){return po("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Ko",value:function(e){var t=this;return function(n){t.Hs.enqueueAndForget((function(){return t.So===e?n():(po("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),of=function(e){le(n,e);var t=pe(n);function n(e,r,i,a,o,s){var u;return ae(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).It=o,u}return se(n,[{key:"jo",value:function(e,t){return this.Vo._o("Listen",e,t)}},{key:"onMessage",value:function(e){this.xo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:go()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.gt?(ko(void 0===t||"string"==typeof t),cs.fromBase64String(t||"")):(ko(void 0===t||t instanceof Uint8Array),cs.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?wo.UNKNOWN:ac(e.code);return new xo(t,e.message||"")}(o);n=new Sc(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=Fc(e,u.document.name),l=Pc(u.document.updateTime),f=new Us({mapValue:{fields:u.document.fields}}),h=Vs.newFoundDocument(c,l,f),d=u.targetIds||[],p=u.removedTargetIds||[];n=new xc(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=Fc(e,v.document),y=v.readTime?Pc(v.readTime):Lo.min(),g=Vs.newNoDocument(m,y),k=v.removedTargetIds||[];n=new xc([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=Fc(e,b.document),x=b.removedTargetIds||[];n=new xc([],x,w,null)}else{if(!("filter"in t))return go();t.filter;var _=t.filter;_.targetId;var S=_.count||0,E=new rc(S),I=_.targetId;n=new _c(I,E)}return n}(this.It,e),n=function(e){if(!("targetChange"in e))return Lo.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Lo.min():t.readTime?Pc(t.readTime):Lo.min()}(e);return this.listener.Wo(t,n)}},{key:"zo",value:function(e){var t={};t.database=zc(this.It),t.addTarget=function(e,t){var n,r=t.target;return(n=Ws(r)?{documents:Kc(e,r)}:{query:Gc(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Dc(e,t.resumeToken):t.snapshotVersion.compareTo(Lo.min())>0&&(n.readTime=Rc(e,t.snapshotVersion.toTimestamp())),n}(this.It,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return go()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.It,e);n&&(t.labels=n),this.Bo(t)}},{key:"Ho",value:function(e){var t={};t.database=zc(this.It),t.removeTarget=e,this.Bo(t)}}]),n}(af),sf=function(e){le(n,e);var t=pe(n);function n(e,r,i,a,o,s){var u;return ae(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).It=o,u.Jo=!1,u}return se(n,[{key:"Yo",get:function(){return this.Jo}},{key:"start",value:function(){this.Jo=!1,this.lastStreamToken=void 0,Gt(fe(n.prototype),"start",this).call(this)}},{key:"qo",value:function(){this.Jo&&this.Xo([])}},{key:"jo",value:function(e,t){return this.Vo._o("Write",e,t)}},{key:"onMessage",value:function(e){if(ko(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();var t=function(e,t){return e&&e.length>0?(ko(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Pc(e.updateTime):Pc(t);return n.isEqual(Lo.min())&&(n=Pc(t)),new Fu(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Pc(e.commitTime);return this.listener.Zo(n,t)}return ko(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}},{key:"eu",value:function(){var e={};e.database=zc(this.It),this.Bo(e)}},{key:"Xo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Wc(t.It,e)}))};this.Bo(n)}}]),n}(af),uf=function(e){le(n,e);var t=pe(n);function n(e,r,i,a){var o;return ae(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.Vo=i,o.It=a,o.nu=!1,o}return se(n,[{key:"su",value:function(){if(this.nu)throw new xo(wo.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"co",value:function(e,t,n){var r=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=o(i,2),s=a[0],u=a[1];return r.Vo.co(e,t,n,s,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===wo.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new xo(wo.UNKNOWN,e.toString())}))}},{key:"fo",value:function(e,t,n,r){var i=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var s=o(a,2),u=s[0],c=s[1];return i.Vo.fo(e,t,n,u,c,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===wo.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new xo(wo.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.nu=!0}}]),n}(function(){return se((function e(){ae(this,e)}))}()),cf=function(){function e(t,n){ae(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}return se(e,[{key:"uu",value:function(){var e=this;0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ru=null,e.au("Backend didn't respond within 10 seconds."),e.cu("Offline"),Promise.resolve()})))}},{key:"hu",value:function(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.cu("Offline")))}},{key:"set",value:function(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}},{key:"cu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"au",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ou?(vo(t),this.ou=!1):po("OnlineStateTracker",t)}},{key:"lu",value:function(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}]),e}(),lf=se((function e(t,n,r,i,a){var o=this;ae(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.qr((function(e){r.enqueueAndForget(re(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=wf(o),!e.t0){e.next=5;break}return po("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=re(te().mark((function e(t){var n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=bo(t))._u.add(4),e.next=4,df(n);case 4:return n.gu.set("Unknown"),n._u.delete(4),e.next=8,ff(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.gu=new cf(r,i)}));function ff(e){return hf.apply(this,arguments)}function hf(){return hf=re(te().mark((function e(t){var n,r,i;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!wf(t)){e.next=18;break}n=ie(t.wu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),hf.apply(this,arguments)}function df(e){return pf.apply(this,arguments)}function pf(){return pf=re(te().mark((function e(t){var n,r,i;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=ie(t.wu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),pf.apply(this,arguments)}function vf(e,t){var n=bo(e);n.du.has(t.targetId)||(n.du.set(t.targetId,t),bf(n)?kf(n):Xf(n).ko()&&yf(n,t))}function mf(e,t){var n=bo(e),r=Xf(n);n.du.delete(t),r.ko()&&gf(n,t),0===n.du.size&&(r.ko()?r.Fo():wf(n)&&n.gu.set("Unknown"))}function yf(e,t){e.yu.Ot(t.targetId),Xf(e).zo(t)}function gf(e,t){e.yu.Ot(t),Xf(e).Ho(t)}function kf(e){e.yu=new Ic({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},se:function(t){return e.du.get(t)||null}}),Xf(e).start(),e.gu.uu()}function bf(e){return wf(e)&&!Xf(e).No()&&e.du.size>0}function wf(e){return 0===bo(e)._u.size}function xf(e){e.yu=void 0}function _f(e){return Sf.apply(this,arguments)}function Sf(){return Sf=re(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.du.forEach((function(e,n){yf(t,e)}));case 1:case"end":return e.stop()}}),e)}))),Sf.apply(this,arguments)}function Ef(e,t){return If.apply(this,arguments)}function If(){return If=re(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:xf(t),bf(t)?(t.gu.hu(n),kf(t)):t.gu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),If.apply(this,arguments)}function Cf(e,t,n){return Tf.apply(this,arguments)}function Tf(){return Tf=re(te().mark((function e(t,n,r){var i;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.gu.set("Online"),!(n instanceof Sc&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=re(te().mark((function e(t,n){var r,i,a,o;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=ie(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.du.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.du.delete(o),t.yu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),po("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,Nf(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof xc?t.yu.Gt(n):n instanceof _c?t.yu.Yt(n):t.yu.Wt(n),r.isEqual(Lo.min())){e.next=29;break}return e.prev=14,e.next=17,Fl(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.yu.te(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.du.get(r);i&&e.du.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.du.get(t);if(n){e.du.set(t,n.withResumeToken(cs.EMPTY_BYTE_STRING,n.snapshotVersion)),gf(e,t);var r=new ll(n.target,t,1,n.sequenceNumber);yf(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),po("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,Nf(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),Tf.apply(this,arguments)}function Nf(e,t,n){return Af.apply(this,arguments)}function Af(){return Af=re(te().mark((function e(t,n,r){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Zo(n)){e.next=2;break}throw n;case 2:return t._u.add(1),e.next=5,df(t);case 5:t.gu.set("Offline"),r||(r=function(){return Fl(t.localStore)}),t.asyncQueue.enqueueRetryable(re(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return po("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t._u.delete(1),e.next=6,ff(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),Af.apply(this,arguments)}function jf(e,t){return t().catch((function(n){return Nf(e,n,t)}))}function Rf(e){return Df.apply(this,arguments)}function Df(){return Df=re(te().mark((function e(t){var n,r,i,a;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=bo(t),r=Jf(n),i=n.fu.length>0?n.fu[n.fu.length-1].batchId:-1;case 2:if(!Of(n)){e.next=19;break}return e.prev=3,e.next=6,zl(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.fu.length&&r.Fo(),e.abrupt("break",19);case 10:i=a.batchId,Pf(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,Nf(n,e.t0);case 17:e.next=2;break;case 19:Lf(n)&&Mf(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),Df.apply(this,arguments)}function Of(e){return wf(e)&&e.fu.length<10}function Pf(e,t){e.fu.push(t);var n=Jf(e);n.ko()&&n.Yo&&n.Xo(t.mutations)}function Lf(e){return wf(e)&&!Jf(e).No()&&e.fu.length>0}function Mf(e){Jf(e).start()}function Uf(e){return Ff.apply(this,arguments)}function Ff(){return Ff=re(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Jf(t).eu();case 1:case"end":return e.stop()}}),e)}))),Ff.apply(this,arguments)}function Vf(e){return Bf.apply(this,arguments)}function Bf(){return Bf=re(te().mark((function e(t){var n,r,i,a;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Jf(t),r=ie(t.fu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Xo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),Bf.apply(this,arguments)}function zf(e,t,n){return qf.apply(this,arguments)}function qf(){return qf=re(te().mark((function e(t,n,r){var i,a;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.fu.shift(),a=ul.from(i,n,r),e.next=3,jf(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,Rf(t);case 5:case"end":return e.stop()}}),e)}))),qf.apply(this,arguments)}function Hf(e,t){return Wf.apply(this,arguments)}function Wf(){return Wf=re(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&Jf(t).Yo,!e.t0){e.next=4;break}return e.next=4,function(){var e=re(te().mark((function e(t,n){var r,i;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ic(i=n.code)||i===wo.ABORTED){e.next=7;break}return r=t.fu.shift(),Jf(t).Oo(),e.next=5,jf(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,Rf(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:Lf(t)&&Mf(t);case 5:case"end":return e.stop()}}),e)}))),Wf.apply(this,arguments)}function Kf(e,t){return Gf.apply(this,arguments)}function Gf(){return Gf=re(te().mark((function e(t,n){var r,i;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=bo(t)).asyncQueue.verifyOperationInProgress(),po("RemoteStore","RemoteStore received new credentials"),i=wf(r),r._u.add(3),e.next=6,df(r);case 6:return i&&r.gu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r._u.delete(3),e.next=12,ff(r);case 12:case"end":return e.stop()}}),e)}))),Gf.apply(this,arguments)}function Qf(e,t){return Yf.apply(this,arguments)}function Yf(){return Yf=re(te().mark((function e(t,n){var r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=bo(t),!n){e.next=7;break}return r._u.delete(2),e.next=5,ff(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r._u.add(2),e.next=12,df(r);case 12:r.gu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),Yf.apply(this,arguments)}function Xf(e){return e.pu||(e.pu=function(e,t,n){var r=bo(e);return r.su(),new of(t,r.Vo,r.authCredentials,r.appCheckCredentials,r.It,n)}(e.datastore,e.asyncQueue,{Yr:_f.bind(null,e),Zr:Ef.bind(null,e),Wo:Cf.bind(null,e)}),e.wu.push(function(){var t=re(te().mark((function t(n){return te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.pu.Oo(),bf(e)?kf(e):e.gu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.pu.stop();case 6:xf(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.pu}function Jf(e){return e.Iu||(e.Iu=function(e,t,n){var r=bo(e);return r.su(),new sf(t,r.Vo,r.authCredentials,r.appCheckCredentials,r.It,n)}(e.datastore,e.asyncQueue,{Yr:Uf.bind(null,e),Zr:Hf.bind(null,e),tu:Vf.bind(null,e),Zo:zf.bind(null,e)}),e.wu.push(function(){var t=re(te().mark((function t(n){return te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Iu.Oo(),t.next=4,Rf(e);case 4:t.next=9;break;case 6:return t.next=8,e.Iu.stop();case 8:e.fu.length>0&&(po("RemoteStore","Stopping write stream with ".concat(e.fu.length," pending writes")),e.fu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Iu}var Zf=function(){function e(t,n,r,i,a){ae(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new _o,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return se(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new xo(wo.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function $f(e,t){if(vo("AsyncQueue","".concat(t,": ").concat(e)),Zo(e))return new xo(wo.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var eh=function(){function e(t){ae(this,e),this.comparator=t?function(e,n){return t(e,n)||Bo.comparator(e.key,n.key)}:function(e,t){return Bo.comparator(e.key,t.key)},this.keyedMap=lc(),this.sortedSet=new rs(this.comparator)}return se(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),th=function(){function e(){ae(this,e),this.Tu=new rs(Bo.comparator)}return se(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Tu.get(t);n?0!==e.type&&3===n.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==n.type?this.Tu=this.Tu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Tu=this.Tu.remove(t):1===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):go():this.Tu=this.Tu.insert(t,e)}},{key:"Eu",value:function(){var e=[];return this.Tu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),nh=function(){function e(t,n,r,i,a,o,s,u){ae(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u}return se(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,eh.emptySet(n),a,r,i,!0,!1)}}]),e}(),rh=se((function e(){ae(this,e),this.Au=void 0,this.listeners=[]})),ih=se((function e(){ae(this,e),this.queries=new oc((function(e){return yu(e)}),mu),this.onlineState="Unknown",this.Ru=new Set}));function ah(e,t){return oh.apply(this,arguments)}function oh(){return oh=re(te().mark((function e(t,n){var r,i,a,o,s;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=bo(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new rh),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Au=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=$f(e.t0,"Initialization of query '".concat(gu(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.bu(r.onlineState),o.Au&&n.Pu(o.Au)&&fh(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),oh.apply(this,arguments)}function sh(e,t){return uh.apply(this,arguments)}function uh(){return uh=re(te().mark((function e(t,n){var r,i,a,o,s;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=bo(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),uh.apply(this,arguments)}function ch(e,t){var n,r=bo(e),i=!1,a=ie(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=ie(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Pu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}u.Au=o}}}catch(f){a.e(f)}finally{a.f()}i&&fh(r)}function lh(e,t,n){var r=bo(e),i=r.queries.get(t);if(i){var a,o=ie(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function fh(e){e.Ru.forEach((function(e){e.next()}))}var hh=function(){function e(t,n,r){ae(this,e),this.query=t,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}return se(e,[{key:"Pu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=ie(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new nh(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),a=!0):this.Cu(e,this.onlineState)&&(this.xu(e),a=!0),this.Su=e,a}},{key:"onError",value:function(e){this.vu.error(e)}},{key:"bu",value:function(e){this.onlineState=e;var t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}},{key:"Cu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Nu||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"Du",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"xu",value:function(e){e=nh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Vu=!0,this.vu.next(e)}}]),e}();var dh=se((function e(t){ae(this,e),this.key=t})),ph=se((function e(t){ae(this,e),this.key=t})),vh=function(){function e(t,n){ae(this,e),this.query=t,this.Lu=n,this.Uu=null,this.current=!1,this.qu=yc(),this.mutatedKeys=yc(),this.Ku=wu(t),this.Gu=new eh(this.Ku)}return se(e,[{key:"Qu",get:function(){return this.Lu}},{key:"ju",value:function(e,t){var n=this,r=t?t.Wu:new th,i=t?t.Gu:this.Gu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=ku(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.zu(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.Ku(f,u)>0||c&&n.Ku(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Gu:o,Wu:r,$i:s,mutatedKeys:a}}},{key:"zu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;var a=e.Wu.Eu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return go()}};return n(e)-n(t)}(e.type,t.type)||r.Ku(e.doc,t.doc)})),this.Hu(n);var o=t?this.Ju():[],s=0===this.qu.size&&this.current?1:0,u=s!==this.Uu;return this.Uu=s,0!==a.length||u?{snapshot:new nh(this.query,e.Gu,i,a,e.mutatedKeys,0===s,u,!1),Yu:o}:{Yu:o}}},{key:"bu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new th,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}},{key:"Xu",value:function(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}},{key:"Hu",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Lu=t.Lu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Lu=t.Lu.delete(e)})),this.current=e.current)}},{key:"Ju",value:function(){var e=this;if(!this.current)return[];var t=this.qu;this.qu=yc(),this.Gu.forEach((function(t){e.Xu(t.key)&&(e.qu=e.qu.add(t.key))}));var n=[];return t.forEach((function(t){e.qu.has(t)||n.push(new ph(t))})),this.qu.forEach((function(e){t.has(e)||n.push(new dh(e))})),n}},{key:"Zu",value:function(e){this.Lu=e.Hi,this.qu=yc();var t=this.ju(e.documents);return this.applyChanges(t,!0)}},{key:"tc",value:function(){return nh.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.Uu)}}]),e}(),mh=se((function e(t,n,r){ae(this,e),this.query=t,this.targetId=n,this.view=r})),yh=se((function e(t){ae(this,e),this.key=t,this.ec=!1})),gh=function(){function e(t,n,r,i,a,o){ae(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.nc={},this.sc=new oc((function(e){return yu(e)}),mu),this.ic=new Map,this.rc=new Set,this.oc=new rs(Bo.comparator),this.uc=new Map,this.cc=new _l,this.ac={},this.hc=new Map,this.lc=yl.vn(),this.onlineState="Unknown",this.fc=void 0}return se(e,[{key:"isPrimaryClient",get:function(){return!0===this.fc}}]),e}();function kh(e,t){return bh.apply(this,arguments)}function bh(){return bh=re(te().mark((function e(t,n){var r,i,a,o,s,u;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Qh(t),!(o=r.sc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.tc(),e.next=15;break;case 6:return e.next=8,ql(r.localStore,pu(n));case 8:return s=e.sent,r.isPrimaryClient&&vf(r.remoteStore,s),u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=14,wh(r,n,i,"current"===u);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),bh.apply(this,arguments)}function wh(e,t,n,r){return xh.apply(this,arguments)}function xh(){return xh=re(te().mark((function e(t,n,r,i){var a,o,s,u,c,l;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dc=function(e,n,r){return function(){var e=re(te().mark((function e(t,n,r,i){var a,o,s;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.ju(r),e.t0=a.$i,!e.t0){e.next=6;break}return e.next=5,Kl(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.ju(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(Vh(t,n.targetId,s.Yu),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,Kl(t.localStore,n,!0);case 3:return a=e.sent,o=new vh(n,a.Hi),s=o.ju(a.documents),u=wc.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(s,t.isPrimaryClient,u),Vh(t,r,c.Yu),l=new mh(n,r,o),e.abrupt("return",(t.sc.set(n,l),t.ic.has(r)?t.ic.get(r).push(n):t.ic.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),xh.apply(this,arguments)}function _h(e,t){return Sh.apply(this,arguments)}function Sh(){return Sh=re(te().mark((function e(t,n){var r,i,a;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=bo(t),i=r.sc.get(n),!((a=r.ic.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ic.set(i.targetId,a.filter((function(e){return!mu(e,n)}))),void r.sc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Hl(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),mf(r.remoteStore,i.targetId),Uh(r,i.targetId)})).catch(Yo);case 9:e.next=14;break;case 11:return Uh(r,i.targetId),e.next=14,Hl(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),Sh.apply(this,arguments)}function Eh(e,t,n){return Ih.apply(this,arguments)}function Ih(){return Ih=re(te().mark((function e(t,n,r){var i,a,o;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Yh(t),e.prev=1,e.next=4,function(e,t){var n,r,i=bo(e),a=Po.now(),o=t.reduce((function(e,t){return e.add(t.key)}),yc());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=uc(),u=yc();return i.Gi.getEntries(e,o).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(u=u.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var o,s=[],u=ie(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=Ku(c,n.get(c.key).overlayedDocument);null!=l&&s.push(new Yu(c.key,l,Fs(l.value.mapValue),Vu.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return i.mutationQueue.addMutationBatch(e,a,s,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,u);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:fc(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.ac[e.currentUser.toKey()];r||(r=new rs(Do)),r=r.insert(t,n),e.ac[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,qh(i,a.changes);case 9:return e.next=11,Rf(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=$f(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),Ih.apply(this,arguments)}function Ch(e,t){return Th.apply(this,arguments)}function Th(){return Th=re(te().mark((function e(t,n){var r,i;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=bo(t),e.prev=1,e.next=4,Vl(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.uc.get(t);n&&(ko(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.ec=!0:e.modifiedDocuments.size>0?ko(n.ec):e.removedDocuments.size>0&&(ko(n.ec),n.ec=!1))})),e.next=8,qh(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Yo(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),Th.apply(this,arguments)}function Nh(e,t,n){var r=bo(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.sc.forEach((function(e,n){var r=n.view.bu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=bo(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=ie(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.bu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&fh(n)}(r.eventManager,t),i.length&&r.nc.Wo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Ah(e,t,n){return jh.apply(this,arguments)}function jh(){return jh=re(te().mark((function e(t,n,r){var i,a,o,s,u,c;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=bo(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.uc.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new rs(Bo.comparator)).insert(o,Vs.newNoDocument(o,Lo.min())),u=yc().add(o),c=new bc(Lo.min(),new Map,new os(Do),s,u),e.next=9,Ch(i,c);case 9:i.oc=i.oc.remove(o),i.uc.delete(n),zh(i),e.next=16;break;case 14:return e.next=16,Hl(i.localStore,n,!1).then((function(){return Uh(i,n,r)})).catch(Yo);case 16:case"end":return e.stop()}}),e)}))),jh.apply(this,arguments)}function Rh(e,t){return Dh.apply(this,arguments)}function Dh(){return Dh=re(te().mark((function e(t,n){var r,i,a;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=bo(t),i=n.batch.batchId,e.prev=1,e.next=4,Ul(r.localStore,n);case 4:return a=e.sent,Mh(r,i,null),Lh(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,qh(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Yo(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Dh.apply(this,arguments)}function Oh(e,t,n){return Ph.apply(this,arguments)}function Ph(){return Ph=re(te().mark((function e(t,n,r){var i,a;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=bo(t),e.prev=1,e.next=4,function(e,t){var n=bo(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return ko(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,Mh(i,n,r),Lh(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,qh(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Yo(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Ph.apply(this,arguments)}function Lh(e,t){(e.hc.get(t)||[]).forEach((function(e){e.resolve()})),e.hc.delete(t)}function Mh(e,t,n){var r=bo(e),i=r.ac[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.ac[r.currentUser.toKey()]=i}}function Uh(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=ie(e.ic.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.sc.delete(a),n&&e.nc._c(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ic.delete(t),e.isPrimaryClient&&e.cc.ls(t).forEach((function(t){e.cc.containsKey(t)||Fh(e,t)}))}function Fh(e,t){e.rc.delete(t.path.canonicalString());var n=e.oc.get(t);null!==n&&(mf(e.remoteStore,n),e.oc=e.oc.remove(t),e.uc.delete(n),zh(e))}function Vh(e,t,n){var r,i=ie(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof dh?(e.cc.addReference(a.key,t),Bh(e,a)):a instanceof ph?(po("SyncEngine","Document no longer in limbo: "+a.key),e.cc.removeReference(a.key,t),e.cc.containsKey(a.key)||Fh(e,a.key)):go()}}catch(o){i.e(o)}finally{i.f()}}function Bh(e,t){var n=t.key,r=n.path.canonicalString();e.oc.get(n)||e.rc.has(r)||(po("SyncEngine","New document in limbo: "+n),e.rc.add(r),zh(e))}function zh(e){for(;e.rc.size>0&&e.oc.size<e.maxConcurrentLimboResolutions;){var t=e.rc.values().next().value;e.rc.delete(t);var n=new Bo(Uo.fromString(t)),r=e.lc.next();e.uc.set(r,new yh(n)),e.oc=e.oc.insert(n,r),vf(e.remoteStore,new ll(pu(uu(n.path)),r,2,$o.at))}}function qh(e,t,n){return Hh.apply(this,arguments)}function Hh(){return Hh=re(te().mark((function e(t,n,r){var i,a,o,s;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=bo(t),a=[],o=[],s=[],e.t0=i.sc.isEmpty(),e.t0){e.next=9;break}return i.sc.forEach((function(e,t){s.push(i.dc(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=Rl.Ci(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.nc.Wo(a),e.next=9,function(){var e=re(te().mark((function e(t,n){var r,i,a,o,s,u,c,l;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=bo(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Jo.forEach(n,(function(t){return Jo.forEach(t.Si,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Jo.forEach(t.Di,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Zo(e.t0)){e.next=10;break}throw e.t0;case 10:po("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=ie(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.Ui.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.Ui=r.Ui.insert(s,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),Hh.apply(this,arguments)}function Wh(e,t){return Kh.apply(this,arguments)}function Kh(){return Kh=re(te().mark((function e(t,n){var r,i;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=bo(t)).currentUser.isEqual(n)){e.next=11;break}return po("SyncEngine","User change. New user:",n.toKey()),e.next=5,Ll(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.hc.forEach((function(e){e.forEach((function(e){e.reject(new xo(wo.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.hc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,qh(r,i.ji);case 11:case"end":return e.stop()}}),e)}))),Kh.apply(this,arguments)}function Gh(e,t){var n=bo(e),r=n.uc.get(t);if(r&&r.ec)return yc().add(r.key);var i=yc(),a=n.ic.get(t);if(!a)return i;var o,s=ie(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.sc.get(u);i=i.unionWith(c.view.Qu)}}catch(l){s.e(l)}finally{s.f()}return i}function Qh(e){var t=bo(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Ch.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Gh.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Ah.bind(null,t),t.nc.Wo=ch.bind(null,t.eventManager),t.nc._c=lh.bind(null,t.eventManager),t}function Yh(e){var t=bo(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Rh.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Oh.bind(null,t),t}var Xh=function(){function e(){ae(this,e),this.synchronizeTabs=!1}return se(e,[{key:"initialize",value:function(){var e=re(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.It=nf(t.databaseInfo.databaseId),this.sharedClientState=this.mc(t),this.persistence=this.gc(t),e.next=5,this.persistence.start();case 5:this.localStore=this.yc(t),this.gcScheduler=this.Ic(t,this.localStore),this.indexBackfillerScheduler=this.Tc(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ic",value:function(e,t){return null}},{key:"Tc",value:function(e,t){return null}},{key:"yc",value:function(e){return Pl(this.persistence,new Dl,e.initialUser,this.It)}},{key:"gc",value:function(e){return new Nl(jl.Bs,this.It)}},{key:"mc",value:function(e){return new Yl}},{key:"terminate",value:function(){var e=re(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Jh=function(){function e(){ae(this,e)}return se(e,[{key:"initialize",value:function(){var e=re(te().mark((function e(t,n){var r=this;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Nh(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Wh.bind(null,this.syncEngine),e.next=12,Qf(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new ih}},{key:"createDatastore",value:function(e){var t,n=nf(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new ef(t));return function(e,t,n,r){return new uf(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Nh(o.syncEngine,e,0)},a=Jl.C()?new Jl:new Xl,new lf(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new gh(e,t,n,r,i,a);return o&&(s.fc=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=re(te().mark((function e(t){var n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=bo(t),po("RemoteStore","RemoteStore shutting down."),n._u.add(5),e.next=5,df(n);case 5:n.mu.shutdown(),n.gu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();var Zh=function(){function e(t){ae(this,e),this.observer=t,this.muted=!1}return se(e,[{key:"next",value:function(e){this.observer.next&&this.Ac(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Ac(this.observer.error,e):vo("Uncaught Error in snapshot listener:",e)}},{key:"Rc",value:function(){this.muted=!0}},{key:"Ac",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),$h=function(){function e(t,n,r,i){var a=this;ae(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=co.UNAUTHENTICATED,this.clientId=Ro.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=re(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return po("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return po("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return se(e,[{key:"getConfiguration",value:function(){var e=re(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new xo(wo.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new _o;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(re(te().mark((function n(){var r;return te().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=$f(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function ed(e,t){return td.apply(this,arguments)}function td(){return td=re(te().mark((function e(t,n){var r,i;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),po("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=re(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Ll(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),td.apply(this,arguments)}function nd(e,t){return rd.apply(this,arguments)}function rd(){return rd=re(te().mark((function e(t,n){var r,i;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,id(t);case 3:return r=e.sent,po("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return Kf(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return Kf(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),rd.apply(this,arguments)}function id(e){return ad.apply(this,arguments)}function ad(){return ad=re(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return po("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,ed(t,new Xh);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),ad.apply(this,arguments)}function od(e){return sd.apply(this,arguments)}function sd(){return sd=re(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return po("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,nd(t,new Jh);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),sd.apply(this,arguments)}function ud(e){return od(e).then((function(e){return e.syncEngine}))}function cd(e){return ld.apply(this,arguments)}function ld(){return ld=re(te().mark((function e(t){var n,r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,od(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=kh.bind(null,n.syncEngine),r.onUnlisten=_h.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),ld.apply(this,arguments)}function fd(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new _o;return e.asyncQueue.enqueueAndForget(re(te().mark((function i(){return te().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Zh({next:function(a){t.enqueueAndForget((function(){return sh(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new xo(wo.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new xo(wo.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new hh(uu(n.path),a,{includeMetadataChanges:!0,Nu:!0});return ah(e,o)},i.next=3,cd(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function hd(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new _o;return e.asyncQueue.enqueueAndForget(re(te().mark((function i(){return te().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Zh({next:function(n){t.enqueueAndForget((function(){return sh(e,o)})),n.fromCache&&"server"===r.source?i.reject(new xo(wo.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new hh(n,a,{includeMetadataChanges:!0,Nu:!0});return ah(e,o)},i.next=3,cd(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var dd=new Map;function pd(e,t,n){if(!n)throw new xo(wo.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function vd(e){if(!Bo.isDocumentKey(e))throw new xo(wo.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function md(e){if(Bo.isDocumentKey(e))throw new xo(wo.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function yd(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":go()}function gd(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new xo(wo.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=yd(e);throw new xo(wo.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}var kd=function(){function e(t){var n;if(ae(this,e),void 0===t.host){if(void 0!==t.ssl)throw new xo(wo.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new xo(wo.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,function(e,t,n,r){if(!0===t&&!0===r)throw new xo(wo.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return se(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),bd=function(){function e(t,n,r,i){ae(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kd({}),this._settingsFrozen=!1}return se(e,[{key:"app",get:function(){if(!this._app)throw new xo(wo.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new xo(wo.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kd(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Eo;switch(e.type){case"gapi":var t=e.client;return new To(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new xo(wo.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=dd.get(e);t&&(po("ComponentProvider","Removing Datastore"),dd.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();var wd=function(){function e(t,n,r){ae(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return se(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new _d(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),xd=function(){function e(t,n,r){ae(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return se(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),_d=function(e){le(n,e);var t=pe(n);function n(e,r,i){var a;return ae(this,n),(a=t.call(this,e,r,uu(i)))._path=i,a.type="collection",a}return se(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new wd(this.firestore,null,new Bo(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(xd);function Sd(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ue(e),pd("collection","path",t),e instanceof bd){var a=Uo.fromString.apply(Uo,[t].concat(r));return md(a),new _d(e,null,a)}if(!(e instanceof wd||e instanceof _d))throw new xo(wo.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Uo.fromString.apply(Uo,[t].concat(r)));return md(o),new _d(e.firestore,null,o)}function Ed(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ue(e),1===arguments.length&&(t=Ro.R()),pd("doc","path",t),e instanceof bd){var a=Uo.fromString.apply(Uo,[t].concat(r));return vd(a),new wd(e,null,new Bo(a))}if(!(e instanceof wd||e instanceof _d))throw new xo(wo.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Uo.fromString.apply(Uo,[t].concat(r)));return vd(o),new wd(e.firestore,e instanceof _d?e.converter:null,new Bo(o))}var Id=function(){function e(){var t=this;ae(this,e),this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new rf(this,"async_queue_retry"),this.jc=function(){var e=tf();e&&po("AsyncQueue","Visibility state changed to "+e.visibilityState),t.xo.bo()};var n=tf();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.jc)}return se(e,[{key:"isShuttingDown",get:function(){return this.Lc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Wc(),this.zc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;var t=tf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.jc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Wc(),this.Lc)return new Promise((function(){}));var n=new _o;return this.zc((function(){return t.Lc&&t.Gc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Bc.push(e),t.Hc()}))}},{key:"Hc",value:function(){var e=re(te().mark((function e(){var t=this;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Bc.length){e.next=14;break}return e.prev=1,e.next=4,this.Bc[0]();case 4:this.Bc.shift(),this.xo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Zo(e.t0)){e.next=12;break}throw e.t0;case 12:po("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Bc.length>0&&this.xo.Ao((function(){return t.Hc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"zc",value:function(e){var t=this,n=this.$c.then((function(){return t.Kc=!0,e().catch((function(e){t.qc=e,t.Kc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw vo("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Kc=!1,e}))}));return this.$c=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Wc(),this.Qc.indexOf(e)>-1&&(t=0);var i=Zf.createAndSchedule(this,e,t,n,(function(e){return r.Jc(e)}));return this.Uc.push(i),i}},{key:"Wc",value:function(){this.qc&&go()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Yc",value:function(){var e=re(te().mark((function e(){var t;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.$c,e.next=3,t;case 3:if(t!==this.$c){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Xc",value:function(e){var t,n=ie(this.Uc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Zc",value:function(e){var t=this;return this.Yc().then((function(){t.Uc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=ie(t.Uc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Yc()}))}},{key:"ta",value:function(e){this.Qc.push(e)}},{key:"Jc",value:function(e){var t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}]),e}();function Cd(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=ie(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var Td=function(e){le(n,e);var t=pe(n);function n(e,r,i,a){var o;return ae(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new Id,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return se(n,[{key:"_terminate",value:function(){return this._firestoreClient||Ad(this),this._firestoreClient.terminate()}}]),n}(bd);function Nd(e){return e._firestoreClient||Ad(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Ad(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new ys(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new $h(e._authCredentials,e._appCheckCredentials,e._queue,r)}var jd=function(){function e(){ae(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new xo(wo.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vo(n)}return se(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var Rd=function(){function e(t){ae(this,e),this._byteString=t}return se(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(cs.fromBase64String(t))}catch(t){throw new xo(wo.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(cs.fromUint8Array(t))}}]),e}(),Dd=se((function e(t){ae(this,e),this._methodName=t})),Od=function(){function e(t,n){if(ae(this,e),!isFinite(t)||t<-90||t>90)throw new xo(wo.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new xo(wo.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return se(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Do(this._lat,e._lat)||Do(this._long,e._long)}}]),e}(),Pd=/^__.*__$/,Ld=function(){function e(t,n,r){ae(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return se(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Yu(e,this.data,this.fieldMask,t,this.fieldTransforms):new Qu(e,this.data,t,this.fieldTransforms)}}]),e}(),Md=function(){function e(t,n,r){ae(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return se(e,[{key:"toMutation",value:function(e,t){return new Yu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function Ud(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw go()}}var Fd=function(){function e(t,n,r,i,a,o){ae(this,e),this.settings=t,this.databaseId=n,this.It=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ea(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return se(e,[{key:"path",get:function(){return this.settings.path}},{key:"na",get:function(){return this.settings.na}},{key:"sa",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ia",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.sa({path:n,ra:!1});return r.oa(e),r}},{key:"ua",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.sa({path:n,ra:!1});return r.ea(),r}},{key:"ca",value:function(e){return this.sa({path:void 0,ra:!0})}},{key:"aa",value:function(e){return ip(e,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"ea",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.oa(this.path.get(e))}},{key:"oa",value:function(e){if(0===e.length)throw this.aa("Document fields must not be empty");if(Ud(this.na)&&Pd.test(e))throw this.aa('Document fields cannot begin and end with "__"')}}]),e}(),Vd=function(){function e(t,n,r){ae(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.It=r||nf(t)}return se(e,[{key:"fa",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Fd({na:e,methodName:t,la:n,path:Vo.emptyPath(),ra:!1,ha:r},this.databaseId,this.It,this.ignoreUndefinedProperties)}}]),e}();function Bd(e){var t=e._freezeSettings(),n=nf(e._databaseId);return new Vd(e._databaseId,!!t.ignoreUndefinedProperties,n)}function zd(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.fa(a.merge||a.mergeFields?2:0,t,n,i);ep("Data must be an object, but it was:",o,r);var s,u,c=Zd(r,o);if(a.merge)s=new us(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=ie(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=tp(t,d,n);if(!o.contains(p))throw new xo(wo.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));ap(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}s=new us(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new Ld(new Us(c),s,u)}var qd=function(e){le(n,e);var t=pe(n);function n(){return ae(this,n),t.apply(this,arguments)}return se(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.na)throw 1===e.na?e.aa("".concat(this._methodName,"() can only appear at the top level of your update data")):e.aa("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(Dd);function Hd(e,t,n){return new Fd({na:3,la:t.settings.la,methodName:e._methodName,ra:n},t.databaseId,t.It,t.ignoreUndefinedProperties)}var Wd=function(e){le(n,e);var t=pe(n);function n(){return ae(this,n),t.apply(this,arguments)}return se(n,[{key:"_toFieldTransform",value:function(e){return new Uu(e.path,new Au)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(Dd),Kd=function(e){le(n,e);var t=pe(n);function n(e,r){var i;return ae(this,n),(i=t.call(this,e)).da=r,i}return se(n,[{key:"_toFieldTransform",value:function(e){var t=Hd(this,e,!0),n=this.da.map((function(e){return Jd(e,t)})),r=new ju(n);return new Uu(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Dd),Gd=function(e){le(n,e);var t=pe(n);function n(e,r){var i;return ae(this,n),(i=t.call(this,e)).da=r,i}return se(n,[{key:"_toFieldTransform",value:function(e){var t=Hd(this,e,!0),n=this.da.map((function(e){return Jd(e,t)})),r=new Du(n);return new Uu(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Dd);function Qd(e,t,n,r){var i=e.fa(1,t,n);ep("Data must be an object, but it was:",i,r);var a=[],o=Us.empty();ts(r,(function(e,r){var s=rp(t,e,n);r=Ue(r);var u=i.ua(s);if(r instanceof qd)a.push(s);else{var c=Jd(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new us(a);return new Md(o,s,i.fieldTransforms)}function Yd(e,t,n,r,i,a){var o=e.fa(1,t,n),s=[tp(t,r,n)],u=[i];if(a.length%2!=0)throw new xo(wo.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(tp(t,a[c])),u.push(a[c+1]);for(var l=[],f=Us.empty(),h=s.length-1;h>=0;--h)if(!ap(l,s[h])){var d=s[h],p=u[h];p=Ue(p);var v=o.ua(d);if(p instanceof qd)l.push(d);else{var m=Jd(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new us(l);return new Md(f,y,o.fieldTransforms)}function Xd(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Jd(n,e.fa(r?4:3,t))}function Jd(e,t){if($d(e=Ue(e)))return ep("Unsupported field value:",t,e),Zd(e,t);if(e instanceof Dd)return function(e,t){if(!Ud(t.na))throw t.aa("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.aa("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ra&&4!==t.na)throw t.aa("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=ie(e);try{for(a.s();!(n=a.n()).done;){var o=Jd(n.value,t.ca(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Ue(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Eu(t.It,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Po.fromDate(e);return{timestampValue:Rc(t.It,n)}}if(e instanceof Po){var r=new Po(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Rc(t.It,r)}}if(e instanceof Od)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Rd)return{bytesValue:Dc(t.It,e._byteString)};if(e instanceof wd){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.aa("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Lc(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.aa("Unsupported field value: ".concat(yd(e)))}(e,t)}function Zd(e,t){var n={};return ns(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ts(e,(function(e,r){var i=Jd(r,t.ia(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function $d(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Po||e instanceof Od||e instanceof Rd||e instanceof wd||e instanceof Dd)}function ep(e,t,n){if(!$d(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=yd(n);throw"an object"===r?t.aa(e+" a custom object"):t.aa(e+" "+r)}}function tp(e,t,n){if((t=Ue(t))instanceof jd)return t._internalPath;if("string"==typeof t)return rp(e,t);throw ip("Field path arguments must be of type string or ",e,!1,void 0,n)}var np=new RegExp("[~\\*/\\[\\]]");function rp(e,t,n){if(t.search(np)>=0)throw ip("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return ve(jd,$(t.split(".")))._internalPath}catch(r){throw ip("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function ip(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new xo(wo.INVALID_ARGUMENT,s+e+u)}function ap(e,t){return e.some((function(e){return e.isEqual(t)}))}var op=function(){function e(t,n,r,i,a){ae(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return se(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new wd(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new sp(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(up("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),sp=function(e){le(n,e);var t=pe(n);function n(){return ae(this,n),t.apply(this,arguments)}return se(n,[{key:"data",value:function(){return Gt(fe(n.prototype),"data",this).call(this)}}]),n}(op);function up(e,t){return"string"==typeof t?rp(e,t):t instanceof jd?t._internalPath:t._delegate._internalPath}var cp=function(){function e(t,n){ae(this,e),this.hasPendingWrites=t,this.fromCache=n}return se(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),lp=function(e){le(n,e);var t=pe(n);function n(e,r,i,a,o,s){var u;return ae(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return se(n,[{key:"exists",value:function(){return Gt(fe(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new fp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(up("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(op),fp=function(e){le(n,e);var t=pe(n);function n(){return ae(this,n),t.apply(this,arguments)}return se(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Gt(fe(n.prototype),"data",this).call(this,e)}}]),n}(lp),hp=function(){function e(t,n,r,i){ae(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new cp(i.hasPendingWrites,i.fromCache),this.query=r}return se(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new fp(n._firestore,n._userDataWriter,r.key,r,new cp(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new xo(wo.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new fp(e._firestore,e._userDataWriter,t.doc.key,t.doc,new cp(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new fp(e._firestore,e._userDataWriter,t.doc.key,t.doc,new cp(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:dp(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function dp(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return go()}}function pp(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new xo(wo.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var vp=se((function e(){ae(this,e)}));function mp(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var yp=function(e){le(n,e);var t=pe(n);function n(e,r,i){var a;return ae(this,n),(a=t.call(this)).wa=e,a.ma=r,a.ga=i,a.type="where",a}return se(n,[{key:"_apply",value:function(e){var t=Bd(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new xo(wo.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){wp(o,a);var u,c=[],l=ie(o);try{for(l.s();!(u=l.n()).done;){var f=u.value;c.push(bp(r,e,f))}}catch(d){l.e(d)}finally{l.f()}s={arrayValue:{values:c}}}else s=bp(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||wp(o,a),s=Xd(n,"where",o,"in"===a||"not-in"===a);var h=Ks.create(i,a,s);return function(e,t){if(t.dt()){var n=fu(e);if(null!==n&&!n.isEqual(t.field))throw new xo(wo.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=lu(e);null!==r&&xp(e,t.field,r)}var i=function(e,t){var n,r=ie(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new xo(wo.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new xo(wo.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.wa,this.ma,this.ga);return new xd(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new ou(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(vp);function gp(e,t,n){var r=t,i=up("where",e);return new yp(i,r,n)}var kp=function(e){le(n,e);var t=pe(n);function n(e,r){var i;return ae(this,n),(i=t.call(this)).wa=e,i.ya=r,i.type="orderBy",i}return se(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new xo(wo.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new xo(wo.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new nu(t,n);return function(e,t){if(null===lu(e)){var n=fu(e);null!==n&&xp(e,n,t.field)}}(e,r),r}(e._query,this.wa,this.ya);return new xd(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new ou(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(vp);function bp(e,t,n){if("string"==typeof(n=Ue(n))){if(""===n)throw new xo(wo.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hu(t)&&-1!==n.indexOf("/"))throw new xo(wo.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Uo.fromString(n));if(!Bo.isDocumentKey(r))throw new xo(wo.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return As(e,new Bo(r))}if(n instanceof wd)return As(e,n._key);throw new xo(wo.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(yd(n),"."))}function wp(e,t){if(!Array.isArray(e)||0===e.length)throw new xo(wo.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new xo(wo.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function xp(e,t,n){if(!n.isEqual(t))throw new xo(wo.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var _p=function(){function e(){ae(this,e)}return se(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(_s(e)){case 0:return null;case 1:return e.booleanValue;case 2:return hs(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ds(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw go()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return ts(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new Od(hs(e.latitude),hs(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=vs(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(ms(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=fs(e);return new Po(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Uo.fromString(e);ko(rl(n));var r=new gs(n.get(1),n.get(3)),i=new Bo(n.popFirst(5));return r.isEqual(t)||vo("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function Sp(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Ep=function(e){le(n,e);var t=pe(n);function n(e){var r;return ae(this,n),(r=t.call(this)).firestore=e,r}return se(n,[{key:"convertBytes",value:function(e){return new Rd(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new wd(this.firestore,null,t)}}]),n}(_p);function Ip(e){e=gd(e,xd);var t=gd(e.firestore,Td),n=Nd(t),r=new Ep(t);return pp(e._query),hd(n,e._query).then((function(n){return new hp(t,r,e,n)}))}function Cp(e,t,n){e=gd(e,wd);var r=gd(e.firestore,Td),i=Sp(e.converter,t,n);return Rp(r,[zd(Bd(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Vu.none())])}function Tp(e,t,n){e=gd(e,wd);for(var r=gd(e.firestore,Td),i=Bd(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return Rp(r,[("string"==typeof(t=Ue(t))||t instanceof jd?Yd(i,"updateDoc",e._key,t,n,o):Qd(i,"updateDoc",e._key,t)).toMutation(e._key,Vu.exists(!0))])}function Np(e){return Rp(gd(e.firestore,Td),[new tc(e._key,Vu.none())])}function Ap(e,t){var n=gd(e.firestore,Td),r=Ed(e),i=Sp(e.converter,t);return Rp(n,[zd(Bd(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Vu.exists(!1))]).then((function(){return r}))}function jp(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Ue(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||Cd(n[u])||(s=n[u],u++);var c,l,f,h={includeMetadataChanges:s.includeMetadataChanges};if(Cd(n[u])){var d=n[u];n[u]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[u+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[u+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof wd)l=gd(e.firestore,Td),f=uu(e._key.path),c={next:function(t){n[u]&&n[u](Dp(l,e,t))},error:n[u+1],complete:n[u+2]};else{var p=gd(e,xd);l=gd(p.firestore,Td),f=p._query;var v=new Ep(l);c={next:function(e){n[u]&&n[u](new hp(l,v,p,e))},error:n[u+1],complete:n[u+2]},pp(e._query)}return function(e,t,n,r){var i=new Zh(r),a=new hh(t,i,n);return e.asyncQueue.enqueueAndForget(re(te().mark((function t(){return te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=ah,t.next=3,cd(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Rc(),e.asyncQueue.enqueueAndForget(re(te().mark((function t(){return te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=sh,t.next=3,cd(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(Nd(l),f,h,c)}function Rp(e,t){return function(e,t){var n=new _o;return e.asyncQueue.enqueueAndForget(re(te().mark((function r(){return te().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=Eh,r.next=3,ud(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(Nd(e),t)}function Dp(e,t,n){var r=n.docs.get(t._key),i=new Ep(e);return new lp(e,i,t._key,r,new cp(n.hasPendingWrites,n.fromCache),t.converter)}function Op(){return new Wd("serverTimestamp")}function Pp(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Kd("arrayUnion",t)}function Lp(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Gd("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];lo="9.9.4",St(new Fe("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new Td(new Io(e.getProvider("auth-internal")),new Ao(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new xo(wo.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gs(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),jt(uo,"3.4.15",e),jt(uo,"3.4.15","esm2017")}();function Mp(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var Up;Object.create;function Fp(){return Y({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Vp=Fp,Bp=new Te("auth","Firebase",Fp()),zp=new Xe("@firebase/auth");function qp(e){if(zp.logLevel<=qe.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];zp.error.apply(zp,["Auth (".concat(Nt,"): ").concat(e)].concat(n))}}function Hp(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Gp.apply(void 0,[e].concat(n))}function Wp(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Gp.apply(void 0,[e].concat(n))}function Kp(e,t,n){var r=Object.assign(Object.assign({},Vp()),Y({},t,n));return new Te("auth","Firebase",r).create(t,{appName:e.name})}function Gp(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=$(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat($(o)))}return Bp.create.apply(Bp,[e].concat(n))}function Qp(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Gp.apply(void 0,[t].concat(r))}}function Yp(e){var t="INTERNAL ASSERTION FAILED: "+e;throw qp(t),new Error(t)}function Xp(e,t){e||Yp(t)}var Jp=new Map;function Zp(e){Xp(e instanceof Function,"Expected a class definition");var t=Jp.get(e);return t?(Xp(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Jp.set(e,t),t)}function $p(e,t){var n=Et(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if(je(n.getOptions(),null!==t&&void 0!==t?t:{}))return r;Hp(r,"already-initialized")}return n.initialize({options:t})}function ev(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function tv(){return"http:"===nv()||"https:"===nv()}function nv(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var rv=function(){function e(t,n){ae(this,e),this.shortDelay=t,this.longDelay=n,Xp(n>t,"Short delay should be less than long delay!"),this.isMobile=_e()||Ee()}return se(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(tv()||Se()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function iv(e,t){Xp(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var av=function(){function e(){ae(this,e)}return se(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Yp("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Yp("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Yp("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),ov=(Y(Up={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),Y(Up,"MISSING_CUSTOM_TOKEN","internal-error"),Y(Up,"INVALID_IDENTIFIER","invalid-email"),Y(Up,"MISSING_CONTINUE_URI","internal-error"),Y(Up,"INVALID_PASSWORD","wrong-password"),Y(Up,"MISSING_PASSWORD","internal-error"),Y(Up,"EMAIL_EXISTS","email-already-in-use"),Y(Up,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),Y(Up,"INVALID_IDP_RESPONSE","invalid-credential"),Y(Up,"INVALID_PENDING_TOKEN","invalid-credential"),Y(Up,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),Y(Up,"MISSING_REQ_TYPE","internal-error"),Y(Up,"EMAIL_NOT_FOUND","user-not-found"),Y(Up,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),Y(Up,"EXPIRED_OOB_CODE","expired-action-code"),Y(Up,"INVALID_OOB_CODE","invalid-action-code"),Y(Up,"MISSING_OOB_CODE","internal-error"),Y(Up,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),Y(Up,"INVALID_ID_TOKEN","invalid-user-token"),Y(Up,"TOKEN_EXPIRED","user-token-expired"),Y(Up,"USER_NOT_FOUND","user-token-expired"),Y(Up,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),Y(Up,"INVALID_CODE","invalid-verification-code"),Y(Up,"INVALID_SESSION_INFO","invalid-verification-id"),Y(Up,"INVALID_TEMPORARY_PROOF","invalid-credential"),Y(Up,"MISSING_SESSION_INFO","missing-verification-id"),Y(Up,"SESSION_EXPIRED","code-expired"),Y(Up,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),Y(Up,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),Y(Up,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),Y(Up,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),Y(Up,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),Y(Up,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),Y(Up,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),Y(Up,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),Y(Up,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),Y(Up,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),Y(Up,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Up),sv=new rv(3e4,6e4);function uv(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function cv(e,t,n,r){return lv.apply(this,arguments)}function lv(){return lv=re(te().mark((function e(t,n,r,i){var a,o=arguments;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",fv(t,a,re(te().mark((function e(){var a,o,s,u;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=De(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",av.fetch()(vv(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),lv.apply(this,arguments)}function fv(e,t,n){return hv.apply(this,arguments)}function hv(){return hv=re(te().mark((function e(t,n,r){var i,a,s,u,c,l,f,h,d,p;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},ov),n),e.prev=2,a=new mv(t),e.next=6,Promise.race([r(),a.promise]);case 6:return s=e.sent,a.clearNetworkTimeout(),e.next=10,s.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw yv(t,"account-exists-with-different-credential",u);case 13:if(!s.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(c=s.ok?u.errorMessage:u.error.message,l=c.split(" : "),f=o(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw yv(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw yv(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw yv(t,"user-disabled",u);case 29:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw Kp(t,p,d);case 34:Hp(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof Ce)){e.next=41;break}throw e.t0;case 41:Hp(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),hv.apply(this,arguments)}function dv(e,t,n,r){return pv.apply(this,arguments)}function pv(){return pv=re(te().mark((function e(t,n,r,i){var a,o,s=arguments;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,cv(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Hp(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),pv.apply(this,arguments)}function vv(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?iv(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var mv=function(){function e(t){var n=this;ae(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Wp(n.auth,"network-request-failed"))}),sv.get())}))}return se(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function yv(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Wp(e,t,r);return i.customData._tokenResponse=n,i}function gv(e,t){return kv.apply(this,arguments)}function kv(){return kv=re(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cv(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),kv.apply(this,arguments)}function bv(e,t){return wv.apply(this,arguments)}function wv(){return wv=re(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cv(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),wv.apply(this,arguments)}function xv(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function _v(){return _v=re(te().mark((function e(t){var n,r,i,a,o,s,u=arguments;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=Ue(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Qp((a=Ev(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:xv(Sv(a.auth_time)),issuedAtTime:xv(Sv(a.iat)),expirationTime:xv(Sv(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),_v.apply(this,arguments)}function Sv(e){return 1e3*Number(e)}function Ev(e){var t,n=o(e.split("."),3),r=n[0],i=n[1],a=n[2];if(void 0===r||void 0===i||void 0===a)return qp("JWT malformed, contained fewer than 3 sections"),null;try{var s=be(i);return s?JSON.parse(s):(qp("Failed to decode base64 JWT payload"),null)}catch(u){return qp("Caught error parsing JWT payload as JSON",null===(t=u)||void 0===t?void 0:t.toString()),null}}function Iv(e,t){return Cv.apply(this,arguments)}function Cv(){return Cv=re(te().mark((function e(t,n){var r=arguments;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Ce&&Tv(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Cv.apply(this,arguments)}function Tv(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Nv=function(){function e(t){ae(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return se(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(re(te().mark((function t(){return te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=re(te().mark((function e(){var t;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===(t=e.t0)||void 0===t?void 0:t.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Av=function(){function e(t,n){ae(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return se(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=xv(this.lastLoginAt),this.creationTime=xv(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function jv(e){return Rv.apply(this,arguments)}function Rv(){return Rv=re(te().mark((function e(t){var n,r,i,a,o,s,u,c,l,f,h;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Iv(t,bv(r,{idToken:i}));case 6:Qp(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?Pv(o.providerUserInfo):[],u=Ov(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Av(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),Rv.apply(this,arguments)}function Dv(){return(Dv=re(te().mark((function e(t){var n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ue(t),e.next=3,jv(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ov(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat($(n),$(t))}function Pv(e){return e.map((function(e){var t=e.providerId,n=Mp(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function Lv(e,t){return Mv.apply(this,arguments)}function Mv(){return Mv=re(te().mark((function e(t,n){var r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fv(t,{},re(te().mark((function e(){var r,i,a,o,s,u;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=De({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=vv(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",av.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),Mv.apply(this,arguments)}var Uv=function(){function e(){ae(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return se(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Qp(e.idToken,"internal-error"),Qp("undefined"!==typeof e.idToken,"internal-error"),Qp("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Ev(e);return Qp(t,"internal-error"),Qp("undefined"!==typeof t.exp,"internal-error"),Qp("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=re(te().mark((function e(t){var n,r=arguments;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Qp(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=re(te().mark((function e(t,n){var r,i,a,o;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Lv(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Yp("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Qp("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Qp("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Qp("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Fv(e,t){Qp("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Vv=function(){function e(t){ae(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Mp(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Nv(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?$(a.providerData):[],this.metadata=new Av(a.createdAt||void 0,a.lastLoginAt||void 0)}return se(e,[{key:"getIdToken",value:function(){var e=re(te().mark((function e(t){var n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Iv(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Qp(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return _v.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Dv.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Qp(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){Qp(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=re(te().mark((function e(t){var n,r,i=arguments;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,jv(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=re(te().mark((function e(){var t;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Iv(this,gv(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;Qp(k&&_,t,"internal-error");var S=Uv.fromJSON(this.name,_);Qp("string"===typeof k,t,"internal-error"),Fv(f,t.name),Fv(h,t.name),Qp("boolean"===typeof b,t,"internal-error"),Qp("boolean"===typeof w,t,"internal-error"),Fv(d,t.name),Fv(p,t.name),Fv(v,t.name),Fv(m,t.name),Fv(y,t.name),Fv(g,t.name);var E=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:S,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(E.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(E._redirectEventId=m),E}},{key:"_fromIdTokenResponse",value:function(){var t=re(te().mark((function t(n,r){var i,a,o,s=arguments;return te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new Uv).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,jv(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Bv=function(){function e(){ae(this,e),this.type="NONE",this.storage={}}return se(e,[{key:"_isAvailable",value:function(){var e=re(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=re(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=re(te().mark((function e(t){var n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=re(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Bv.type="NONE";var zv=Bv;function qv(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Hv=function(){function e(t,n,r){ae(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=qv(this.userKey,a.apiKey,o),this.fullPersistenceKey=qv("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return se(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=re(te().mark((function e(){var t;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Vv._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=re(te().mark((function e(t){var n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=re(te().mark((function t(n,r){var i,a,o,s,u,c,l,f,h,d,p,v=arguments;return te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Zp(zv),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=re(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Zp(zv),s=qv(i,n.config.apiKey,n.name),u=null,c=ie(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(s);case 17:if(!(h=t.sent)){t.next=23;break}return d=Vv._fromJSON(n,h),f!==o&&(u=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=re(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Wv(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Yv(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Kv(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Jv(t))return"Blackberry";if(Zv(t))return"Webos";if(Gv(t))return"Safari";if((t.includes("chrome/")||Qv(t))&&!t.includes("edge/"))return"Chrome";if(Xv(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Kv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe();return/firefox\//i.test(e)}function Gv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Qv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe();return/crios\//i.test(e)}function Yv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe();return/iemobile/i.test(e)}function Xv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe();return/android/i.test(e)}function Jv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe();return/blackberry/i.test(e)}function Zv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe();return/webos/i.test(e)}function $v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function em(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe();return $v(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function tm(){return Ie()&&10===document.documentMode}function nm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe();return $v(e)||Xv(e)||Zv(e)||Jv(e)||/windows phone/i.test(e)||Yv(e)}function rm(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Wv(xe());break;case"Worker":t="".concat(Wv(xe()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Nt,"/").concat(r)}var im=function(){function e(t){ae(this,e),this.auth=t,this.queue=[]}return se(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=re(te().mark((function e(t){var n,r,i,a,o,s,u,c;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:r=[],e.prev=3,i=ie(this.queue),e.prev=5,i.s();case 7:if((a=i.n()).done){e.next=14;break}return o=a.value,e.next=11,o(t);case 11:o.onAbort&&r.push(o.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),i.e(e.t0);case 19:return e.prev=19,i.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),r.reverse(),s=ie(r);try{for(s.s();!(u=s.n()).done;){c=u.value;try{c()}catch(l){}}}catch(f){s.e(f)}finally{s.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===(n=e.t1)||void 0===n?void 0:n.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),am=function(){function e(t,n,r){ae(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new sm(this),this.idTokenSubscription=new sm(this),this.beforeStateQueue=new im(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Bp,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return se(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Zp(t)),this._initializationPromise=this.queue(re(te().mark((function r(){var i,a;return te().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Hv.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=re(te().mark((function e(){var t;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=re(te().mark((function e(t){var n,r,i,a,o,s,u;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:u=e.sent,o&&o!==s||!(null===u||void 0===u?void 0:u.user)||(i=u.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return Qp(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=re(te().mark((function e(t){var n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=re(te().mark((function e(t){var n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,jv(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=re(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=re(te().mark((function e(t){var n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Ue(t):null)&&Qp(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=re(te().mark((function e(t){var n,r=this,i=arguments;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&Qp(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(re(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=re(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(re(te().mark((function n(){return te().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Zp(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Te("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=re(te().mark((function e(t,n){var r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=re(te().mark((function e(t){var n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Qp(n=t&&Zp(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Hv.create(this,[Zp(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=re(te().mark((function e(t){var n,r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(re(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=re(te().mark((function e(t){var n=this;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(re(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Qp(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=re(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Qp(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=rm(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=re(te().mark((function e(){var t,n,r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Y({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function om(e){return Ue(e)}var sm=function(){function e(t){var n=this;ae(this,e),this.auth=t,this.observer=null,this.addObserver=function(e,t){var n=new Le(e,t);return n.subscribe.bind(n)}((function(e){return n.observer=e}))}return se(e,[{key:"next",get:function(){return Qp(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();var um=function(){function e(t,n){ae(this,e),this.providerId=t,this.signInMethod=n}return se(e,[{key:"toJSON",value:function(){return Yp("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Yp("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Yp("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Yp("not implemented")}}]),e}();function cm(e,t){return lm.apply(this,arguments)}function lm(){return lm=re(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cv(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),lm.apply(this,arguments)}function fm(e,t){return hm.apply(this,arguments)}function hm(){return hm=re(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",dv(t,"POST","/v1/accounts:signInWithPassword",uv(t,n)));case 1:case"end":return e.stop()}}),e)}))),hm.apply(this,arguments)}function dm(e,t){return pm.apply(this,arguments)}function pm(){return pm=re(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cv(t,"POST","/v1/accounts:sendOobCode",uv(t,n)));case 1:case"end":return e.stop()}}),e)}))),pm.apply(this,arguments)}function vm(e,t){return mm.apply(this,arguments)}function mm(){return mm=re(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",dm(t,n));case 1:case"end":return e.stop()}}),e)}))),mm.apply(this,arguments)}function ym(e,t){return gm.apply(this,arguments)}function gm(){return gm=re(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",dm(t,n));case 1:case"end":return e.stop()}}),e)}))),gm.apply(this,arguments)}function km(e,t){return bm.apply(this,arguments)}function bm(){return bm=re(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",dv(t,"POST","/v1/accounts:signInWithEmailLink",uv(t,n)));case 1:case"end":return e.stop()}}),e)}))),bm.apply(this,arguments)}function wm(e,t){return xm.apply(this,arguments)}function xm(){return xm=re(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",dv(t,"POST","/v1/accounts:signInWithEmailLink",uv(t,n)));case 1:case"end":return e.stop()}}),e)}))),xm.apply(this,arguments)}var _m=function(e){le(n,e);var t=pe(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return ae(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return se(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=re(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",fm(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",km(t,{email:this._email,oobCode:this._password}));case 5:Hp(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=re(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",cm(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",wm(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Hp(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(um);function Sm(e,t){return Em.apply(this,arguments)}function Em(){return Em=re(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",dv(t,"POST","/v1/accounts:signInWithIdp",uv(t,n)));case 1:case"end":return e.stop()}}),e)}))),Em.apply(this,arguments)}var Im=function(e){le(n,e);var t=pe(n);function n(){var e;return ae(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return se(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Sm(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Sm(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Sm(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=De(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Hp("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Mp(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(um);function Cm(e,t){return Tm.apply(this,arguments)}function Tm(){return Tm=re(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cv(t,"POST","/v1/accounts:sendVerificationCode",uv(t,n)));case 1:case"end":return e.stop()}}),e)}))),Tm.apply(this,arguments)}function Nm(){return Nm=re(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",dv(t,"POST","/v1/accounts:signInWithPhoneNumber",uv(t,n)));case 1:case"end":return e.stop()}}),e)}))),Nm.apply(this,arguments)}function Am(){return Am=re(te().mark((function e(t,n){var r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dv(t,"POST","/v1/accounts:signInWithPhoneNumber",uv(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw yv(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),Am.apply(this,arguments)}var jm=Y({},"USER_NOT_FOUND","user-not-found");function Rm(){return Rm=re(te().mark((function e(t,n){var r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",dv(t,"POST","/v1/accounts:signInWithPhoneNumber",uv(t,r),jm));case 2:case"end":return e.stop()}}),e)}))),Rm.apply(this,arguments)}var Dm=function(e){le(n,e);var t=pe(n);function n(e){var r;return ae(this,n),(r=t.call(this,"phone","phone")).params=e,r}return se(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Nm.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Am.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Rm.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(um);var Om=function(){function e(t){var n,r,i,a,o,s;ae(this,e);var u=Oe(Pe(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);Qp(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return se(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Oe(Pe(e)).link,n=t?Oe(Pe(t)).deep_link_id:null,r=Oe(Pe(e)).deep_link_id;return(r?Oe(Pe(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(r){return null}}}]),e}();var Pm=function(){function e(){ae(this,e),this.providerId=e.PROVIDER_ID}return se(e,null,[{key:"credential",value:function(e,t){return _m._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Om.parseLink(t);return Qp(n,"argument-error"),_m._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Pm.PROVIDER_ID="password",Pm.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Pm.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Lm=function(){function e(t){ae(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return se(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Mm=function(e){le(n,e);var t=pe(n);function n(){var e;return ae(this,n),(e=t.apply(this,arguments)).scopes=[],e}return se(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return $(this.scopes)}}]),n}(Lm),Um=function(e){le(n,e);var t=pe(n);function n(){return ae(this,n),t.call(this,"facebook.com")}return se(n,null,[{key:"credential",value:function(e){return Im._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(Mm);Um.FACEBOOK_SIGN_IN_METHOD="facebook.com",Um.PROVIDER_ID="facebook.com";var Fm=function(e){le(n,e);var t=pe(n);function n(){var e;return ae(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return se(n,null,[{key:"credential",value:function(e,t){return Im._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(Mm);Fm.GOOGLE_SIGN_IN_METHOD="google.com",Fm.PROVIDER_ID="google.com";var Vm=function(e){le(n,e);var t=pe(n);function n(){return ae(this,n),t.call(this,"github.com")}return se(n,null,[{key:"credential",value:function(e){return Im._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(Mm);Vm.GITHUB_SIGN_IN_METHOD="github.com",Vm.PROVIDER_ID="github.com";var Bm=function(e){le(n,e);var t=pe(n);function n(){return ae(this,n),t.call(this,"twitter.com")}return se(n,null,[{key:"credential",value:function(e,t){return Im._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(Mm);function zm(e,t){return qm.apply(this,arguments)}function qm(){return qm=re(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",dv(t,"POST","/v1/accounts:signUp",uv(t,n)));case 1:case"end":return e.stop()}}),e)}))),qm.apply(this,arguments)}Bm.TWITTER_SIGN_IN_METHOD="twitter.com",Bm.PROVIDER_ID="twitter.com";var Hm=function(){function e(t){ae(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return se(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=re(te().mark((function t(n,r,i){var a,o,s,u,c=arguments;return te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,Vv._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=Wm(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=re(te().mark((function t(n,r,i){var a;return te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Wm(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Wm(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var Km=function(e){le(n,e);var t=pe(n);function n(e,r,i,a){var o,s;return ae(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(ue(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return se(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Ce);function Gm(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Km._fromErrorAndOperation(e,n,t,r);throw n}))}function Qm(e,t){return Ym.apply(this,arguments)}function Ym(){return Ym=re(te().mark((function e(t,n){var r,i,a=arguments;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Iv,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Hm._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Ym.apply(this,arguments)}function Xm(e,t){return Jm.apply(this,arguments)}function Jm(){return Jm=re(te().mark((function e(t,n){var r,i,a,o,s,u,c,l=arguments;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]&&l[2],a=t.auth,o="reauthenticate",e.prev=3,e.next=6,Iv(t,Gm(a,o,n,t),r);case 6:return Qp((s=e.sent).idToken,a,"internal-error"),Qp(u=Ev(s.idToken),a,"internal-error"),c=u.sub,Qp(t.uid===c,a,"user-mismatch"),e.abrupt("return",Hm._forOperation(t,o,s));case 15:throw e.prev=15,e.t0=e.catch(3),(null===(i=e.t0)||void 0===i?void 0:i.code)==="auth/".concat("user-not-found")&&Hp(a,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Jm.apply(this,arguments)}function Zm(e,t){return $m.apply(this,arguments)}function $m(){return $m=re(te().mark((function e(t,n){var r,i,a,o,s=arguments;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,Gm(t,i,n);case 4:return a=e.sent,e.next=7,Hm._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),$m.apply(this,arguments)}function ey(e,t){return ty.apply(this,arguments)}function ty(){return ty=re(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zm(om(t),n));case 1:case"end":return e.stop()}}),e)}))),ty.apply(this,arguments)}function ny(e,t,n){var r;Qp((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Qp("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Qp(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Qp(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function ry(){return ry=re(te().mark((function e(t,n,r){var i,a;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ue(t),a={requestType:"PASSWORD_RESET",email:n},r&&ny(i,a,r),e.next=5,ym(i,a);case 5:case"end":return e.stop()}}),e)}))),ry.apply(this,arguments)}function iy(){return iy=re(te().mark((function e(t,n,r){var i,a,o;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=om(t),e.next=3,zm(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,Hm._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),iy.apply(this,arguments)}function ay(){return(ay=re(te().mark((function e(t,n){var r,i,a,o;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ue(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&ny(r.auth,a,n),e.next=8,vm(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oy(e,t){return cv(e,"POST","/v2/accounts/mfaEnrollment:start",uv(e,t))}new WeakMap;var sy="__sak",uy=function(){function e(t,n){ae(this,e),this.storageRetriever=t,this.type=n}return se(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(sy,"1"),this.storage.removeItem(sy),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var cy=function(e){le(n,e);var t=pe(n);function n(){var e;return ae(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=xe();return Gv(e)||$v(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=nm(),e._shouldAllowMigration=!0,e}return se(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);tm()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=re(te().mark((function e(t,r){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gt(fe(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=re(te().mark((function e(t){var r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gt(fe(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=re(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gt(fe(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(uy);cy.type="LOCAL";var ly=cy,fy=function(e){le(n,e);var t=pe(n);function n(){return ae(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return se(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(uy);fy.type="SESSION";var hy=fy;function dy(e){return Promise.all(e.map(function(){var e=re(te().mark((function e(t){var n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var py=function(){function e(t){ae(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return se(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=re(te().mark((function e(t){var n,r,i,a,o,s,u,c;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=re(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,dy(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function vy(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}py.receivers=[];var my=function(){function e(t){ae(this,e),this.target=t,this.handlers=new Set}return se(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=re(te().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=vy("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function yy(){return window}function gy(){return"undefined"!==typeof yy().WorkerGlobalScope&&"function"===typeof yy().importScripts}function ky(){return by.apply(this,arguments)}function by(){return(by=re(te().mark((function e(){var t;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function wy(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var xy="firebaseLocalStorageDb",_y="firebaseLocalStorage",Sy="fbase_key",Ey=function(){function e(t){ae(this,e),this.request=t}return se(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Iy(e,t){return e.transaction([_y],t?"readwrite":"readonly").objectStore(_y)}function Cy(){var e=indexedDB.deleteDatabase(xy);return new Ey(e).toPromise()}function Ty(){var e=indexedDB.open(xy,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(_y,{keyPath:Sy})}catch(r){n(r)}})),e.addEventListener("success",re(te().mark((function n(){var r;return te().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(_y)){n.next=12;break}return r.close(),n.next=5,Cy();case 5:return n.t0=t,n.next=8,Ty();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Ny(e,t,n){return Ay.apply(this,arguments)}function Ay(){return Ay=re(te().mark((function e(t,n,r){var i,a;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Iy(t,!0).put((Y(i={},Sy,n),Y(i,"value",r),i)),e.abrupt("return",new Ey(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),Ay.apply(this,arguments)}function jy(e,t){return Ry.apply(this,arguments)}function Ry(){return Ry=re(te().mark((function e(t,n){var r,i;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Iy(t,!1).get(n),e.next=3,new Ey(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Ry.apply(this,arguments)}function Dy(e,t){var n=Iy(e,!0).delete(t);return new Ey(n).toPromise()}var Oy=function(){function e(){ae(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return se(e,[{key:"_openDb",value:function(){var e=re(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Ty();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=re(te().mark((function e(t){var n,r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=re(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gy()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=re(te().mark((function e(){var t=this;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=py._getInstance(gy()?self:null),this.receiver._subscribe("keyChanged",function(){var e=re(te().mark((function e(n,r){var i;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=re(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=re(te().mark((function e(){var t,n,r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ky();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new my(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=re(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&wy()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=re(te().mark((function e(){var t;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Ty();case 5:return t=e.sent,e.next=8,Ny(t,sy,"1");case 8:return e.next=10,Dy(t,sy);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=re(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=re(te().mark((function e(t,n){var r=this;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(re(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Ny(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=re(te().mark((function e(t){var n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return jy(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=re(te().mark((function e(t){var n=this;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(re(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Dy(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=re(te().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Iy(e,!1).getAll();return new Ey(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=ie(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(re(te().mark((function t(){return te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Oy.type="LOCAL";var Py=Oy;function Ly(e,t){return cv(e,"POST","/v2/accounts/mfaSignIn:start",uv(e,t))}function My(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Wp("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Uy(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}Uy("rcb"),new rv(3e4,6e4);var Fy="recaptcha";function Vy(e,t,n){return By.apply(this,arguments)}function By(){return By=re(te().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Qp("string"===typeof a,t,"argument-error"),Qp(r.type===Fy,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return Qp("enroll"===s.type,t,"internal-error"),e.next=13,oy(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return Qp("signin"===s.type,t,"internal-error"),Qp(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Ly(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Cm(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),By.apply(this,arguments)}var zy=function(){function e(t){ae(this,e),this.providerId=e.PROVIDER_ID,this.auth=om(t)}return se(e,[{key:"verifyPhoneNumber",value:function(e,t){return Vy(this.auth,e,Ue(t))}}],[{key:"credential",value:function(e,t){return Dm._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Dm._fromTokenResponse(n,r):null}}]),e}();function qy(e,t){return t?Zp(t):(Qp(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}zy.PROVIDER_ID="phone",zy.PHONE_SIGN_IN_METHOD="phone";var Hy=function(e){le(n,e);var t=pe(n);function n(e){var r;return ae(this,n),(r=t.call(this,"custom","custom")).params=e,r}return se(n,[{key:"_getIdTokenResponse",value:function(e){return Sm(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Sm(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Sm(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(um);function Wy(e){return Zm(e.auth,new Hy(e),e.bypassAuthState)}function Ky(e){var t=e.auth,n=e.user;return Qp(n,t,"internal-error"),Xm(n,new Hy(e),e.bypassAuthState)}function Gy(e){return Qy.apply(this,arguments)}function Qy(){return Qy=re(te().mark((function e(t){var n,r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Qp(r=t.user,n,"internal-error"),e.abrupt("return",Qm(r,new Hy(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),Qy.apply(this,arguments)}var Yy=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];ae(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return se(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=re(te().mark((function t(n,r){return te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=re(te().mark((function e(t){var n,r,i,a,o,s,u;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Wy;case"linkViaPopup":case"linkViaRedirect":return Gy;case"reauthViaPopup":case"reauthViaRedirect":return Ky;default:Hp(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Xp(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Xp(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Xy=new rv(2e3,1e4);var Jy=function(e){le(n,e);var t=pe(n);function n(e,r,i,a,o){var s;return ae(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=ue(s),s}return se(n,[{key:"executeNotNull",value:function(){var e=re(te().mark((function e(){var t;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Qp(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=re(te().mark((function e(){var t,n=this;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Xp(1===this.filter.length,"Popup operations only handle one event"),t=vy(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Wp(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Wp(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Wp(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,Xy.get())}()}}]),n}(Yy);Jy.currentPopupAction=null;var Zy=new Map,$y=function(e){le(n,e);var t=pe(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return ae(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return se(n,[{key:"execute",value:function(){var e=re(te().mark((function e(){var t,r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Zy.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,eg(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Gt(fe(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Zy.set(this.auth._key(),t);case 21:return this.bypassAuthState||Zy.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=re(te().mark((function e(t){var r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Gt(fe(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Gt(fe(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=re(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Yy);function eg(e,t){return tg.apply(this,arguments)}function tg(){return tg=re(te().mark((function e(t,n){var r,i,a;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ig(n),i=rg(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),tg.apply(this,arguments)}function ng(e,t){Zy.set(e._key(),t)}function rg(e){return Zp(e._redirectPersistence)}function ig(e){return qv("pendingRedirect",e.config.apiKey,e.name)}function ag(e,t){return og.apply(this,arguments)}function og(){return og=re(te().mark((function e(t,n){var r,i,a,o,s,u=arguments;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=om(t),a=qy(i,n),o=new $y(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),og.apply(this,arguments)}var sg=function(){function e(t){ae(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return se(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cg(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!cg(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Wp(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ug(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(ug(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function ug(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function cg(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function lg(e){return fg.apply(this,arguments)}function fg(){return fg=re(te().mark((function e(t){var n,r=arguments;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",cv(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),fg.apply(this,arguments)}var hg=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dg=/^https?/;function pg(){return pg=re(te().mark((function e(t){var n,r,i,a,o;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,lg(t);case 4:n=e.sent,r=n.authorizedDomains,i=ie(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!vg(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Hp(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),pg.apply(this,arguments)}function vg(e){var t=ev(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!dg.test(r))return!1;if(hg.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var mg=new rv(3e4,6e4);function yg(){var e=yy().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=$(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var gg=null;function kg(e){return gg=gg||function(e){return new Promise((function(t,n){var r,i,a;function o(){yg(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){yg(),n(Wp(e,"network-request-failed"))},timeout:mg.get()})}if(null===(i=null===(r=yy().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=yy().gapi)||void 0===a?void 0:a.load)){var s=Uy("iframefcb");return yy()[s]=function(){gapi.load?o():n(Wp(e,"network-request-failed"))},My("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw gg=null,e}))}(e),gg}var bg=new rv(5e3,15e3),wg={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xg=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _g(e){var t=e.config;Qp(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?iv(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Nt},i=xg.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(De(r).slice(1))}function Sg(e){return Eg.apply(this,arguments)}function Eg(){return Eg=re(te().mark((function e(t){var n,r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kg(t);case 2:return n=e.sent,Qp(r=yy().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:_g(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wg,dontclear:!0},(function(e){return new Promise(function(){var n=re(te().mark((function n(r,i){var a,o,s;return te().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){yy().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Wp(t,"network-request-failed"),o=yy().setTimeout((function(){i(a)}),bg.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Eg.apply(this,arguments)}var Ig={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Cg="_blank",Tg="http://localhost",Ng=function(){function e(t){ae(this,e),this.window=t,this.associatedEvent=null}return se(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Ag(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",c=Object.assign(Object.assign({},Ig),{width:r.toString(),height:i.toString(),top:a,left:s}),l=xe().toLowerCase();n&&(u=Qv(l)?Cg:n),Kv(l)&&(t=t||Tg,c.scrollbars="yes");var f=Object.entries(c).reduce((function(e,t){var n=o(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(em(l)&&"_self"!==u)return jg(t||"",u),new Ng(null);var h=window.open(t||"",u,f);Qp(h,e,"popup-blocked");try{h.focus()}catch(d){}return new Ng(h)}function jg(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Rg="__/auth/handler",Dg="emulator/auth/handler";function Og(e,t,n,r,i,a){Qp(e.config.authDomain,e,"auth-domain-config-required"),Qp(e.config.apiKey,e,"invalid-api-key");var s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Nt,eventId:i};if(t instanceof Lm){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,c=Object.entries(a||{});u<c.length;u++){var l=o(c[u],2),f=l[0],h=l[1];s[f]=h}}if(t instanceof Mm){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(s.scopes=d.join(","))}e.tenantId&&(s.tid=e.tenantId);for(var p=s,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Rg);return iv(t,Dg)}(e),"?").concat(De(p).slice(1))}var Pg="webStorageSupport",Lg=function(){function e(){ae(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hy,this._completeRedirectFn=ag,this._overrideRedirectResult=ng}return se(e,[{key:"_openPopup",value:function(){var e=re(te().mark((function e(t,n,r,i){var a,o;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Xp(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=Og(t,n,r,ev(),i),e.abrupt("return",Ag(t,o,vy()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=re(te().mark((function e(t,n,r,i){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=Og(t,n,r,ev(),i),yy().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Xp(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=re(te().mark((function e(t){var n,r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sg(t);case 2:return n=e.sent,r=new sg(t),n.register("authEvent",(function(e){return Qp(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Pg,{type:Pg},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),Hp(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return pg.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return nm()||Gv()||$v()}}]),e}(),Mg=Lg,Ug=function(){function e(t){ae(this,e),this.factorId=t}return se(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Yp("unexpected MultiFactorSessionType")}}}]),e}(),Fg=function(e){le(n,e);var t=pe(n);function n(e){var r;return ae(this,n),(r=t.call(this,"phone")).credential=e,r}return se(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return cv(e,"POST","/v2/accounts/mfaEnrollment:finalize",uv(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return cv(e,"POST","/v2/accounts/mfaSignIn:finalize",uv(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(Ug);(function(){function e(){ae(this,e)}return se(e,null,[{key:"assertion",value:function(e){return Fg._fromCredential(e)}}]),e}()).FACTOR_ID="phone";var Vg,Bg="@firebase/auth",zg="0.20.6",qg=function(){function e(t){ae(this,e),this.auth=t,this.internalListeners=new Map}return se(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=re(te().mark((function e(t){var n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Qp(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();Vg="Browser",St(new Fe("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,s=a.authDomain;return function(e,t){Qp(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),Qp(!(null===s||void 0===s?void 0:s.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:s,clientPlatform:Vg,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rm(Vg)},i=new am(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Zp);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),St(new Fe("auth-internal",(function(e){return function(e){return new qg(e)}(om(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),jt(Bg,zg,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Vg)),jt(Bg,zg,"esm2017");var Hg="firebasestorage.googleapis.com",Wg=function(e){le(n,e);var t=pe(n);function n(e,r){var i;return ae(this,n),(i=t.call(this,Kg(e),"Firebase Storage: ".concat(r," (").concat(Kg(e),")"))).customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(ue(i),n.prototype),i}return se(n,[{key:"_codeEquals",value:function(e){return Kg(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(Ce);function Kg(e){return"storage/"+e}function Gg(){return new Wg("unknown","An unknown error occurred, please check the error payload for server response.")}function Qg(){return new Wg("canceled","User canceled the upload/download.")}function Yg(){return new Wg("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Xg(e){return new Wg("invalid-argument",e)}function Jg(){return new Wg("app-deleted","The Firebase app was deleted.")}function Zg(e,t){return new Wg("invalid-format","String does not match format '"+e+"': "+t)}function $g(e){throw new Wg("internal-error","Internal error: "+e)}var ek,tk=function(){function e(t,n){ae(this,e),this.bucket=t,this.path_=n}return se(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(i){return new e(t,"")}if(""===r.path)return r;throw new Wg("invalid-default-bucket","Invalid default bucket '"+t+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===Hg?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<u.length;c++){var l=u[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new Wg("invalid-url","Invalid URL '"+e+"'.")}(t);return r}}]),e}(),nk=function(){function e(t){ae(this,e),this.promise_=Promise.reject(t)}return se(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function rk(e){return"string"===typeof e||e instanceof String}function ik(e){return ak()&&e instanceof Blob}function ak(){return"undefined"!==typeof Blob}function ok(e,t,n,r){if(r<t)throw Xg("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw Xg("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function sk(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function uk(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(ek||(ek={}));var ck=function(){function e(t,n,r,i,a,o,s,u,c,l,f){var h=this;ae(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return se(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(u){i(u)}else if(null!==a){var s=Gg();s.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,s)):i(s)}else{if(n.canceled)i(e.appDelete_?Jg():Qg());else i(new Wg("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}};this.canceled_?t(0,new lk(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,s=0;function u(){return 2===s}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,u())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var a;if(u()||o)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===s?(s=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(s=2),clearTimeout(i),f(0)):e||(s=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new lk(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===ek.NO_ERROR,a=r.getStatus();if(n&&!e.isRetryStatusCode_(a)){var o=-1!==e.successCodes_.indexOf(a);t(!0,new lk(o,r))}else{var s=r.getErrorCode()===ek.ABORT;t(!1,new lk(!1,null,s))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}},{key:"isRetryStatusCode_",value:function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r}}]),e}(),lk=se((function e(t,n,r){ae(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function fk(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function hk(){for(var e=fk(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(ak())return new Blob(n);throw new Wg("unsupported-environment","This browser doesn't seem to support creating Blobs")}var dk="raw",pk="base64",vk="base64url",mk="data_url",yk=se((function e(t,n){ae(this,e),this.data=t,this.contentType=n||null}));function gk(e,t){switch(e){case dk:return new yk(kk(t));case pk:case vk:return new yk(bk(e,t));case mk:return new yk(function(e){var t=new wk(e);return t.base64?bk(pk,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw Zg(mk,"Malformed data URL.")}return kk(t)}(t.rest)}(t),new wk(t).contentType)}throw Gg()}function kk(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function bk(e,t){switch(e){case pk:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw Zg(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case vk:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw Zg(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=atob(t)}catch(c){throw Zg(e,"Invalid character found")}for(var s=new Uint8Array(o.length),u=0;u<o.length;u++)s[u]=o.charCodeAt(u);return s}var wk=se((function e(t){ae(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw Zg(mk,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}));var xk=function(){function e(t,n){ae(this,e);var r=0,i="";ik(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return se(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(ik(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(ak()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(hk.apply(null,i))}var a=n.map((function(e){return rk(e)?gk(dk,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var s=new Uint8Array(o),u=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)s[u++]=e[t]})),new e(s,!0)}}]),e}();function _k(e){var t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function Sk(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function Ek(e,t){return t}var Ik=se((function e(t,n,r,i){ae(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||Ek})),Ck=null;function Tk(){if(Ck)return Ck;var e=[];e.push(new Ik("bucket")),e.push(new Ik("generation")),e.push(new Ik("metageneration")),e.push(new Ik("name","fullPath",!0));var t=new Ik("name");t.xform=function(e,t){return function(e){return!rk(e)||e.length<2?e:Sk(e)}(t)},e.push(t);var n=new Ik("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new Ik("timeCreated")),e.push(new Ik("updated")),e.push(new Ik("md5Hash",null,!0)),e.push(new Ik("cacheControl",null,!0)),e.push(new Ik("contentDisposition",null,!0)),e.push(new Ik("contentEncoding",null,!0)),e.push(new Ik("contentLanguage",null,!0)),e.push(new Ik("contentType",null,!0)),e.push(new Ik("metadata","customMetadata",!0)),Ck=e}function Nk(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new tk(n,r);return t._makeStorageReference(i)}})}(r,e),r}function Ak(e,t,n){var r=_k(t);return null===r?null:Nk(e,r,n)}function jk(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}var Rk=se((function e(t,n,r,i){ae(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function Dk(e){if(!e)throw Gg()}function Ok(e,t){return function(n,r){var i=Ak(e,r,t);return Dk(null!==i),i}}function Pk(e,t){return function(n,r){var i=Ak(e,r,t);return Dk(null!==i),function(e,t,n,r){var i=_k(t);if(null===i)return null;if(!rk(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent;return a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return sk("/b/"+o(i)+"/o/"+o(a),n,r)+uk({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function Lk(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new Wg("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new Wg("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new Wg("quota-exceeded","Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new Wg("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function Mk(e){var t=Lk(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new Wg("object-not-found","Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function Uk(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function Fk(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+s;var u=Uk(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+jk(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",f=xk.getBlob(c,r,l);if(null===f)throw Yg();var h={name:u.fullPath},d=sk(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new Rk(d,"POST",Ok(e,n),p);return v.urlParams=h,v.headers=o,v.body=f.uploadData(),v.errorHandler=Lk(t),v}var Vk=function(){function e(){var t=this;ae(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ek.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=ek.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=ek.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return se(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw $g("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw $g("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw $g("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw $g("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw $g("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),Bk=function(e){le(n,e);var t=pe(n);function n(){return ae(this,n),t.apply(this,arguments)}return se(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(Vk);function zk(){return new Bk}var qk=function(){function e(t,n){ae(this,e),this._service=t,this._location=n instanceof tk?n:tk.makeFromUrl(n,t.host)}return se(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new tk(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return Sk(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new tk(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw function(e){return new Wg("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}]),e}();function Hk(e,t,n){e._throwIfRoot("uploadBytes");var r=Fk(e.storage,e._location,Tk(),new xk(t,!0),n);return e.storage.makeRequestWithTokens(r,zk).then((function(t){return{metadata:t,ref:e}}))}function Wk(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=sk(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new Rk(r,"GET",Pk(e,n),i);return a.errorHandler=Mk(t),a}(e.storage,e._location,Tk());return e.storage.makeRequestWithTokens(t,zk).then((function(e){if(null===e)throw new Wg("no-download-url","The given file does not have any download URLs.");return e}))}function Kk(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new tk(e._location.bucket,n);return new qk(e.storage,r)}function Gk(e,t){if(e instanceof Xk){var n=e;if(null==n._bucket)throw new Wg("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new qk(n,n._bucket);return null!=t?Gk(r,t):r}return void 0!==t?Kk(e,t):e}function Qk(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof Xk)return new qk(e,t);throw Xg("To use ref(service, url), the first argument must be a Storage instance.")}return Gk(e,t)}function Yk(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:tk.makeFromBucketSpec(n,e)}var Xk=function(){function e(t,n,r,i,a){ae(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=Hg,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?tk.makeFromBucketSpec(i,this._host):Yk(this._host,this.app.options)}return se(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=tk.makeFromBucketSpec(this._url,e):this._bucket=Yk(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){ok("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){ok("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=re(te().mark((function e(){var t,n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=re(te().mark((function e(){var t,n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new qk(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this;if(this._deleted)return new nk(Jg());var a=function(e,t,n,r,i,a){var o=uk(e.urlParams),s=e.url+o,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new ck(s,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,n,r,t,this._firebaseVersion);return this._requests.add(a),a.getPromise().then((function(){return i._requests.delete(a)}),(function(){return i._requests.delete(a)})),a}},{key:"makeRequestWithTokens",value:function(){var e=re(te().mark((function e(t,n){var r,i,a,s;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=o(r,2),a=i[0],s=i[1],e.abrupt("return",this._makeRequest(t,n,a,s).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),Jk="@firebase/storage",Zk="0.9.9",$k="storage";function eb(e,t,n){return Hk(e=Ue(e),t,n)}function tb(e){return Wk(e=Ue(e))}function nb(e,t){return Qk(e=Ue(e),t)}function rb(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new Xk(r,i,a,n,Nt)}St(new Fe($k,rb,"PUBLIC").setMultipleInstances(!0)),jt(Jk,Zk,""),jt(Jk,Zk,"esm2017");var ib=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:kt,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Ct.create("bad-app-name",{appName:String(i)});var a=wt.get(i);if(a){if(je(e,a.options)&&je(r,a.config))return a;throw Ct.create("duplicate-app",{appName:i})}var o,s=new He(i),u=ie(xt.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s.addComponent(c)}}catch(f){u.e(f)}finally{u.f()}var l=new Tt(e,r,s);return wt.set(i,l),l}({apiKey:"AIzaSyBYpDyo595Iwfjo7f5BAxCcjEbOWVtepLM",authDomain:"artzyprod-ef753.firebaseapp.com",projectId:"artzyprod-ef753",storageBucket:"artzyprod-ef753.appspot.com",messagingSenderId:"789222589511",appId:"1:789222589511:web:db9b9d8f58966f9ce91d62"}),ab=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:At(),t=Et(e,"auth");return t.isInitialized()?t.getImmediate():$p(e,{popupRedirectResolver:Mg,persistence:[Py,ly,hy]})}(ib),ob=function(e,t){var n="string"==typeof e?e:t||"(default)";return Et("object"==typeof e?e:At(),"firestore").getImmediate({identifier:n})}(ib),sb=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:At(),t=arguments.length>1?arguments[1]:void 0,n=Et(e=Ue(e),$k),r=n.getImmediate({identifier:t});return r}(ib);function ub(e,t){return function(e,t,n){return iy.apply(this,arguments)}(ab,e,t)}function cb(){return function(e,t){return ay.apply(this,arguments)}(ab.currentUser)}function lb(){!function(e){Ue(e).signOut()}(ab)}function fb(e,t){return function(e,t,n){return ey(Ue(e),Pm.credential(t,n))}(ab,e,t)}function hb(e){return function(e,t,n){return ry.apply(this,arguments)}(ab,e)}function db(){var e=o((0,t.useState)(),2),n=e[0],r=e[1];return(0,t.useEffect)((function(){var e=function(e,t,n,r){return Ue(e).onAuthStateChanged(t,n,r)}(ab,(function(e){return r(e)}));return e}),[]),n}function pb(){var e=db(),n=o((0,t.useState)(null),2),r=n[0],i=n[1];return(0,t.useEffect)((function(){if(e){var t=e.email;return jp(mp(Sd(ob,"users"),gp("eMail","==",t)),(function(e){e.docs.forEach((function(e){i(J(J({},e.data()),{},{id:e.id}))}))}))}}),[e]),r}var vb=function(){var e=o((0,t.useState)([]),2),n=e[0],r=e[1];return(0,t.useEffect)((function(){var e=mp(Sd(ob,"categories"),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=up("orderBy",e);return new kp(n,t)}("name"));return jp(e,(function(e){r(e.docs.map((function(e){return J(J({},e.data()),{},{id:e.id})})))}))}),[]),n},mb=function(e){var n=o((0,t.useState)([]),2),r=n[0],i=n[1];return(0,t.useEffect)((function(){return jp(mp(Sd(ob,"products"),gp("categoryHandle","==",e)),(function(e){i(e.docs.map((function(e){return J(J({},e.data()),{},{id:e.id})})))}))}),[e]),r.filter((function(e){return"approved"===e.status}))},yb=n(184);function gb(e){var t=e.handle,n=mb(t);return(0,yb.jsx)("div",{className:"menu-item-products",children:n.length>0?(0,yb.jsxs)(yb.Fragment,{children:[null===n||void 0===n?void 0:n.slice(0,10).map((function(e){return(0,yb.jsx)(Q,{to:"/product/"+(null===e||void 0===e?void 0:e.id),children:(0,yb.jsx)("div",{className:"menu-product-list-item",children:(0,yb.jsx)("p",{children:(null===e||void 0===e?void 0:e.title.length)>16?(null===e||void 0===e?void 0:e.title.slice(0,16))+"...":null===e||void 0===e?void 0:e.title})})},null===e||void 0===e?void 0:e.id)})),n.length>10?(0,yb.jsx)("div",{className:"menu-product-list-item",children:(0,yb.jsx)(Q,{to:"/category/"+t,children:"More..."})}):null]}):(0,yb.jsx)(Q,{to:"/category/"+t,children:(0,yb.jsx)("div",{className:"menu-product-list-item empty",children:(0,yb.jsx)("p",{children:"Empty..."})})})})}function kb(){var e=db(),n=o((0,t.useState)(null),2),r=n[0],i=n[1];return(0,t.useEffect)((function(){if(e){var t=e.email;return jp(mp(Sd(ob,"artists"),gp("eMail","==",t)),(function(e){e.docs.forEach((function(e){i(J(J({},e.data()),{},{id:e.id}))}))}))}}),[e]),r}var bb={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},wb=t.createContext&&t.createContext(bb),xb=function(){return xb=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},xb.apply(this,arguments)},_b=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function Sb(e){return e&&e.map((function(e,n){return t.createElement(e.tag,xb({key:n},e.attr),Sb(e.child))}))}function Eb(e){return function(n){return t.createElement(Ib,xb({attr:xb({},e.attr)},n),Sb(e.child))}}function Ib(e){var n=function(n){var r,i=e.attr,a=e.size,o=e.title,s=_b(e,["attr","size","title"]),u=a||n.size||"1em";return n.className&&(r=n.className),e.className&&(r=(r?r+" ":"")+e.className),t.createElement("svg",xb({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,s,{className:r,style:xb(xb({color:e.color||n.color},n.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&t.createElement("title",null,o),e.children)};return void 0!==wb?t.createElement(wb.Consumer,null,(function(e){return n(e)})):n(bb)}function Cb(e){return Eb({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 43.4C130.6 43.4 35.4 138.6 35.4 256S130.6 468.6 248 468.6 460.6 373.4 460.6 256 365.4 43.4 248 43.4zm-97.4 132.9c0-53.7 43.7-97.4 97.4-97.4s97.4 43.7 97.4 97.4v26.6c0 5-3.9 8.9-8.9 8.9h-17.7c-5 0-8.9-3.9-8.9-8.9v-26.6c0-82.1-124-82.1-124 0v26.6c0 5-3.9 8.9-8.9 8.9h-17.7c-5 0-8.9-3.9-8.9-8.9v-26.6zM389.7 380c0 9.7-8 17.7-17.7 17.7H124c-9.7 0-17.7-8-17.7-17.7V238.3c0-9.7 8-17.7 17.7-17.7h248c9.7 0 17.7 8 17.7 17.7V380zm-248-137.3v132.9c0 2.5-1.9 4.4-4.4 4.4h-8.9c-2.5 0-4.4-1.9-4.4-4.4V242.7c0-2.5 1.9-4.4 4.4-4.4h8.9c2.5 0 4.4 1.9 4.4 4.4zm141.7 48.7c0 13-7.2 24.4-17.7 30.4v31.6c0 5-3.9 8.9-8.9 8.9h-17.7c-5 0-8.9-3.9-8.9-8.9v-31.6c-10.5-6.1-17.7-17.4-17.7-30.4 0-19.7 15.8-35.4 35.4-35.4s35.5 15.8 35.5 35.4zM248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 478.3C121 486.3 17.7 383 17.7 256S121 25.7 248 25.7 478.3 129 478.3 256 375 486.3 248 486.3z"}}]})(e)}function Tb(e){return Eb({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"}}]})(e)}function Nb(e){return Eb({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"}}]})(e)}function Ab(e){return Eb({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M288 256H96v64h192v-64zm89-151L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-153 31V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zM64 72c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8V72zm0 64c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8v-16zm256 304c0 4.42-3.58 8-8 8h-80c-4.42 0-8-3.58-8-8v-16c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16zm0-200v96c0 8.84-7.16 16-16 16H80c-8.84 0-16-7.16-16-16v-96c0-8.84 7.16-16 16-16h224c8.84 0 16 7.16 16 16z"}}]})(e)}function jb(e){return Eb({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"}}]})(e)}function Rb(e){return Eb({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 352h-16V243.9c0-12.7-5.1-24.9-14.1-33.9L494 110.1c-9-9-21.2-14.1-33.9-14.1H416V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48v320c0 26.5 21.5 48 48 48h16c0 53 43 96 96 96s96-43 96-96h128c0 53 43 96 96 96s96-43 96-96h48c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zM160 464c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm320 0c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm80-208H416V144h44.1l99.9 99.9V256z"}}]})(e)}function Db(e){return Eb({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M610.5 373.3c2.6-14.1 2.6-28.5 0-42.6l25.8-14.9c3-1.7 4.3-5.2 3.3-8.5-6.7-21.6-18.2-41.2-33.2-57.4-2.3-2.5-6-3.1-9-1.4l-25.8 14.9c-10.9-9.3-23.4-16.5-36.9-21.3v-29.8c0-3.4-2.4-6.4-5.7-7.1-22.3-5-45-4.8-66.2 0-3.3.7-5.7 3.7-5.7 7.1v29.8c-13.5 4.8-26 12-36.9 21.3l-25.8-14.9c-2.9-1.7-6.7-1.1-9 1.4-15 16.2-26.5 35.8-33.2 57.4-1 3.3.4 6.8 3.3 8.5l25.8 14.9c-2.6 14.1-2.6 28.5 0 42.6l-25.8 14.9c-3 1.7-4.3 5.2-3.3 8.5 6.7 21.6 18.2 41.1 33.2 57.4 2.3 2.5 6 3.1 9 1.4l25.8-14.9c10.9 9.3 23.4 16.5 36.9 21.3v29.8c0 3.4 2.4 6.4 5.7 7.1 22.3 5 45 4.8 66.2 0 3.3-.7 5.7-3.7 5.7-7.1v-29.8c13.5-4.8 26-12 36.9-21.3l25.8 14.9c2.9 1.7 6.7 1.1 9-1.4 15-16.2 26.5-35.8 33.2-57.4 1-3.3-.4-6.8-3.3-8.5l-25.8-14.9zM496 400.5c-26.8 0-48.5-21.8-48.5-48.5s21.8-48.5 48.5-48.5 48.5 21.8 48.5 48.5-21.7 48.5-48.5 48.5zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm201.2 226.5c-2.3-1.2-4.6-2.6-6.8-3.9l-7.9 4.6c-6 3.4-12.8 5.3-19.6 5.3-10.9 0-21.4-4.6-28.9-12.6-18.3-19.8-32.3-43.9-40.2-69.6-5.5-17.7 1.9-36.4 17.9-45.7l7.9-4.6c-.1-2.6-.1-5.2 0-7.8l-7.9-4.6c-16-9.2-23.4-28-17.9-45.7.9-2.9 2.2-5.8 3.2-8.7-3.8-.3-7.5-1.2-11.4-1.2h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c10.1 0 19.5-3.2 27.2-8.5-1.2-3.8-2-7.7-2-11.8v-9.2z"}}]})(e)}function Ob(){var e,n,r,i=L(),a=JSON.parse(localStorage.getItem("cart")),s=db(),u=pb(),c=kb(),l=(null===u||void 0===u?void 0:u.wishList.length)||(null===c||void 0===c||null===(e=c.wishList)||void 0===e?void 0:e.length),f=(null===u||void 0===u||null===(n=u.cart)||void 0===n?void 0:n.length)||(null===c||void 0===c||null===(r=c.cart)||void 0===r?void 0:r.length)||(null===a||void 0===a?void 0:a.length),h=o((0,t.useState)(!1),2),d=h[0],p=h[1];(0,t.useEffect)((function(){null!==c&&void 0!==c&&c.admin&&p(!0)}),[c]);var v=vb(),m=o((0,t.useState)(""),2),y=m[0],g=m[1],k=o((0,t.useState)([]),2),b=k[0],w=k[1],x=o((0,t.useState)([]),2),_=x[0],S=x[1],E=o((0,t.useState)(null),2),I=E[0],C=E[1],T=o((0,t.useState)(null),2),N=T[0],A=T[1];(0,t.useEffect)((function(){return jp(mp(Sd(ob,"products"),gp("status","==","approved")),(function(e){w(e.docs.map((function(e){return J(J({},e.data()),{},{id:e.id})})))}))}),[]),(0,t.useEffect)((function(){return jp(mp(Sd(ob,"artists"),gp("status","==","approved")),(function(e){C(e.docs.map((function(e){return J(J({},e.data()),{},{id:e.id})})))}))}),[]);return(0,t.useEffect)((function(){if(y){var e=(r=y).charAt(0).toUpperCase()+r.slice(1),t=b.filter((function(t){return String(t.title).startsWith(y)||String(t.title).startsWith(y.toLowerCase())||String(t.title).startsWith(e)}));S(t);var n=I.filter((function(t){return String(t.artistName).startsWith(y)||String(t.artistName).startsWith(y.toLowerCase())||String(t.artistName).startsWith(e)}));A(n)}var r}),[y,b,I]),window.onclick=function(){g("")},window.onkeydown=function(e){"Escape"===e.key&&g("")},(0,yb.jsxs)("div",{className:"Navbar",children:[d&&(0,yb.jsx)(Q,{className:"admin-link",to:"/admin",children:(0,yb.jsx)(Db,{className:"admin-icon"})}),c&&(0,yb.jsx)(yb.Fragment,{children:(0,yb.jsxs)("div",{className:"profile-settings-icon-container",children:[(0,yb.jsx)(Q,{to:"/profile",children:(0,yb.jsx)("i",{className:"fa-solid fa-gear profile-settings-icon"})}),(0,yb.jsx)("div",{className:"profile-link-text",children:"My Profile"})]})}),(0,yb.jsxs)("div",{className:"logoContainer",children:[(0,yb.jsxs)(Q,{to:"/",children:[" ",(0,yb.jsxs)("div",{className:"logoWrapperNav",children:[(0,yb.jsxs)("h1",{id:"logoText",children:["ART",(0,yb.jsx)("span",{id:"logoText2",children:"ZY"})]}),(0,yb.jsx)("img",{id:"logoText--svg",src:Z,alt:"ARTZY Logo"})]})]}),(0,yb.jsxs)("div",{className:"menuWrapper",children:[(0,yb.jsxs)("h1",{id:"styleSettings",className:"category-link",children:[(0,yb.jsx)(Q,{to:"/category",children:"Category"}),(0,yb.jsxs)("div",{className:"category-menu",children:[(0,yb.jsx)("p",{className:"category-menu-title",children:"Browse Category"}),v.map((function(e){return(0,yb.jsxs)("div",{className:"category-menu-item",children:[(0,yb.jsxs)(Q,{className:"category-menu-item-link",to:"/category/"+e.handle,children:[(0,yb.jsx)("p",{className:"category-menu-item-title",children:e.name}),(0,yb.jsx)("i",{className:"fa-solid fa-angle-right"})]}),(0,yb.jsx)(gb,{handle:e.handle})]},e.id)}))]})]}),(0,yb.jsx)(Q,{to:"/artist",children:(0,yb.jsx)("h1",{id:"styleSettings",className:"artist-link",children:"Artist"})})]}),(0,yb.jsxs)("div",{className:"inputWrapper",children:[(0,yb.jsx)("input",{className:"inputField",type:"text",placeholder:"Search products or artists",onChange:function(e){return g(e.target.value)},value:y}),(0,yb.jsx)("i",{className:"fa-solid fa-magnifying-glass searchIcon"}),y&&(0,yb.jsxs)("div",{className:"search-results",children:[(0,yb.jsxs)("div",{className:"product-results",children:[(0,yb.jsxs)("p",{children:["Top results for products: (",null===_||void 0===_?void 0:_.length,")"]}),_&&_.slice(0,10).map((function(e){return(0,yb.jsx)(Q,{to:"/product/"+e.id,children:(0,yb.jsx)("div",{children:e.title})},e.id)})),(null===_||void 0===_?void 0:_.length)>0?null:(0,yb.jsx)("p",{children:"No results..."})]}),(0,yb.jsxs)("div",{className:"artist-results",children:[(0,yb.jsxs)("p",{children:["Top results for artists: (",null===N||void 0===N?void 0:N.length,")"]}),N&&N.slice(0,10).map((function(e){return(0,yb.jsx)(Q,{to:"/artist/"+e.artistName,children:(0,yb.jsx)("div",{children:e.artistName})},e.id)})),(null===N||void 0===N?void 0:N.length)>0?null:(0,yb.jsx)("p",{children:"No results..."})]})]})]}),(0,yb.jsxs)("div",{className:"customerWrapper",children:[(0,yb.jsx)(Q,{to:"/wishlist",children:(0,yb.jsxs)("div",{className:"menu-icon-container",children:[(0,yb.jsx)("h1",{id:"styleSettings",children:"Wishlist"}),(0,yb.jsx)("i",{className:"fa-solid fa-heart"}),(0,yb.jsxs)("p",{children:["(",l||0,")"]})]})}),(0,yb.jsx)(Q,{to:"/cart",children:(0,yb.jsxs)("div",{className:"menu-icon-container",children:[(0,yb.jsx)("h1",{id:"styleSettings",children:"Cart"}),(0,yb.jsx)("i",{className:"fa-solid fa-cart-shopping"}),(0,yb.jsxs)("p",{children:["(",f||0,")"]})]})}),!s&&(0,yb.jsx)(Q,{to:"/signin",children:(0,yb.jsxs)("div",{className:"menu-icon-container",children:[(0,yb.jsx)("h1",{className:"signX",id:"styleSettings",children:"Sign In"}),(0,yb.jsx)("i",{className:"fa-solid fa-user"}),(0,yb.jsx)("p",{children:"\xa0"})]})}),s&&(0,yb.jsx)(Q,{to:"/",children:(0,yb.jsxs)("div",{className:"menu-icon-container",children:[(0,yb.jsx)("h1",{className:"signX",id:"styleSettings",onClick:function(){lb(),i("/")},children:"Sign out"}),(0,yb.jsx)("i",{className:"fa-solid fa-user"}),(0,yb.jsx)("p",{children:(null===u||void 0===u?void 0:u.eMail)||(null===c||void 0===c?void 0:c.eMail)})]})})]})]}),(0,yb.jsx)("div",{className:"borderSolidLine"})]})}var Pb=n.p+"static/media/pipilotti.f12e84e91b75e4829b66.jpg";function Lb(){return(0,yb.jsxs)("div",{className:"newsDiv",children:[(0,yb.jsx)("h1",{id:"newsTitle",children:"News"}),(0,yb.jsxs)("div",{className:"newsImage",children:[(0,yb.jsx)("img",{src:Pb,alt:"Bild News"}),(0,yb.jsxs)("div",{className:"newsContent",children:[(0,yb.jsx)("h2",{children:"Pipilotti Rist Takes Risks for Art"}),(0,yb.jsx)("p",{children:" Pipilotti Rist is famous for merging world cultures and self-discovery through her thought-provoking work, was that the driving force in picking her for this project? All exhibitions hosted at the National Museum of Qatar strive to speak to our communities through relevant and engaging topics. When working with any artist \u2013 local, regional, or internationally celebrated artists \u2013 it can often be challenging to find a balance between integrating a local specific narrative alongside an artist's predefined meaning and messaging behind their artworks. In this case, the collaboration was almost effortless, as Pipilotti and her team were keen on ensuring her art installation spoke to the people living in the hosting country \u2013 not only did Pipilotti want the big picture story attached to the exhibition to resonate with our audiences, but she even regularly consulted and reconfigured the sound installation to ensure that it was also linked to our messaging."})]})]})]})}function Mb(e){var t=e.artistname,n=e.imgUrl;return(0,yb.jsx)("div",{className:"artistsingle--Container",children:(0,yb.jsx)(Q,{to:"/artist/"+t,children:(0,yb.jsxs)("div",{className:"aristsingle--Wrapper",children:[(0,yb.jsx)("h2",{children:t}),(0,yb.jsx)("img",{src:n,alt:"Bild alt"})]})})})}function Ub(e){var t=e.categoryName,n=e.imgUrl;return(0,yb.jsx)("div",{className:"categorysingle--Container",children:(0,yb.jsxs)("div",{className:"categorysingle--Wrapper",children:[(0,yb.jsx)("img",{src:n,alt:"Bild alt"}),(0,yb.jsx)("h2",{children:t})]})})}var Fb=function(e){var n=o((0,t.useState)([]),2),r=n[0],i=n[1];return(0,t.useEffect)((function(){return jp(Sd(ob,e),(function(e){i(e.docs.map((function(e){return J(J({},e.data()),{},{id:e.id})})))}))}),[e]),r};function Vb(){var e=Fb("artists").filter((function(e){return"approved"===e.status})),t=function(e){for(var t,n=e.length;0!==n;){t=Math.floor(Math.random()*n),n--;var r=[e[t],e[n]];e[n]=r[0],e[t]=r[1]}return e},n=t(vb()).slice(0,4),r=t(e).slice(0,4);return(0,yb.jsxs)("div",{className:"rowContainer",children:[(0,yb.jsx)("div",{className:"titleWrapper",children:(0,yb.jsx)("h2",{className:"rowTitle",children:"Explore what you Love.."})}),(0,yb.jsx)("div",{className:"contentWrapper",children:n.map((function(e){return(0,yb.jsx)("div",{className:"pictureContainer",children:(0,yb.jsx)(Q,{to:"/category/"+e.handle,children:(0,yb.jsx)(Ub,{categoryName:e.name,imgUrl:e.imageUrl})})},e.id)}))}),(0,yb.jsx)("div",{className:"borderSolidLine"}),(0,yb.jsx)("div",{className:"titleWrapper",children:(0,yb.jsx)("h2",{className:"rowTitle",children:"Find and support artists.."})}),(0,yb.jsx)("div",{className:"contentWrapper",children:r.map((function(e){return(0,yb.jsx)("div",{className:"pictureContainer2",children:(0,yb.jsx)(Mb,{artistname:e.artistName,imgUrl:e.profilePic})},e.id)}))}),(0,yb.jsx)("div",{className:"newsDiv",children:(0,yb.jsx)(Lb,{})})]})}function Bb(){var e=(0,t.useRef)(),n=o((0,t.useState)(""),2),r=n[0],i=n[1],a=o((0,t.useState)(""),2),s=a[0],u=a[1];return(0,yb.jsxs)("div",{className:"footerContainer",children:[(0,yb.jsx)("div",{className:"borderSolidLine"}),(0,yb.jsxs)("div",{className:"newsLetterWrapper",children:[r&&(0,yb.jsx)("div",{className:"output success",children:r}),s&&(0,yb.jsx)("div",{className:"output error",children:s}),(0,yb.jsxs)("form",{onSubmit:function(t){if(t.preventDefault(),u(""),i(""),""===e.current.value)return u("Enter email to subscribe!");try{Ap(Sd(ob,"newsletter"),{email:e.current.value,createdAt:Op()}).then((function(){i("Success! Thank you for your subscription!")}))}catch(n){u(n)}e.current.value=""},children:[(0,yb.jsx)("h2",{className:"newsletterText",children:"Newsletter:"}),(0,yb.jsx)("input",{className:"inputField",ref:e,type:"email",placeholder:"Your email"}),(0,yb.jsx)("button",{className:"newsletter-btn",children:(0,yb.jsx)("i",{className:"fa-solid fa-angle-right newsletter-btn-icon"})})]})]}),(0,yb.jsx)("div",{className:"logoWrapper",children:(0,yb.jsx)(Q,{to:"/",children:(0,yb.jsxs)("h1",{id:"logoTextFooter",children:["ART",(0,yb.jsx)("span",{id:"logoText--span",children:"ZY"})]})})}),(0,yb.jsx)("div",{className:"linkContainer",children:(0,yb.jsxs)("ul",{children:[(0,yb.jsx)("li",{children:(0,yb.jsx)("a",{href:"/underconstruction",children:(0,yb.jsx)("h3",{children:"Home"})})}),(0,yb.jsx)("li",{children:(0,yb.jsx)("a",{href:"/underconstruction",children:(0,yb.jsx)("h3",{children:"Experience"})})}),(0,yb.jsx)("li",{children:(0,yb.jsx)("a",{href:"/underconstruction",children:(0,yb.jsx)("h3",{children:"News"})})}),(0,yb.jsx)("li",{children:(0,yb.jsx)("a",{href:"/underconstruction",children:(0,yb.jsx)("h3",{children:"About Us"})})}),(0,yb.jsx)("li",{children:(0,yb.jsx)("a",{href:"/underconstruction",children:(0,yb.jsx)("h3",{children:"Jobs"})})}),(0,yb.jsx)("li",{children:(0,yb.jsx)("a",{href:"/underconstruction",children:(0,yb.jsx)("h3",{children:"Contact"})})})]})}),(0,yb.jsx)("div",{className:"socialsContainer",children:(0,yb.jsxs)("ul",{children:[(0,yb.jsx)("li",{children:(0,yb.jsx)("a",{href:"https://facebook.com",children:(0,yb.jsx)("i",{className:"fa-brands fa-facebook-f"})})}),(0,yb.jsx)("li",{children:(0,yb.jsx)("a",{href:"https://twitter.com",children:(0,yb.jsx)("i",{className:"fa-brands fa-twitter"})})}),(0,yb.jsx)("li",{children:(0,yb.jsx)("a",{href:"https://instagram.com",children:(0,yb.jsx)("i",{className:"fa-brands fa-instagram"})})}),(0,yb.jsx)("li",{children:(0,yb.jsx)("a",{href:"https://pinterest.com",children:(0,yb.jsx)("i",{className:"fa-brands fa-pinterest"})})})]})}),(0,yb.jsx)("div",{className:"copyright",children:(0,yb.jsxs)("h4",{children:[(0,yb.jsx)("i",{className:"fa-regular fa-copyright"})," Copyright 2022 - Artzy"]})})]})}function zb(){return(0,yb.jsxs)("div",{children:[(0,yb.jsx)(Ob,{}),(0,yb.jsx)(Vb,{}),(0,yb.jsx)(Bb,{})]})}var qb=function(){var e=o((0,t.useState)([]),2),n=e[0],r=e[1];return(0,t.useEffect)((function(){(function(e){e=gd(e,wd);var t=gd(e.firestore,Td);return fd(Nd(t),e._key).then((function(n){return Dp(t,e,n)}))})(Ed(ob,"featured","featuredArtist")).then((function(e){r(J({},e.data()))}))}),[]),n};function Hb(){var e,t,n,r=qb();return(0,yb.jsxs)(yb.Fragment,{children:[(0,yb.jsx)("h1",{children:"Featured artist of the week"}),(0,yb.jsx)("div",{className:"artistCardContainer",children:(0,yb.jsxs)(Q,{to:"/artist/"+(null===r||void 0===r||null===(e=r.featuredArtist)||void 0===e?void 0:e.artistName),children:[(0,yb.jsx)("h2",{id:"artistTitle",children:null===r||void 0===r||null===(t=r.featuredArtist)||void 0===t?void 0:t.artistName}),(0,yb.jsx)("img",{src:null===r||void 0===r||null===(n=r.featuredArtist)||void 0===n?void 0:n.profilePic,alt:"profile_picture"})]})})]})}function Wb(){var e=o((0,t.useState)(null),2),n=e[0],r=e[1],i=o((0,t.useState)(null),2),a=i[0],s=i[1],u=o((0,t.useState)(""),2),c=u[0],l=u[1];(0,t.useEffect)((function(){return jp(mp(Sd(ob,"artists"),gp("status","==","approved")),(function(e){r(e.docs.map((function(e){return J(J({},e.data()),{},{id:e.id})})))}))}),[]);var f=function(e){var t=String(e.target.innerText);l(t),s(n.filter((function(e){return e.artistName.startsWith(t.toLowerCase())||e.artistName.startsWith(t.toUpperCase())})))};return(0,yb.jsxs)(yb.Fragment,{children:[(0,yb.jsx)(Ob,{}),(0,yb.jsxs)("div",{className:"artistContainer",children:[(0,yb.jsx)(Hb,{}),(0,yb.jsxs)("div",{className:"artistSearchContainer",children:[(0,yb.jsx)("h1",{children:"Artists"}),(0,yb.jsxs)("form",{children:[(0,yb.jsx)("button",{type:"submit",disabled:!0,children:"Search"}),(0,yb.jsx)("input",{onChange:function(e){if(!e.target.value)return s(null),void l(null);var t,r=String(e.target.value),i=(t=r).charAt(0).toUpperCase()+t.slice(1);s(n.filter((function(e){return String(e.artistName).startsWith(r)||String(e.artistName).startsWith(i)||String(e.artistName).startsWith(r.toLowerCase())}))),l(r)},type:"search",placeholder:"Search by artist..."})]}),(0,yb.jsx)("h2",{children:"Find artist by name"}),(0,yb.jsxs)("div",{className:"alphabeticButtonContainer",children:[(0,yb.jsx)("button",{onClick:f,className:"alphabeticButton",children:"A"}),(0,yb.jsx)("button",{onClick:f,className:"alphabeticButton",children:"B"}),(0,yb.jsx)("button",{onClick:f,className:"alphabeticButton",children:"C"}),(0,yb.jsx)("button",{onClick:f,className:"alphabeticButton",children:"D"}),(0,yb.jsx)("button",{onClick:f,className:"alphabeticButton",children:"E"}),(0,yb.jsx)("button",{onClick:f,className:"alphabeticButton",children:"F"}),(0,yb.jsx)("button",{onClick:f,className:"alphabeticButton",children:"G"}),(0,yb.jsx)("button",{onClick:f,className:"alphabeticButton",children:"H"}),(0,yb.jsx)("button",{onClick:f,className:"alphabeticButton",children:"I"}),(0,yb.jsx)("button",{onClick:f,className:"alphabeticButton",children:"J"}),(0,yb.jsx)("button",{onClick:f,className:"alphabeticButton",children:"K"}),(0,yb.jsx)("button",{onClick:f,className:"alphabeticButton",children:"L"}),(0,yb.jsx)("button",{onClick:f,className:"alphabeticButton",children:"M"}),(0,yb.jsx)("button",{onClick:f,className:"alphabeticButton",children:"N"}),(0,yb.jsx)("button",{onClick:f,className:"alphabeticButton",children:"O"}),(0,yb.jsx)("button",{onClick:f,className:"alphabeticButton",children:"P"}),(0,yb.jsx)("button",{onClick:f,className:"alphabeticButton",children:"Q"}),(0,yb.jsx)("button",{onClick:f,className:"alphabeticButton",children:"R"}),(0,yb.jsx)("button",{onClick:f,className:"alphabeticButton",children:"S"}),(0,yb.jsx)("button",{onClick:f,className:"alphabeticButton",children:"T"}),(0,yb.jsx)("button",{onClick:f,className:"alphabeticButton",children:"U"}),(0,yb.jsx)("button",{onClick:f,className:"alphabeticButton",children:"V"}),(0,yb.jsx)("button",{onClick:f,className:"alphabeticButton",children:"W"}),(0,yb.jsx)("button",{onClick:f,className:"alphabeticButton",children:"X"}),(0,yb.jsx)("button",{onClick:f,className:"alphabeticButton",children:"Y"}),(0,yb.jsx)("button",{onClick:f,className:"alphabeticButton",children:"Z"})]})]}),(0,yb.jsxs)("div",{className:"resultContainer",children:[a&&(0,yb.jsxs)("h3",{className:"resultTile",children:[" Search found ",null===a||void 0===a?void 0:a.length,' hits on "',c,'"']}),(0,yb.jsx)("div",{className:"articleCardResultContainer",children:a&&a.map((function(e){return(0,yb.jsx)("div",{className:"articleCardResult",children:(0,yb.jsxs)(Q,{to:"/artist/"+e.artistName,children:[(0,yb.jsx)("h2",{children:e.artistName}),(0,yb.jsx)("img",{src:e.profilePic,alt:"profile_picture"})]})},e.id)}))})]}),(0,yb.jsx)(Bb,{})]})]})}var Kb=n(404),Gb=n.n(Kb),Qb=(0,t.createContext)(null);function Yb(){var e=(0,t.useContext)(Qb),n=e.cartState,r=e.setCartState,i=pb(),a=kb(),s=o((0,t.useState)(!0),2),u=s[0],c=s[1],l=o((0,t.useState)(!1),2),f=l[0],h=l[1],d=o((0,t.useState)(!1),2),p=d[0],v=d[1],m=o((0,t.useState)(!1),2),y=m[0],g=m[1],k=o((0,t.useState)(""),2),b=k[0],w=k[1],x=o((0,t.useState)(""),2),_=x[0],S=x[1],E=o((0,t.useState)(""),2),I=E[0],C=E[1],T=o((0,t.useState)(""),2),N=T[0],A=T[1],j=o((0,t.useState)(""),2),R=j[0],D=j[1],O=o((0,t.useState)(""),2),P=O[0],L=O[1],M=o((0,t.useState)(""),2),U=M[0],F=M[1],V=o((0,t.useState)(""),2),B=V[0],z=V[1],q=o((0,t.useState)(""),2),H=q[0],W=q[1],K=o((0,t.useState)(""),2),G=K[0],Y=K[1],X=o((0,t.useState)(""),2),J=X[0],ee=X[1],ne=o((0,t.useState)(""),2),ie=ne[0],ae=ne[1],oe=o((0,t.useState)(""),2),se=oe[0],ue=oe[1],ce=o((0,t.useState)(""),2),le=ce[0],fe=ce[1],he=o((0,t.useState)(""),2),de=he[0],pe=he[1],ve=o((0,t.useState)(!1),2),me=ve[0],ye=ve[1],ge=o((0,t.useState)(!1),2),ke=ge[0],be=ge[1];(0,t.useEffect)((function(){i&&S(i?(null===i||void 0===i?void 0:i.firstName)+" "+(null===i||void 0===i?void 0:i.lastName):""),a&&S(a?(null===a||void 0===a?void 0:a.firstName)+" "+(null===a||void 0===a?void 0:a.lastName):"")}),[i,a]);var we=function(e){return e.preventDefault(),_?I?R?P?U?(c(!1),h(!0),v(!1),void w("")):w("Please select country"):w("Please fill in zip"):w("Please fill in city"):w("Please fill in adress"):w("Please fill in your name")},xe=function(){var e=re(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),B){e.next=3;break}return e.abrupt("return",w("Please fill in cardowner"));case 3:if(B){e.next=5;break}return e.abrupt("return",w("Please fill in cardnumber"));case 5:if(G&&J){e.next=7;break}return e.abrupt("return",w("Please fill in expiry"));case 7:if(ie){e.next=9;break}return e.abrupt("return",w("Please fill in CVV"));case 9:h(!1),v(!0),pe((new(Gb())).stamp(16).slice(0,8).toUpperCase()),w("");case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_e=function(){var e=re(te().mark((function e(t){var n,r,i;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),se){e.next=3;break}return e.abrupt("return",w("Please enter email"));case 3:n=JSON.parse(localStorage.getItem("cart")),r=function(){var e=function(e){return String(e).length<2&&(e="0"+e),e},t=new Date,n=t.getFullYear(),r=t.getMonth(),i=t.getDate();return n+"-"+e(r)+"-"+e(i)},i=r(),Se(n,{name:_,address:I,addressTwo:N,city:R,zip:P,country:U,cardOwner:B,cardNumber:H,expiryMonth:G,expiryYear:J,CVV:ie,email:se,feedback:le,orderID:de,date:i},de),v(!1),ye(!0),w("");case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Se=function(){var e=re(te().mark((function e(t,i,a){var o,s;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=null===n||void 0===n?void 0:n.reduce((function(e,t){return e+t.prod.price*t.cartAmount}),0),s=Sd(ob,"orders"),e.next=4,Ap(s,{orderCart:t,orderDetails:i,orderID:a,total:o,status:"pending",createdAt:Op()}).then((function(){setTimeout((function(){ye(!1),be(!0),r([]),localStorage.setItem("cart",JSON.stringify([]))}),3e3)}));case 4:g(!0);case 5:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();return(0,yb.jsxs)(yb.Fragment,{children:[(0,yb.jsx)(Ob,{}),(0,yb.jsxs)("div",{className:"cart-wrapper",children:[(0,yb.jsxs)("div",{className:"cart-main-container",children:[(0,yb.jsxs)("div",{className:"cart-main-header",children:[(0,yb.jsx)("img",{src:Z,alt:"logo",className:"cart-logo"}),(0,yb.jsx)("h1",{children:"Your Shopping Cart"})]}),(0,yb.jsxs)("div",{className:"cart-main",children:[(0,yb.jsx)("ul",{className:"cart-main-list",children:(null===n||void 0===n?void 0:n.length)<=0?(0,yb.jsx)("div",{className:"empty-cart",children:(0,yb.jsx)("h2",{children:"Your Cart is Empty"})}):null===n||void 0===n?void 0:n.map((function(e){var t,i,a,o;return(0,yb.jsxs)("li",{className:"cart-main-list-item",children:[(0,yb.jsx)("div",{className:"list-item-img",children:(0,yb.jsx)("img",{src:null===e||void 0===e||null===(t=e.prod)||void 0===t?void 0:t.imageUrl,alt:"cart-list-item"})}),(0,yb.jsxs)("div",{className:"list-item-details",children:[(0,yb.jsxs)("p",{className:"list-item-title",children:["Product: ",null===e||void 0===e||null===(i=e.prod)||void 0===i?void 0:i.title]}),(0,yb.jsx)("span",{className:"list-item-product-number",children:"Prod nr: 70332"}),(0,yb.jsxs)("p",{className:"list-item-artist",children:["Made by: ",null===e||void 0===e||null===(a=e.prod)||void 0===a?void 0:a.by]})]}),(0,yb.jsx)("div",{className:"list-item-color",children:(0,yb.jsx)("p",{children:"Color: Black"})}),(0,yb.jsxs)("div",{className:"list-item-amount-container",children:[(0,yb.jsx)("div",{className:"list-item-amount",children:(0,yb.jsx)("p",{children:null===e||void 0===e?void 0:e.cartAmount})}),(0,yb.jsxs)("div",{className:"list-item-change-amount",children:[(0,yb.jsx)("div",{className:"add",children:(0,yb.jsx)("button",{onClick:function(){return function(e){var t=e.id;if(t){var i=n.findIndex((function(e){return e.id===t})),a=localStorage.getItem("cart");if(null!=a){var o=JSON.parse(a);o[i].cartAmount=n[i].cartAmount+1,localStorage.setItem("cart",JSON.stringify(o)),r(o)}}}(e)},children:"+"})}),(0,yb.jsx)("div",{className:"sub",children:(0,yb.jsx)("button",{onClick:function(){return function(e){var t=e.id,i=n.findIndex((function(e){return e.id===t})),a=localStorage.getItem("cart");if(null!=a){var o=JSON.parse(a);if(o[i].cartAmount=n[i].cartAmount-1,0===o[i].cartAmount)return;localStorage.setItem("cart",JSON.stringify(o)),r(o)}}(e)},children:"-"})})]})]}),(0,yb.jsx)("div",{className:"list-item-price",children:(0,yb.jsxs)("p",{children:["Price: ",null===e||void 0===e||null===(o=e.prod)||void 0===o?void 0:o.price," $"]})}),(0,yb.jsx)("div",{className:"list-item-remove",children:(0,yb.jsx)(jb,{onClick:function(){return function(e){var t=e.id,i=n.filter((function(e){return t!==e.id}));localStorage.setItem("cart",JSON.stringify(i)),r($(i))}(e)}})})]},null===e||void 0===e?void 0:e.id)}))}),(0,yb.jsxs)("div",{className:"cart-main-bottom",children:[(0,yb.jsx)("div",{className:"cart-main-back",children:(0,yb.jsxs)(Q,{to:"/",children:[(0,yb.jsx)("i",{className:"fa-solid fa-arrow-left"}),(0,yb.jsx)("p",{children:"Back to shop"})]})}),(0,yb.jsx)("div",{className:"cart-main-total-price",children:(0,yb.jsxs)("p",{className:"total-price",children:["Subtotal: ",n&&(null===n||void 0===n?void 0:n.reduce((function(e,t){return e+t.prod.price*t.cartAmount}),0))," $"]})})]})]})]}),(0,yb.jsxs)("div",{className:"cart-checkout",children:[u&&(0,yb.jsxs)("div",{className:"cart-checkout-1",children:[(0,yb.jsxs)("div",{className:"side-menu-buttons",children:[(0,yb.jsx)("span",{className:"span-1"}),(0,yb.jsx)("span",{className:"span-2"}),(0,yb.jsx)("span",{className:"span-3"})]}),(0,yb.jsxs)("form",{children:[(0,yb.jsx)("h2",{className:"form-title",children:"Shipping Details"}),(0,yb.jsx)("label",{htmlFor:"full-name",children:"Full Name"}),(0,yb.jsx)("input",{type:"text",name:"full-name",onChange:function(e){return S(e.target.value)},value:_}),(0,yb.jsx)("label",{children:"Address Line 1"}),(0,yb.jsx)("input",{type:"text",onChange:function(e){return C(e.target.value)},value:I}),(0,yb.jsx)("label",{children:"Address Line 2 (Optional)"}),(0,yb.jsx)("input",{type:"text",onChange:function(e){return A(e.target.value)},value:N}),(0,yb.jsxs)("div",{className:"city-details",children:[(0,yb.jsxs)("div",{className:"city",children:[(0,yb.jsx)("label",{children:"City"}),(0,yb.jsx)("input",{type:"text",onChange:function(e){return D(e.target.value)},value:R})]}),(0,yb.jsxs)("div",{className:"zip",children:[(0,yb.jsx)("span",{className:"city-divider",children:"/"}),(0,yb.jsx)("label",{children:"Zip"}),(0,yb.jsx)("input",{type:"number",onChange:function(e){return L(e.target.value)},value:P})]})]}),(0,yb.jsx)("label",{htmlFor:"country",children:"Country"}),(0,yb.jsxs)("select",{type:"select",name:"country",placeholder:"select country",onChange:function(e){return F(e.target.value)},value:U,children:[(0,yb.jsx)("option",{value:"",children:"--Select Country--"}),["Sweden","Denmark","Norway","Finland","UK","USA"].map((function(e){return(0,yb.jsx)("option",{value:e,children:e},e)}))]})]}),b&&(0,yb.jsx)("div",{className:"checkout-error",children:b}),(0,yb.jsx)("button",{onClick:we,children:"Next step"})]}),f&&(0,yb.jsxs)("div",{className:"cart-checkout-2",children:[(0,yb.jsxs)("div",{className:"side-menu-buttons",children:[(0,yb.jsx)("span",{className:"span-1"}),(0,yb.jsx)("span",{className:"span-2"}),(0,yb.jsx)("span",{className:"span-3"})]}),(0,yb.jsxs)("form",{children:[(0,yb.jsx)("i",{onClick:function(e){e.preventDefault(),c(!0),h(!1),v(!1)},className:"fa-solid fa-long-arrow-alt-left arrow-back"}),(0,yb.jsx)("h2",{className:"form-title",children:"Card Details"}),(0,yb.jsxs)("div",{className:"card-type",children:[(0,yb.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAUCAYAAADRA14pAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAPBSURBVHgBjVhdUuMwDHZLD9BnXjaFA8CegPQEwAk2e4KFE7Q9wZYTUE6w9AR4T0D2GZimLzzniRlm+NlPQQZFkZNoxhNbsn4sybKdwcPDw9x1wHA4vJ5MJnmMvtlskre3t0zxFOBZtdGUjDHNA+0Iw0O0hEklWs7tAnxFxIYx6xkrXUvwlGE8osWwgmO0E2fDDAKnYPQxOuRkCveTvyegzSQBhi3k+P7+nvReYt7YkE24lBr4BvieORtuwZ8YeHLUdRgMKXLkbbRTjCdoC0salJnOoAjikym0jOCB5oFhPvS32+1sZ2fnj1ORsUDySYDDMveVETWA3WlNhhxQuqDNnbFoKDuwBL6+vqYG2ov+oUGvtgen+9z1h8JCwmE/Ygza7mFk3tLAHUaUzQx05TDaVwZfLvaUxUvOmLqPbJtw/5z5GnWEMyx1cajpH1kzyCAI8krQ+PHx8dvu7u5WKCN6oti9KCwNJ72/v2/F0Nomp6owUd87OwgEM9cONbtjEabc/6dxz8/P3xXql8F6JfrWgr00xtAbK5wxSNX4XE94enqahn50wVy9tTFJ6HMqaeP0cXNkyJVpmRv035B9yfJbwShWpJ8yoZTzBoPBp+OHLfJyzagKQKYZ4JArhWpEWB1ter6UjTVvZlwHTED90Bnm+VtzpLQ7umAuLDoCqeg3KiMEr0KfI5SoKbnSsUSKxxZNMEe7taINHDlTO7SSZWzHXhEm+KvGCXmcLwqJJMDwtSw2OK4a0YUhWp7b29vLXOTsDzrRboxI6+gWIXtgiw5UVbio07VgbxlgnXvYJ0s1TvUctX8/gc/+SUu06bw+CwOrfoC+Dn3Y57WAULi6FtzYx86+ghb62hm5qETv45QdHG06ewtNh7zj0OfLTi3iFNW7u7uU2svLS6L5Q+FqXXBkH58ZU62U1Cldtj1AhM4CC2pLcfOyA9zlaDS6CU3TQwC6IkywVmOrano54IKi5+WCnrQdOzDeyo6SeVMXuTd3QBWAUY+JXVFZ6ScbFSwYXZskKyc/A+nI8VTIKB3RSqTdGHyUupmhJ+zv6L25A6rC1blg2pswjLwbOw8bhUYe9AHkS0fs7xT91HXD59vaNZ1hbbsAqRxQ4eoTYccCU2cb4jWyR8EyHyIRKNzHA6IqVkbmLPb395cWI91cnEh/CkSfPUywjuBjxSVV4yKkfdvNyYAV2jTwWsXKugIL0Deuo74R9vovBQvwGsdv3IWaV4Q+V/4JFx+KNGVDwuQSvFs+r6/lrxmWe6Xlxn75MFyoW1f5H/ttwTSqBNOPAAAAAElFTkSuQmCC",alt:"visa"}),(0,yb.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAUCAYAAAADU1RxAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAI0SURBVHgBtZZdbtpAEMdn15BQlbRU6kurPrgX4OMG6QkoN0hu0BuEnKDJCUJPANwgPQFfz0h+aoFQxYFIbWJs9z+WjdyAww5S/2i9H97Z/XkY71jRFvV6vZJlWZ/RrKNUUWweV0r1wzB00OyWy+VW2qbdbh9rrXk+25Xi4rKN7/tdtDuNRsPZtp96OjAcDnmRq3iR5+SgnI/H42sAXwHueMd8fogLAJ0Dxs2EAMBXVF/IUDmtabm4cyc3813AaTlBEHxKe2UNMRqNzvA0TTKUpRS9OMhF7fmtSz+nMxKIQWqJRzRf4IETCQDcSoW8te6/fVOiV8WXJJCNv7CddHRcn5FAh5aOQNL68P4dWVobr8ExxMEcQbAXKI5+E/HW2zbjsaOjIkkEb0QPz6vVRYZakVLb770uyiBib5Q03GpLDHUWAVQoHNIesjVoqhKL5yAO8nnaQ1XzSPqPYghHYhDil6XfDw+0hxyG6Ess/CAbwnv0aA/1GaIrsWCIMINjcX9PEiEer/nU1EgoHfRdY0MUL/A3xh89j27vFiQRIL5xrWu1mguQU4mxtwo2vDGb/yKJcDS04IVWBMEXgHRAdWm6AO//Z7Va96cAEHrB4ZS+BkrfGQwGTRAa55EcTs/lckmT2Q0JtJHK/zknKpVKE9Vp/PW0S+4qCBs/JtOPmN8xmE/Y/DJO4U56PPP4ixNbHRvY8E5yqrIxv9JdDmiOp2R+nBFPMLeSmu/Cnj8Jv6N98fSLKtFfYM73yR3jgFkAAAAASUVORK5CYII=",alt:"mastercard"}),(0,yb.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFIAAAAUCAYAAAAeLWrqAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAASPSURBVHgB7VjbUdtAFL025jkwmE++olQQu4LYFcSpIE4FSSrArgCoIE4FcSqIUgFyBYgKkPlhGAbIOcpdcbVe2zIzGfjgzKy12sfd3aN7z+66Joqzs7N+rVb7LouRMD08PAzb7XYqryhQN/lWhfZsQ8LPQfxXeUWBgkiQ805WANofgcymvCLHqh5pQRI78oocDf6oZ5W8a3NzU3Z2doKd7u/v5ebmRq6vrzOpANjvwYM/+OUoy2BrguwYmlvJ1lNweXkZra2tHYXq7u7u8vEPDg5SWQHWJmz8aWj5jDfu7e3lZM7D7u6urK+vf4fB7rJJgLAvEvBebFqsY5Yy0f2PG1gfY/VDFfV6HpTHuo5YqiMyNqcutGe0bmNjQ5YBJER4VNl0rH16XoyUmrKoop0nAZ5j9T8DATFS4rU5ktVgnS+tBwrzr6SeMheNRsO1/SArDIoFfGy1Wl2kt2LIxHj78p+AMSOXh5QMm81mF6mN8nGoTRWA+PfmNcnZ8HdshOxSQxoSxEJtQ8j6spGG2mEhU21P7+UR651q6B/t4+zE8s/Di3crCdq/5+aGurGUHSUxa2hSXnT83AZCPB/feTH1T8fsuPmrBBRRtrW1de40MjIDWZJmQE913khgoReyGJHJZ27R3IC8ungymXzBggZukqqhDPnMlH1kP5Qfu35IXTP3I7RxMpGCmNSbT/7OzQLtOq4Q+R8sQ//f8k//nL2+9ol0vb84Jurdx8m2t7cvgpuNr48kj4kEB0gey2JY280kSc41H0l5cdSun6aMnkMCO1LWWLaNkRyRLXohd308O4ZE2uvKrGz9nk6nofFTR6Lpn+g+YNvG6rVN01fqgdATMJyT6RJDnV4YIDHVRc1F4KAfibcILth4GL1jCA1tU0uVjAIgLNGjUqxFeZiTTHvFNdfYaMn4lA96eREh1E6UvaWW4tmWsnzRZsGZi8iGBHZs6INUAYx8q3D+8r0p1Ynxi/MMN9I6N7kUBAxcB+RjeLEL7ULfGIogrqOvPW56ZsMYod+JZ1d0zNwG+qZ6hh1hDRm89L2xPWQZ83xeXV0xlHtmDR1jM7fXkMAZctnRR48Pw4rnLrtjfyYxfgMvKjKvLpLHj2HrKCn0YnriJ9guQo1zc43gFG+c3nHHxpxPJAy7eVzaCqOHJDZBaPdNdUFkZDuFSMQETnXiXEjqvtYyBG5MyZymqcm39A8Rjhd54TpxedXEXyTRjuH/M2VJWDB+7qHOo29vbwcgi2vOeL40np73547uPo6be93XMLsjG9D9Y36NqiQqSp427xrIckzs1CzqmP8wIVH8fWkozct/h62izNsUiLlE4pjzw+V5Y4FUnCGd2xuR00Pv46T8mQntkEeSQHkamvK4+HhJ2wHDU+/k7FeQq15HjL0+kcmXQtrVu/Mh7S1yAtSN9PjzSe2yLTediV5xiRF/YDMTLzprCI8Te6s4PDzsQSNKX3F/f78tLwzUTvXYiO+qvyN5JjQw+FdbgB2qdFCtcOB+FvD/UHkk8fQ5SSRmBBFacYFJxqZoJC8MPHjj0dfXFGkgz4y/AA9bgrfl1twAAAAASUVORK5CYII=",alt:"paypal"}),(0,yb.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAWCAYAAACCAs+RAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAOMSURBVHgB1VfbTeNAFL0YIyEBkjvYReIhvrArwKlg3QFQQbaDOBVAKgipgFABpoLwh3gp3grWK8EPr+w55g4avHbisLBajjSa8Tzu3Pcdi0zA9fV18+rq6qf853DHLV5eXraenp7i0Wh0Om7fcDj0Hh4eDiuWM5w/WltbO5APxEzVwtnZ2VfXdYccg5HdcYzYeysvmplJ7+/vGxsbG6l8ACotMjc350OADMP2NNqEBdtkmmP0HtoW6ERoFLaL6YZ8AF4sAjcK0X3j5WDm5Pb2tu8BcJltzPvcU+UiBYs0VldXE3sdMbaPs82q9feAq0K00MXKLDW5s7S0tAchPHsz5iPs/QJG2jIFZmdn48fHx23Q9tBTKYlZu7i44Lev9FNbSFXQV47LhB8MBt7i4mJ+1lFLxMVNvFTKURlXVVheXs5g5UyZ9QyTuPsY3wO0Lhumj2G94fn5ecQ9KsQxm/L5ClS2rrccEGhKTWDvATQTyxvgOM4rxSAGyUCIlpEuFNdBSxlL2NuloLQC1nIFQBFhCdl8Dmd6jvmoA7jFkbwBcJ8dY2EwmVC7ZJjfcN9gZWWFWfE7hAuUcSaJSAXo6bmtAk3f0ABfiTPGhf4AiGWT9pA46spLY/zh3J6u5TEAl2FdauA7sNMxXVA0frBnkz0E6utyyJiw7ol0mJCGSw3UFcZoYBzo69By8VwuBDTXKDJsNKup2iveQcERNzmPCwsLZP6A88ZCdKv82+T8OsDebZkS6vcdCmFr3zx9GOxg6lCDnZbzizRwtmMzz/gRDQm6FXsXgxMQ8aUeQlzeRYVuj6nQE+sEYwa+v6+ffdYnDqhUJh/LbUQFSNC1dH4X6TzUpcTw4aoP1s5cILYD/6U5U3kjwEgTguRZkIFur2lNewUqBsJTSMZcqK+FF7ciHNVeIjVhAlb+AvCCPCYhzC973naZknt7eiaUglsR5q3VlvppeKqqXgG6UpMxB02fapz66lZ5+i0eMO5Fa2pySmz3Zh0x5X8igwza93iOQ5N8e6XyXC/yio62xzceWmmtIo+aODzlpWevu9bGGP7HKrtFYnw0BkGQMTCZLXDwB4SIyy6Zn5/P7u7uckXgbCoTQE3CjRqItQj3bapwR+vr630kkwhj0ij7B8otqfsT+azg2wxtxL645sgnAeuOWG+r4vrUL9l/Dbq2xpHBKcIgKO77NBaR53//zs3NTekf5m/r6EBp3K6+HgAAAABJRU5ErkJggg==",alt:"applepay"})]}),(0,yb.jsx)("label",{htmlFor:"card-owner",children:"Card Owner"}),(0,yb.jsx)("input",{type:"text",name:"card-owner",placeholder:"Firstname Lastname",onChange:function(e){return z(e.target.value)},value:B}),(0,yb.jsx)("label",{htmlFor:"card-number",children:"Card Number"}),(0,yb.jsx)("input",{onChange:function(e){return W(e.target.value)},value:H,type:"text",name:"card-number",placeholder:"xxxx - xxxx - xxxx - xxxx"}),(0,yb.jsxs)("div",{className:"card-details",children:[(0,yb.jsxs)("div",{className:"card-expiry-container",children:[(0,yb.jsx)("label",{children:"Expiry Date"}),(0,yb.jsxs)("div",{className:"card-expiry",children:[(0,yb.jsx)("input",{onChange:function(e){return Y(e.target.value)},value:G,type:"number",className:"expiry-month",placeholder:"MM"}),(0,yb.jsx)("span",{className:"card-expiry-divider",children:"/"}),(0,yb.jsx)("input",{onChange:function(e){return ee(e.target.value)},value:J,type:"number",className:"expiry-year",placeholder:"YY"})]})]}),(0,yb.jsxs)("div",{className:"card-cvv",children:[(0,yb.jsx)("label",{children:"CVV"}),(0,yb.jsx)("input",{onChange:function(e){return ae(e.target.value)},value:ie,type:"number",placeholder:"***"})]})]})]}),b&&(0,yb.jsx)("div",{className:"checkout-error",children:b}),(0,yb.jsx)("button",{onClick:xe,children:"Checkout"})]}),p&&(0,yb.jsxs)("div",{className:"cart-checkout-3",children:[(0,yb.jsxs)("div",{className:"side-menu-buttons",children:[(0,yb.jsx)("span",{className:"span-1"}),(0,yb.jsx)("span",{className:"span-2"}),(0,yb.jsx)("span",{className:"span-3"})]}),(0,yb.jsxs)("form",{children:[(0,yb.jsx)("i",{onClick:we,className:"fa-solid fa-long-arrow-alt-left arrow-back"}),(0,yb.jsxs)("h2",{className:"form-title",children:["Thank you ",_]}),(0,yb.jsx)("label",{children:"E-mail for reciept"}),(0,yb.jsx)("input",{type:"email",onChange:function(e){return ue(e.target.value)},value:se}),(0,yb.jsx)("label",{children:"Order ID"}),(0,yb.jsx)("input",{type:"text",disabled:!0,value:de}),(0,yb.jsx)("label",{children:"Anything we should know?"}),(0,yb.jsx)("textarea",{onChange:function(e){return fe(e.target.value)},cols:"30",rows:"10"})]}),b&&(0,yb.jsx)("div",{className:"checkout-error",children:b}),(0,yb.jsx)("button",{onClick:_e,className:"order-btn",children:"Place order and mail my reciept"})]}),me&&(0,yb.jsx)("div",{className:"pending-order",children:(0,yb.jsxs)("div",{className:"lds-spinner",children:[(0,yb.jsx)("div",{}),(0,yb.jsx)("div",{}),(0,yb.jsx)("div",{}),(0,yb.jsx)("div",{}),(0,yb.jsx)("div",{}),(0,yb.jsx)("div",{}),(0,yb.jsx)("div",{}),(0,yb.jsx)("div",{}),(0,yb.jsx)("div",{}),(0,yb.jsx)("div",{}),(0,yb.jsx)("div",{}),(0,yb.jsx)("div",{})]})}),ke&&(0,yb.jsx)(yb.Fragment,{}),y&&(0,yb.jsx)("div",{className:"kiss",children:"\ud83d\ude18"})]})]}),(0,yb.jsx)(Bb,{})]})}function Xb(){var e=L(),n=o((0,t.useState)(!1),2),r=n[0],i=n[1],a=o((0,t.useState)(!1),2),s=a[0],u=a[1],c=o((0,t.useState)(""),2),l=c[0],f=c[1],h=o((0,t.useState)(""),2),d=h[0],p=h[1],v=(0,t.useRef)(),m=(0,t.useRef)(),y=(0,t.useRef)();function g(){f(""),i((function(e){return!e}))}var k=function(){var e=re(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),y.current.value){e.next=3;break}return e.abrupt("return",f("Please enter email"));case 3:return f(""),u(!0),e.prev=5,e.next=8,hb(y.current.value);case 8:p("Reset mail sent! Follow the link and reset your password. You'll be shortly redirected back to home."),setTimeout((function(){f(""),p(""),i(!1)}),4e3),e.next=19;break;case 12:if(e.prev=12,e.t0=e.catch(5),"auth/invalid-email"!==e.t0.code){e.next=16;break}return e.abrupt("return",f("Account doesn't exist! You'll be shortly redirected back to sign in."));case 16:if("auth/user-not-found"!==e.t0.code){e.next=18;break}return e.abrupt("return",f("Account doesn't exist! You'll be shortly redirected back to sign in"));case 18:f(e.t0);case 19:u(!1);case 20:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t){return e.apply(this,arguments)}}(),b=function(){var t=re(te().mark((function t(n){return te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),v.current.value){t.next=3;break}return t.abrupt("return",f("Please enter email"));case 3:return f(""),u(!0),t.prev=5,t.next=8,fb(v.current.value,m.current.value);case 8:p("Success! You are now logged in and being redirected to Home!"),setTimeout((function(){e("/")}),1e3),t.next=25;break;case 12:if(t.prev=12,t.t0=t.catch(5),u(!1),"auth/wrong-password"!==t.t0.code){t.next=17;break}return t.abrupt("return",f("Wrong password! Try again."));case 17:if("auth/user-not-found"!==t.t0.code){t.next=19;break}return t.abrupt("return",f("Account doesn't exist! Please sign up."));case 19:if("auth/invalid-email"!==t.t0.code){t.next=21;break}return t.abrupt("return",f("Invalid mail! Try with another mail adress"));case 21:if("auth/internal-error"!==t.t0.code){t.next=23;break}return t.abrupt("return",f("Something went wrong, please try again"));case 23:v.current.value="",m.current.value="";case 25:u(!1);case 26:case"end":return t.stop()}}),t,null,[[5,12]])})));return function(e){return t.apply(this,arguments)}}();return(0,yb.jsxs)("div",{children:[(0,yb.jsx)(Ob,{}),(0,yb.jsx)("div",{className:"loginFormContainer",children:(0,yb.jsx)("form",{className:"loginForm",children:r?(0,yb.jsxs)(yb.Fragment,{children:[(0,yb.jsx)("h1",{children:"Reset Password"}),(0,yb.jsxs)("div",{className:"output",children:[l&&(0,yb.jsx)("div",{className:"error",children:l}),d&&(0,yb.jsx)("div",{className:"success",children:d})]}),(0,yb.jsx)("input",{type:"email",placeholder:"Email",ref:y}),(0,yb.jsx)("p",{className:"resetBack",onClick:g,children:(0,yb.jsx)("b",{children:"\u2190 Back"})}),(0,yb.jsx)("button",{disabled:s,onClick:k,children:(0,yb.jsx)("h2",{children:"Reset Password"})})]}):(0,yb.jsxs)(yb.Fragment,{children:[(0,yb.jsx)("h1",{children:"Sign in"}),(0,yb.jsxs)("div",{className:"output",children:[l&&(0,yb.jsx)("div",{className:"error",children:l}),d&&(0,yb.jsx)("div",{className:"success",children:d})]}),(0,yb.jsx)("input",{type:"email",placeholder:"Email",ref:v}),(0,yb.jsx)("input",{type:"password",placeholder:"Password",ref:m}),(0,yb.jsx)("p",{className:"reset",onClick:g,children:(0,yb.jsx)("b",{children:"Reset Password?"})}),(0,yb.jsx)("button",{disabled:s,onClick:b,children:(0,yb.jsx)("h2",{children:"Login"})}),(0,yb.jsxs)("p",{className:"not-a-member",children:["Not a Member? ",(0,yb.jsx)("br",{}),(0,yb.jsx)("a",{href:"/signup",children:"Sign Up!"})]})]})})}),(0,yb.jsx)(Bb,{})]})}function Jb(e){var n=e.prod,r=(0,t.useContext)(Qb),i=r.cartState,a=r.setCartState,o=pb(),s=kb(),u=function(){var e=re(te().mark((function e(t){var n,r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o){e.next=4;break}return n=Ed(ob,"users","".concat(null===o||void 0===o?void 0:o.id)),e.next=4,Tp(n,{wishList:Lp(t)});case 4:if(!s){e.next=8;break}return r=Ed(ob,"artists","".concat(null===s||void 0===s?void 0:s.id)),e.next=8,Tp(r,{wishList:Lp(t)});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=function(e,t){!function(e){return-1!==i.findIndex((function(t){return e===t.id}))}(t.id)?(e.preventDefault(),a([].concat($(i),[{prod:t,id:null===t||void 0===t?void 0:t.id,cartAmount:1}])),l(t)):u(t)},l=function(e){var t=JSON.parse(localStorage.getItem("cart"));t.push({prod:e,id:null===e||void 0===e?void 0:e.id,cartAmount:1}),localStorage.setItem("cart",JSON.stringify(t)),u(e)};return(0,yb.jsx)("div",{children:(0,yb.jsx)("div",{className:"product",children:(0,yb.jsxs)("div",{className:"productImage",children:[(0,yb.jsx)("img",{src:n.imageUrl,alt:"bild"}),(0,yb.jsxs)("div",{className:"productInfo",children:[(0,yb.jsxs)("h2",{children:["Product: ",n.title]}),(0,yb.jsx)("p",{id:"prodNr",children:"Prod nr: 428539"}),(0,yb.jsxs)("h2",{id:"artistInfo",children:["Artist: ",n.by]})]}),(0,yb.jsx)("h2",{className:"productColor",children:"Color: Black"}),(0,yb.jsx)("div",{className:"productPrice",children:(0,yb.jsxs)("h2",{children:[n.price," USD"]})}),(0,yb.jsxs)("div",{className:"adddelButton",children:[(0,yb.jsxs)("button",{id:"addButton",onClick:function(e){return c(e,n)},children:["Add",(0,yb.jsx)("i",{className:"fa-solid fa-cart-shopping  addCartIconWishlist"})]}),(0,yb.jsx)("button",{onClick:function(){return u(n)},id:"delButton",children:"Delete"})]})]})})})}function Zb(){var e=L(),n=pb(),r=kb(),i=o((0,t.useState)(null),2),a=i[0],s=i[1],u=o((0,t.useState)([]),2),c=u[0],l=u[1],f=o((0,t.useState)(!1),2),h=f[0],d=f[1];return(0,t.useEffect)((function(){return r?s(r):n?s(n):(setTimeout((function(){d(!0)}),2e3),void(r||n||!h||setTimeout((function(){e("/signin")}),1e3)))}),[n,r,h,e]),(0,t.useEffect)((function(){null!==a&&l(null===a||void 0===a?void 0:a.wishList)}),[a]),(0,yb.jsxs)(yb.Fragment,{children:[(0,yb.jsx)(Ob,{}),r||n?(0,yb.jsxs)("div",{className:"wishlistHeader",children:[(0,yb.jsx)("h1",{children:"Wishlist"}),(0,yb.jsx)("div",{}),(0,yb.jsx)("div",{className:"wishlistWrapper",children:(0,yb.jsx)("div",{className:"wishlistContainer",children:(null===c||void 0===c?void 0:c.length)>0?c.map((function(e){return(0,yb.jsx)(Jb,{prod:e},e.id)})):(0,yb.jsx)("div",{className:"empty-wishlist",children:(0,yb.jsx)("h2",{children:"Wishlist is empty..."})})})})]}):(0,yb.jsxs)("div",{className:"wishlist-no-user",children:[(0,yb.jsx)("h1",{children:"Please sign in to use Wishlist!"}),(0,yb.jsx)("h2",{children:"You are being redirected"})]}),(0,yb.jsx)(Bb,{})]})}function $b(){var e=vb();return(0,yb.jsxs)("div",{children:[(0,yb.jsx)(Ob,{}),(0,yb.jsxs)("div",{className:"categoryContainer",children:[(0,yb.jsx)("div",{className:"Title container",children:(0,yb.jsx)("h1",{className:"categoryTitle",children:"Category"})}),(0,yb.jsx)("div",{className:"categoryView",children:e.map((function(e){return(0,yb.jsx)("div",{className:"categoryItem",children:(0,yb.jsxs)(Q,{to:e.handle,children:[(0,yb.jsx)("img",{src:e.imageUrl,alt:"category_picture"}),(0,yb.jsx)("h2",{children:e.name})]})},e.id)}))})]}),(0,yb.jsx)(Bb,{})]})}var ew,tw={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},nw=new Uint8Array(16);function rw(){if(!ew&&!(ew="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ew(nw)}for(var iw=[],aw=0;aw<256;++aw)iw.push((aw+256).toString(16).slice(1));function ow(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(iw[e[t+0]]+iw[e[t+1]]+iw[e[t+2]]+iw[e[t+3]]+"-"+iw[e[t+4]]+iw[e[t+5]]+"-"+iw[e[t+6]]+iw[e[t+7]]+"-"+iw[e[t+8]]+iw[e[t+9]]+"-"+iw[e[t+10]]+iw[e[t+11]]+iw[e[t+12]]+iw[e[t+13]]+iw[e[t+14]]+iw[e[t+15]]).toLowerCase()}var sw=function(e,t,n){if(tw.randomUUID&&!t&&!e)return tw.randomUUID();var r=(e=e||{}).random||(e.rng||rw)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return ow(r)},uw=n.p+"static/media/success.a7106fd26dcc01d2f79e.png",cw=function(e){var n=e.upload,r=e.artist,i=e.setUploadReady,a=vb(),s=o((0,t.useState)(null),2),u=s[0],c=s[1],l=o((0,t.useState)(""),2),f=l[0],h=l[1],d=o((0,t.useState)(""),2),p=d[0],v=d[1],m=o((0,t.useState)(0),2),y=m[0],g=m[1],k=o((0,t.useState)(0),2),b=k[0],w=k[1],x=o((0,t.useState)(null),2),_=x[0],S=x[1],E=o((0,t.useState)(!1),2),I=E[0],C=E[1],T=["image/png","image/jpeg","image/svg+xml","image/gif"];(0,t.useEffect)((function(){u&&f&&p&&y&&b&&i(!0)}),[u,f,p,y,b,i]);var N=function(){S(null),u||S("Please select a file"),b||S("Please select a category"),y||S("Please enter a price"),p||S("Please give a description"),f||S("Please fill in a title"),eb(nb(sb,"products/".concat(sw()+"-"+u.name)),u).then((function(e){tb(e.ref).then((function(e){!function(e){Ap(Sd(ob,"products"),{title:f,description:p,imageUrl:e,price:y,by:r,categoryHandle:b,status:"pending",createdAt:Op()}).then((function(e){C(!0)})).catch((function(e){return console.log(e.code)}))}(e)}))}))};return(0,t.useEffect)((function(){n&&N()}),[n]),(0,yb.jsx)(yb.Fragment,{children:I?(0,yb.jsxs)("div",{className:"success-container",children:[(0,yb.jsx)("h2",{children:"Image uploaded"}),(0,yb.jsx)("img",{className:"success-img",src:uw,alt:"Success"})]}):(0,yb.jsxs)("form",{className:"upload-form",children:[(0,yb.jsxs)("label",{className:"title",children:[(0,yb.jsx)("span",{children:"Title"}),(0,yb.jsx)("input",{type:"text",onChange:function(e){return h(e.target.value)}})]}),(0,yb.jsxs)("label",{className:"description",children:[(0,yb.jsx)("span",{children:"Description"}),(0,yb.jsx)("textarea",{onChange:function(e){return v(e.target.value)}})]}),(0,yb.jsxs)("label",{className:"price",children:[(0,yb.jsx)("span",{children:"Price"}),(0,yb.jsx)("input",{type:"number",onChange:function(e){return g(e.target.value)}})]}),(0,yb.jsxs)("select",{name:"category-select",className:"categorySelect",onChange:function(e){return w(e.target.value)},children:[(0,yb.jsx)("option",{value:"",children:"--Select Category--"}),a.map((function(e){return(0,yb.jsx)("option",{value:e.handle,children:e.name},e.id)}))]}),(0,yb.jsxs)("label",{className:"upload-btn",children:[(0,yb.jsx)("span",{children:"+"}),(0,yb.jsx)("input",{type:"file",onChange:function(e){var t=e.target.files[0];t&&T.includes(t.type)?(c(t),S("")):(c(null),S("Please select an image file (png or jpg)"))}})]}),(0,yb.jsxs)("div",{className:"output",children:[_&&(0,yb.jsx)("div",{className:"error",children:_}),!_&&u&&(0,yb.jsx)("div",{children:u.name})]})]})})};function lw(){var e=pb(),n=kb(),r=o((0,t.useState)(!1),2),i=r[0],a=r[1],s=o((0,t.useState)(!1),2),u=s[0],c=s[1],l=o((0,t.useState)(!0),2),f=l[0],h=l[1],d=o((0,t.useState)(""),2),p=d[0],v=d[1],m=o((0,t.useState)(!1),2),y=m[0],g=m[1],k=(0,t.useRef)(),b=(0,t.useRef)(),w=(0,t.useRef)(),x=(0,t.useRef)(),_=(0,t.useRef)(),S=(0,t.useRef)(),E=o((0,t.useState)(""),2),I=E[0],C=E[1],T=o((0,t.useState)(!1),2),N=T[0],A=T[1],j=o((0,t.useState)(!1),2),R=j[0],D=j[1],O=function(){var e=function(e){return String(e).length<2&&(e="0"+e),e},t=new Date,n=t.getFullYear(),r=t.getMonth(),i=t.getDate();return n+"-"+e(r)+"-"+e(i)}();function P(){return(P=re(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==k.current.value){e.next=2;break}return e.abrupt("return",v("Please fill in all fields"));case 2:if(""!==b.current.value){e.next=4;break}return e.abrupt("return",v("Please fill in all fields"));case 4:if(""!==w.current.value){e.next=6;break}return e.abrupt("return",v("Please fill in all fields"));case 6:if(""!==x.current.value){e.next=8;break}return e.abrupt("return",v("Please fill in all fields"));case 8:return a(!0),e.prev=9,e.next=12,ub(w.current.value,x.current.value).then((function(e){Cp(Ed(ob,"users",e.user.uid),{firstName:k.current.value,lastName:b.current.value,eMail:w.current.value,createdAt:O,timestamp:Op(),wishList:[],cart:[]}),cb()}));case 12:e.next=19;break;case 14:if(e.prev=14,e.t0=e.catch(9),"auth/email-already-in-use"!==e.t0.code){e.next=18;break}return e.abrupt("return",v("Email is already in use! Try another one."));case 18:v(e.t0);case 19:a(!1),g(!0),lb();case 22:case"end":return e.stop()}}),e,null,[[9,14]])})))).apply(this,arguments)}function L(){return(L=re(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(R){e.next=2;break}return e.abrupt("return",v("Please fill in all fields"));case 2:if(""!==k.current.value){e.next=4;break}return e.abrupt("return",v("Please fill in all fields"));case 4:if(""!==b.current.value){e.next=6;break}return e.abrupt("return",v("Please fill in all fields"));case 6:if(""!==_.current.value){e.next=8;break}return e.abrupt("return",v("Please fill in all fields"));case 8:if(""!==w.current.value){e.next=10;break}return e.abrupt("return",v("Please fill in all fields"));case 10:if(""!==x.current.value){e.next=12;break}return e.abrupt("return",v("Please fill in all fields"));case 12:if(""!==S.current.value){e.next=14;break}return e.abrupt("return",v("Please fill in all fields"));case 14:return a(!0),e.prev=15,e.next=18,ub(w.current.value,x.current.value).then((function(e){Cp(Ed(ob,"artists",e.user.uid),{firstName:k.current.value,lastName:b.current.value,artistName:_.current.value.trim(),eMail:w.current.value,bio:S.current.value,profilePic:z,status:"pending",wishList:[],cart:[],itemsSold:[],admin:!1,createdAt:O,timestamp:Op()}),cb(),A(!0)}));case 18:e.next=25;break;case 20:if(e.prev=20,e.t0=e.catch(15),"auth/email-already-in-use"!==e.t0.code){e.next=24;break}return e.abrupt("return",v("Email is already in use! Try another one."));case 24:v(e.t0);case 25:a(!1),setTimeout((function(){g(!0)}),4e3),setTimeout((function(){lb()}),4e3);case 28:case"end":return e.stop()}}),e,null,[[15,20]])})))).apply(this,arguments)}var M=["image/png","image/jpeg"],U=o((0,t.useState)(),2),F=U[0],V=U[1],B=o((0,t.useState)("https://firebasestorage.googleapis.com/v0/b/artzyprod-ef753.appspot.com/o/profiles%2FNoPictureProfile.svg?alt=media&token=3f9277ae-8418-4202-9d54-8bdd1c0db486"),2),z=B[0],q=B[1],H=function(){var e=re(te().mark((function e(t){var n,r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=t.target.files[0])||!M.includes(n.type)){e.next=9;break}return v(""),V(n),r=nb(sb,"profiles/".concat(sw()+"-"+n.name)),e.next=7,eb(r,n).then((function(e){tb(e.ref).then((function(e){q(e)}))}));case 7:e.next=11;break;case 9:V(null),v("Please select an image file (png or jpg)");case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,yb.jsxs)(yb.Fragment,{children:[(0,yb.jsx)(Ob,{}),y?(0,yb.jsxs)("div",{children:[(0,yb.jsx)("div",{className:"logoWrapperWelcome",children:(0,yb.jsxs)(Q,{to:"/",children:[(0,yb.jsxs)("h1",{id:"logoWelcome",children:["ART",(0,yb.jsx)("span",{id:"logoWelcomeTwo",children:"ZY"})]}),(0,yb.jsx)("img",{id:"logoWelcome--svg",src:Z,alt:"ARTZY Logo"})]})}),(0,yb.jsx)("br",{}),(0,yb.jsx)("br",{}),(0,yb.jsx)("div",{className:"welcomeDiv",children:(0,yb.jsxs)("div",{className:"welcomeContent",children:[(0,yb.jsxs)("h1",{children:["Thanks for your registration ",(0,yb.jsxs)("b",{children:[(null===e||void 0===e?void 0:e.firstName)||(null===n||void 0===n?void 0:n.firstName)," ",(null===e||void 0===e?void 0:e.lastName)||(null===n||void 0===n?void 0:n.lastName),"!"]})]}),(0,yb.jsxs)("p",{children:["A verification link is sent to your e-mail:\xa0",(0,yb.jsxs)("b",{children:[(null===e||void 0===e?void 0:e.eMail)||(null===n||void 0===n?void 0:n.eMail),"!"]})]}),(0,yb.jsx)("p",{children:"Please click on the link in your mail to get verified."}),(0,yb.jsx)("p",{children:(0,yb.jsx)(Q,{id:"link",to:"/signin",children:(0,yb.jsx)("b",{children:"Sign in"})})})]})})]}):(0,yb.jsxs)("div",{className:"signupForm",children:[(0,yb.jsx)("h1",{style:{display:f?"block":"none"},children:"Register"}),(0,yb.jsx)("h1",{style:{display:u?"block":"none"},children:"Artist Application"}),(0,yb.jsxs)("div",{className:"checkboxDiv",children:[(0,yb.jsx)("input",{type:"checkbox",id:"checkbox",onClick:function(){c((function(e){return!e})),h((function(e){return!e}))}}),(0,yb.jsx)("p",{id:"checkboxParagraph",children:"Artist application? Check this box to apply"})]}),(0,yb.jsx)("input",{type:"text",ref:k,placeholder:"First Name",required:!0}),(0,yb.jsx)("input",{type:"text",ref:b,placeholder:"Last Name",required:!0}),(0,yb.jsx)("input",{type:"text",ref:_,onChange:function(e){return C(e.target.value.trim())},style:{display:u?"block":"none"},placeholder:"Artist Name",required:!0}),(0,yb.jsx)("input",{type:"email",ref:w,placeholder:"Email",required:!0}),(0,yb.jsx)("input",{type:"password",ref:x,placeholder:"Password (8 Digits)",minLength:"8",required:!0}),p&&!u&&(0,yb.jsx)("p",{className:"errorSignup",children:p}),(0,yb.jsx)("button",{disabled:i,style:{display:f?"block":"none"},onClick:function(){return P.apply(this,arguments)},children:(0,yb.jsx)("h2",{children:"Create"})}),(0,yb.jsxs)("div",{style:{display:u?"block":"none"},className:"applicationDiv",children:[(0,yb.jsx)("p",{className:"tell-us-more",style:{display:u?"block":"none"},children:"Let us know more about you, please upload 3 pictures of your work and tell us about yourself"}),(0,yb.jsxs)("div",{className:"fileUploads",children:[(0,yb.jsx)(cw,{upload:N,artist:I,setUploadReady:D}),(0,yb.jsx)(cw,{upload:N,artist:I,setUploadReady:D}),(0,yb.jsx)(cw,{upload:N,artist:I,setUploadReady:D})]}),(0,yb.jsxs)("div",{className:"uploadForm",children:[(0,yb.jsx)("textarea",{ref:S,cols:"80",rows:"15",placeholder:"About you and your work"}),(0,yb.jsxs)("div",{className:"upload-profile-pic",children:[(0,yb.jsx)("h2",{children:"Upload a profile picture!"}),(0,yb.jsxs)("label",{className:"upload-btn",children:[(0,yb.jsx)("span",{children:"+"}),(0,yb.jsx)("input",{type:"file",onChange:H})]})]}),!p&&F&&(0,yb.jsx)("div",{children:F.name}),p&&(0,yb.jsx)("p",{className:"errorSignup",children:p}),(0,yb.jsx)("button",{disabled:i,onClick:function(){!function(){L.apply(this,arguments)}()},children:(0,yb.jsx)("h2",{children:"Register"})})]})]})]}),(0,yb.jsx)(Bb,{})]})}function fw(e){var n=e.prods,r=(0,t.useContext)(Qb),i=r.cartState,a=r.setCartState,s=pb(),u=kb(),c=o((0,t.useState)(!1),2),l=c[0],f=c[1],h=function(){var e=re(te().mark((function e(t){var n,r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s){e.next=7;break}return n=Ed(ob,"users","".concat(null===s||void 0===s?void 0:s.id)),e.next=4,Tp(n,{wishList:Pp(t)});case 4:f(!0),e.next=8;break;case 7:s||u||alert("please login to use Wishlist Function");case 8:if(!u){e.next=13;break}return r=Ed(ob,"artists","".concat(null===u||void 0===u?void 0:u.id)),e.next=12,Tp(r,{wishList:Pp(t)});case 12:f(!0);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=re(te().mark((function e(t){var n,r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s){e.next=5;break}return n=Ed(ob,"users","".concat(null===s||void 0===s?void 0:s.id)),e.next=4,Tp(n,{wishList:Lp(t)});case 4:f(!1);case 5:if(!u){e.next=10;break}return r=Ed(ob,"artists","".concat(null===u||void 0===u?void 0:u.id)),e.next=9,Tp(r,{wishList:Lp(t)});case 9:f(!1);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();(0,t.useEffect)((function(){if(s){!function(){var e,t=null===s||void 0===s||null===(e=s.wishList)||void 0===e?void 0:e.some((function(e){return e.id===n.id}));t&&f(!0)}()}if(u){!function(){var e,t=null===u||void 0===u||null===(e=u.wishList)||void 0===e?void 0:e.some((function(e){return e.id===n.id}));t&&f(!0)}()}}),[s,n.id,u]);var p=function(e,t){a([].concat($(i),[{prod:t,id:null===t||void 0===t?void 0:t.id,cartAmount:1}])),v(t)},v=function(e){var t=JSON.parse(localStorage.getItem("cart"));t.push({prod:e,id:null===e||void 0===e?void 0:e.id,cartAmount:1}),localStorage.setItem("cart",JSON.stringify(t))},m=function(e){return function(e){return-1!==i.findIndex((function(t){return e===t.id}))}(e.id)?(0,yb.jsx)("button",{className:"addToCart",disabled:!0,onClick:function(e){return p(0,n)},children:"Add"}):(0,yb.jsx)("button",{className:"addToCart",onClick:function(e){return p(0,n)},children:"Add"})};return(0,yb.jsxs)("div",{className:"productSingleItemContainer",children:[(0,yb.jsx)("h2",{className:"cardTitle",children:n.title}),(0,yb.jsxs)("div",{className:"card-sub-container",children:[(0,yb.jsxs)("h3",{className:"cardSubTitle",children:["by ",n.by]}),(0,yb.jsx)("h3",{className:"cardSubTitle",children:(0,yb.jsx)(Q,{to:"/category/"+n.categoryHandle,children:(null===n||void 0===n?void 0:n.categoryHandle[0].toUpperCase())+(null===n||void 0===n?void 0:n.categoryHandle.substring(1))})}),(0,yb.jsx)(Q,{className:"linkId",to:"/product/"+n.id,children:(0,yb.jsx)("div",{className:"imageContainer",children:(0,yb.jsx)("img",{src:n.imageUrl,alt:"bild"})})}),(0,yb.jsxs)("div",{className:"priceContainer",children:[l?(0,yb.jsx)("i",{id:"heart",onClick:function(){return d(n)},className:"fa-solid fa-heart imagefavoriteIcon"}):(0,yb.jsx)("i",{onClick:function(){return h(n)},id:"heart",className:"fa-regular fa-heart imagefavoriteIcon"}),(0,yb.jsxs)("h2",{className:"priceText",children:[n.price,"$"]}),(0,yb.jsx)("i",{className:"fa-solid fa-cart-shopping  addCartIcon"}),(0,yb.jsx)(m,{id:n.id})]})]})]},n.id)}function hw(e){var t=e.prods;return(0,yb.jsx)("div",{className:"productsContainer",children:(0,yb.jsx)("div",{className:"productCardContainer",children:t.length>0?t.map((function(e){return(0,yb.jsx)(fw,{prods:e},e.id)})):(0,yb.jsx)("h2",{children:"Ohh noo, No products in here ("})})})}var dw=function(e){var n=o((0,t.useState)([]),2),r=n[0],i=n[1];return(0,t.useEffect)((function(){return jp(mp(Sd(ob,"categories"),gp("handle","==",e)),(function(e){i(e.docs.map((function(e){return J(J({},e.data()),{},{id:e.id})})))}))}),[e]),r};function pw(){var e,t=M().id,n=mb(t),r=dw(t);return(0,yb.jsxs)("div",{children:[(0,yb.jsx)(Ob,{}),(0,yb.jsxs)("div",{className:"categoryContainer",children:[(0,yb.jsxs)("div",{className:"Title container",children:[(0,yb.jsx)(Q,{to:"/category",children:(0,yb.jsxs)("h1",{className:"categoryTitle",children:[(0,yb.jsx)("i",{className:"fa-solid fa-arrow-left arrow-back"}),"Categories"]})}),(0,yb.jsxs)("h2",{children:["Browsing by ",null===(e=r[0])||void 0===e?void 0:e.name]})]}),(0,yb.jsx)("div",{className:"categoryView",children:(0,yb.jsx)(hw,{prods:n})}),(0,yb.jsx)(Bb,{})]})]})}function vw(){return(0,yb.jsxs)(yb.Fragment,{children:[(0,yb.jsx)(Ob,{}),(0,yb.jsxs)("div",{className:"pageError",children:[(0,yb.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAYAAAA5ZDbSAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAc+SURBVHgB7Z1JjFVFFIZ/kEkUxRkFm8EJCEYBUTEaYpzibBRdmIiYuDAujEYSd4aVQzRxQdy4YMHCnQuJY2KCaIKaaASNoFEgDIooikw20EJ7/px6gW76NfcN97x7qs+X/IHufu/duvW/qltV99xTQBAEQRAEQRAEQRAEQRAEQcc5Bb6ZIbpGNEK0C+1lumiuaFQJn22GZ4Nnie4T3Qs1Y53okOgIWoOGnid6TnSz6EzRXtFOOGQEfNIFNfZB0WxRt2it6FPRdtFhNMdI0UWiBaLForGiqen3+0SbEJjwgmijqPc47RY9IboQzXOB6DFol3z8Z28RvYKgdKaIlqJv5fc3+TVoq2uUi0Uvi/4a5PNp8jQ4wtM1mF3xo6JFovF1XsNLDlvh+aINon9QjEmiJaJ7RBNQv154aWB3vUf0GxzgxWCa+4DofuiAqh7DReNE54hOE30r6hEdrfN6msUvyzPQazpb56hBPp8DrrPS//nl+R1BW1go+gA6Qu4tIA6y/kzvY+scaDDJ33FA9VB67eGCn80yfCh6GA4YDh+sF20WHSz4erbMc0VviK6Dtur+sIXPE72eXjsSxeAXYavoJwRthde/p0X7Uayl1cSulKPgTem9+9P/t6S/NfJZ+1MZuhC0ndGiy6EV/C+Kd9e8Bncn/ZdU+7mn4GccTa/ntfqKVBYXeBpF01C2II5eOdDhSJld77CTvI+XoRFJwwf4+WTQ3B2ilaK3RL9CV8xc4G2pkibXpigcIHG0XMTkZmHr5Uj5c9Ey0Q/QHiAwgDcZlkNbU29J4oBqhWg+go6wAGpyWQYvT8dwi5dp0kBwmnOV6EaUx03QRZZxcIpngzmHvRa6kFEWk9Jx5sIpXg3mcuJt0Io/FeUxRjRHdCsGX8IM2gxvCa5C8XlsK+pJx5oAh3htwVwHrrfG3G54jInQdW13eDWYUyTLgc+4dEx3eDWYy4VjYcfYdEx3eDWYXabloGd0OqY7vBrMtWjLgEEe62w4xJPBLCvDWe+Atl7LsvNYbMW3Q+8du6m3shbp2wlviNwAjVHmwgaD465Mf7MsP6dM34u2ib6ChuiuQetx2KVS5btJ7BYZL8UgO8Zj3QJdNqTBw2D/5eTxGNA3MYl3s9ijMHiAd5iOIigMu+DJokegoTEHUP6CRqNimX6Ezsm7ECtdDcGVqsWiP1A9Y/uLZXwcTle6OgG7v5cweAB61cTYrlehl49KUbVrMEeoz0NjlHmN8zJa5XiB0SWMm/4GxaM/S6dKBtPMJ6FxypfB1zWtFnBPg9miv0bQBy4FzhR9h8bDYqsklp1TKeul1LpUpQXzYbFnRXfB92iUZWe0J2O5OMLejQ7T6lyyF4EFTfvkOWQnKEAYnDlhcOaEwZkTBmdOGJw5YXDmhMGZEwZnTqsGD2tQTIO0BnYULZcV70PTLzZab01j2YL5DNEUOI0vbhN8GpKpmszuAVgaPDVpPIYujOFiHZgFBlgazG/vFPhPYdwKDL2lwTNhhKXBV6O5HJK5wTqYDSOsDGaSMZ7UZASXQOO7TQZ3VgbzW8uQFq/5qdsJHyrnozetpD0ujJXBjLFiTg3LKUlVqcVvXQoDrAxmhrpKxChVBNbFdBhgZTDnvmXm0vBGLciwdHKPySp6frmcxwnEWnTmhMGZEwZnThicOWFw5oTBmRMGZ04YnDlhcOZYxWR9huLbzA0FWBerkVFMFje2aHbL1xxhXeyAAVYG82TC4GNkZ3C04L5wp5howRnDujDZudTKYG4odQBBDW7Ntx4GWBn8C3Tk2IOAdcC62AgDrAzeC92Obg8C1gH3P9wLA6wMZibWzdCNmIc6zG3JujDJTmu5ksWT2omgZrAJEZOlRExW4JMwOHPC4MwJgzMnDM6cMDhzwuDMCYMzJwzOHOs8Wf3Fja8+Rr58BN04q9V6appOp1RYDU0pRJllnjGCezZ8Aj3HjtFpg7nwzgrgRhbcJymXHFq837sSem5D/g4an/zn7qKsEN4M5220dm1zU5R2HY9lZzjOu6L50IQrATSlwQzodnY02avBNHcXNP9G5CQZALZkBsl3w5/BLDO75PkI6nKG6E7RCtHf8GMww3DeFt2dzqEyVC0xGeOUvoBO3xh5yJ3QKrejZz+2QqdD70HLbhJr5R0mTWO6vzeh4S00u2otuDuVbZloXipz0ACc4LOHWQoNuz2C6hh8JJXpRWj23FZDn4Y87KafEq1C5w3m1rFL4CRzrpdvHvMscwNmVuoc0ULRLOjCyGDLre0IuuPclruIctvYd6Bb4G6GLmBUZiPoenjrWrhwwFWv66FzTSY5pencFr4LJ67dNmswu+Btou1QM3+GLj1+CV19OwQneL52cLdt5sBkovGZ6d/ToYOdMUlFU/by4biDSXyGap9oLfT5oXVQc12OjnMaHNBwroaxVTPp9jTRooLv5bx7E/R5IbbWDYjHbIIgCIIgCIIgCIIgCILAkP8BH6UgfthaQZUAAAAASUVORK5CYII=",alt:"page-not-found"}),(0,yb.jsx)("h1",{children:"404"}),(0,yb.jsx)("h1",{children:"Error 404 Page not Found"}),(0,yb.jsx)(Q,{to:"/",children:(0,yb.jsxs)("h1",{children:[(0,yb.jsx)("span",{style:{color:"#202020"},children:"Return"})," ",(0,yb.jsx)("span",{style:{color:"#c2872d"},children:"Home"})]})})]}),(0,yb.jsx)(Bb,{})]})}var mw=n.p+"static/media/banner.79a393cd76f0a61c6adc.png",yw=function(){var e=kb(),n=o((0,t.useState)(""),2),r=n[0],i=n[1],a=o((0,t.useState)(null),2),s=a[0],u=a[1];(0,t.useEffect)((function(){e&&u(e.profilePic)}),[e]);var c=["image/png","image/jpeg"];return(0,yb.jsx)(yb.Fragment,{children:s&&(0,yb.jsxs)("div",{className:"profile-pic",children:[(0,yb.jsx)("img",{alt:"Not Found",width:"250px",src:s}),(0,yb.jsxs)("label",{children:[(0,yb.jsx)("i",{className:"fa-solid fa-pencil-alt"}),(0,yb.jsx)("input",{type:"file",name:"myImage",onChange:function(t){var n=t.target.files[0];if(n&&c.includes(n.type)){i("");var r=nb(sb,"profiles/".concat(sw()+"-"+n.name)),a=Ed(ob,"artists",e.id);eb(r,n).then((function(e){tb(e.ref).then((function(e){e&&Tp(a,{profilePic:e})}))}))}else i("Please upload an image file")}})]}),r&&(0,yb.jsx)("div",{className:"profile-pic-error",children:r})]})})};function gw(e){var t=e.artist;return(0,yb.jsxs)(yb.Fragment,{children:[(0,yb.jsx)("div",{className:"bannerContainer",children:(0,yb.jsx)("img",{src:mw,alt:"banner-bild"})}),(0,yb.jsxs)("div",{className:"profileContainer",children:[(0,yb.jsx)(yw,{}),(0,yb.jsxs)("div",{className:"profileDetails",children:[(0,yb.jsx)("h1",{children:null===t||void 0===t?void 0:t.artistName}),(0,yb.jsxs)("ul",{children:[(0,yb.jsx)("li",{children:(0,yb.jsx)(Q,{to:"/profile",children:"Your Bio"})}),(0,yb.jsx)("li",{children:(0,yb.jsx)(Q,{to:"/profile/products",children:"Your Products"})}),(0,yb.jsx)("li",{children:(0,yb.jsx)(Q,{to:"/profile/upload",children:"Upload Product"})}),(0,yb.jsx)("li",{children:(0,yb.jsx)(Q,{to:"/profile/settings",children:"Your Settings"})})]})]})]})]})}function kw(){var e=kb(),n=o((0,t.useState)(!1),2),r=n[0],i=n[1],a=o((0,t.useState)(),2),s=a[0],u=a[1],c=function(){var t=re(te().mark((function t(){var n;return te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Ed(ob,"artists",null===e||void 0===e?void 0:e.id),t.next=3,Tp(n,{bio:s});case 3:i(!1);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,yb.jsxs)("div",{className:"artistProfileContainer",children:[(0,yb.jsx)(Ob,{}),(0,yb.jsx)(gw,{artist:e}),(0,yb.jsx)("div",{className:"profileInfoWrapper",children:(0,yb.jsxs)("div",{className:"profileInfo",children:[(0,yb.jsxs)("h1",{children:[null===e||void 0===e?void 0:e.firstName," ",null===e||void 0===e?void 0:e.lastName]}),(0,yb.jsxs)("div",{className:"profileInfoBio",children:[(0,yb.jsx)("img",{src:null===e||void 0===e?void 0:e.profilePic,alt:"profile_pic"}),(0,yb.jsxs)("div",{className:"artistInfo",children:[(0,yb.jsx)("h1",{children:"Biography"}),(0,yb.jsx)("i",{onClick:function(){return i(!r)},className:"fa-solid fa-pencil-alt edit-icon"}),r?(0,yb.jsxs)(yb.Fragment,{children:[(0,yb.jsx)("textarea",{className:"edit-bio",onChange:function(e){return u(e.target.value)},children:null===e||void 0===e?void 0:e.bio}),(0,yb.jsxs)("div",{className:"action-btns",children:[(0,yb.jsx)("button",{onClick:function(){return i(!r)},children:"Discard"}),(0,yb.jsx)("button",{onClick:c,children:"Save Changes"})]})]}):(0,yb.jsx)("p",{children:null===e||void 0===e?void 0:e.bio})]})]})]})}),(0,yb.jsx)(Bb,{})]})}function bw(){var e=kb(),n=o((0,t.useState)(),2),r=n[0],i=n[1],a=o((0,t.useState)(),2),s=a[0],u=a[1];(0,t.useEffect)((function(){if(e)return jp(mp(Sd(ob,"products"),gp("by","==",null===e||void 0===e?void 0:e.artistName)),(function(e){i(e.docs.map((function(e){return J(J({},e.data()),{},{id:e.id})})))}))}),[e]);var c=function(){var e=re(te().mark((function e(t){var n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ed(ob,"products",t),e.next=3,Np(n).then((function(){u("Product deleted")}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,yb.jsxs)("div",{className:"artistProfileContainer",children:[(0,yb.jsx)(Ob,{}),(0,yb.jsx)(gw,{artist:e}),(0,yb.jsx)("div",{className:"products-container",children:null===r||void 0===r?void 0:r.map((function(e){return(0,yb.jsxs)("div",{className:"productSingleItemContainer2 productSingleItemContainer",children:[(0,yb.jsx)("h2",{className:"cardTitle",children:e.title}),(0,yb.jsx)("h3",{className:"cardSubTitle",children:(0,yb.jsx)(Q,{to:"/category/"+e.categoryHandle,children:e.categoryHandle})}),(0,yb.jsx)(Q,{className:"linkId",to:"/product/"+e.id,children:(0,yb.jsx)("div",{className:"imageContainer",children:(0,yb.jsx)("img",{src:e.imageUrl,alt:"bild"})})}),(0,yb.jsx)("div",{className:"priceContainer2",children:(0,yb.jsxs)("h2",{className:"priceText2",children:[e.price,"$"]})}),(0,yb.jsx)("div",{onClick:function(){return c(e.id)},className:"delete-product",children:(0,yb.jsx)("i",{className:"fa-solid fa-times"})})]},e.id)}))}),s&&(0,yb.jsx)("div",{className:"output",children:s}),(0,yb.jsx)(Bb,{})]})}function ww(e){var n=e.artist,r=vb(),i=o((0,t.useState)(null),2),a=i[0],s=i[1],u=o((0,t.useState)(""),2),c=u[0],l=u[1],f=o((0,t.useState)(""),2),h=f[0],d=f[1],p=o((0,t.useState)(0),2),v=p[0],m=p[1],y=o((0,t.useState)(0),2),g=y[0],k=y[1],b=o((0,t.useState)(null),2),w=b[0],x=b[1],_=o((0,t.useState)(!1),2),S=_[0],E=_[1],I=o((0,t.useState)(!1),2),C=(I[0],I[1]),T=["image/png","image/jpeg"];(0,t.useEffect)((function(){a&&c&&h&&g&&v&&C(!0)}),[a,c,h,g,v]);return(0,yb.jsxs)("div",{className:"uploadContainer",children:[(0,yb.jsx)("h1",{children:"Upload Your Product"}),S?(0,yb.jsxs)(yb.Fragment,{children:[(0,yb.jsxs)("div",{className:"success-container",children:[(0,yb.jsx)("h2",{children:"Image uploaded"}),(0,yb.jsx)("img",{className:"success-img",src:uw,alt:"Success"})]}),(0,yb.jsx)("div",{children:(0,yb.jsx)(Q,{to:"/profile/products",children:"Go to Products"})})]}):(0,yb.jsx)("form",{className:"formContainer",children:(0,yb.jsxs)("div",{className:"formData",children:[(0,yb.jsxs)("div",{className:"formTitle",children:[(0,yb.jsx)("input",{onChange:function(e){return l(e.target.value)},type:"text",name:"title",placeholder:"Title"}),(0,yb.jsx)("p",{children:"Please include keywords and colors"}),(0,yb.jsx)("div",{className:"formDescription",children:(0,yb.jsx)("textarea",{onChange:function(e){return d(e.target.value)},placeholder:"About your product..."})})]}),(0,yb.jsxs)("div",{className:"formImage",children:[(0,yb.jsx)("h2",{children:"Upload Image"}),(0,yb.jsx)("div",{className:"uploadedImages",children:(0,yb.jsxs)("label",{className:"upload-btn",children:[(0,yb.jsx)("span",{children:"+"}),(0,yb.jsx)("input",{type:"file",onChange:function(e){var t=e.target.files[0];t&&T.includes(t.type)?(s(t),x("")):(s(null),x("Please select an image file (png or jpg)"))}})]})}),!w&&a&&(0,yb.jsx)("div",{children:a.name})]}),(0,yb.jsxs)("div",{className:"formCatandPriceContainer",children:[(0,yb.jsx)("h2",{children:"Category and Prices"}),(0,yb.jsxs)("div",{className:"formCPDetails",children:[(0,yb.jsxs)("div",{className:"formCat",children:[(0,yb.jsx)("label",{htmlFor:"category",children:"Select Category"}),(0,yb.jsxs)("select",{onChange:function(e){return m(e.target.value)},name:"categories",children:[(0,yb.jsx)("option",{value:"",children:"--Category--"}),r.map((function(e){return(0,yb.jsx)("option",{value:e.handle,children:e.name},e.id)}))]})]}),(0,yb.jsxs)("div",{className:"formPrice",children:[(0,yb.jsx)("label",{htmlFor:"price",children:"Product Price"}),(0,yb.jsx)("input",{onChange:function(e){return k(e.target.value)},type:"number",htmlFor:"price",name:"price",placeholder:"Price"})]})]}),(0,yb.jsx)("div",{className:"output",children:w&&(0,yb.jsx)("div",{className:"error",children:w})})]}),(0,yb.jsx)("button",{onClick:function(e){e.preventDefault(),x(null),a||x("Please select a file"),v||x("Please select a category"),g||x("Please enter a price"),h||x("Please give a description"),c||x("Please fill in a title"),eb(nb(sb,"products/".concat(sw()+"-"+a.name)),a).then((function(e){tb(e.ref).then((function(e){!function(e){Ap(Sd(ob,"products"),{title:c,description:h,imageUrl:e,price:g,by:n.artistName,categoryHandle:v,status:"approved",createdAt:Op()}).then((function(){E(!0)})).catch((function(e){return console.log(e.code)}))}(e)}))}))},id:"uploadButton",children:"Upload"})]})})]})}function xw(){var e=kb();return(0,yb.jsxs)("div",{className:"artistProfileContainer",children:[(0,yb.jsx)(Ob,{}),(0,yb.jsx)(gw,{artist:e}),(0,yb.jsx)("div",{className:"profileInfoWrapper",children:(0,yb.jsx)(ww,{artist:e})}),(0,yb.jsx)(Bb,{})]})}function _w(){var e=kb();return(0,yb.jsxs)("div",{className:"artistProfileContainer",children:[(0,yb.jsx)(Ob,{}),(0,yb.jsx)(gw,{artist:e}),(0,yb.jsx)("div",{className:"profileInfoWrapper",children:(0,yb.jsx)("div",{children:(0,yb.jsxs)("h1",{children:["Status: ",null===e||void 0===e?void 0:e.status]})})}),(0,yb.jsx)(Bb,{})]})}function Sw(){return(0,yb.jsxs)("div",{children:[(0,yb.jsx)(Ob,{}),(0,yb.jsxs)("div",{className:"underConstructionAnchor",children:[(0,yb.jsx)("h1",{className:"underConstructionh1",children:"This page is under construction. Coming soon..."}),(0,yb.jsx)(Q,{to:"/",children:"Return Home"})]}),(0,yb.jsx)(Bb,{})]})}var Ew=function(e){var n=o((0,t.useState)([]),2),r=n[0],i=n[1];return(0,t.useEffect)((function(){return jp(mp(Sd(ob,"products"),gp("by","==",e)),(function(e){i(e.docs.map((function(e){return J(J({},e.data()),{},{id:e.id})})))}))}),[e]),r.filter((function(e){return"approved"===e.status}))},Iw=function(e){var n=o((0,t.useState)([]),2),r=n[0],i=n[1];return(0,t.useEffect)((function(){return jp(mp(Sd(ob,"artists"),gp("artistName","==",e)),(function(e){i(e.docs.map((function(e){return J(J({},e.data()),{},{id:e.id})})))}))}),[e]),r};function Cw(){var e=M().id,t=Iw(e)[0],n=Ew(e);return(0,yb.jsxs)("div",{children:[(0,yb.jsx)(Ob,{}),(0,yb.jsxs)("div",{className:"productPageContainer",children:[(0,yb.jsx)("div",{className:"profileInfoWrapper",children:(0,yb.jsxs)("div",{className:"profileInfo",children:[(0,yb.jsx)("h1",{children:null===t||void 0===t?void 0:t.artistName}),(0,yb.jsxs)("div",{className:"profileInfoBio",children:[(0,yb.jsx)("img",{src:null===t||void 0===t?void 0:t.profilePic,alt:"profile_pic"}),(0,yb.jsxs)("div",{className:"artistInfo",children:[(0,yb.jsx)("h1",{children:"Artist bio"}),(0,yb.jsx)("p",{children:null===t||void 0===t?void 0:t.bio})]})]})]})}),(0,yb.jsxs)("div",{className:"productWrapper",children:[(0,yb.jsxs)("h1",{children:["Artworks for Sale by ",null===t||void 0===t?void 0:t.artistName]}),(0,yb.jsx)("div",{className:"productContainer",children:null===n||void 0===n?void 0:n.map((function(e){return(0,yb.jsx)(fw,{prods:e},null===e||void 0===e?void 0:e.id)}))})]})]}),(0,yb.jsx)(Bb,{})]})}function Tw(){var e={categoryHandle:"for_him",description:"desc",imageUrl:"https://firebasestorage.googleapis.com/v0/b/artzy-f21d3.appspot.com/o/products%2Fbild.jpg?alt=media&token=69de473c-f7b4-4b98-b03b-7d1e95e48682",createdAt:{seconds:1663674782,nanoseconds:528e6},by:"username",price:"129",title:"asd",id:"7lvQ3dw4AYXxbZcjTRb7"};return(0,yb.jsxs)("div",{children:[(0,yb.jsx)(Ob,{}),(0,yb.jsxs)("div",{className:"searchContainer",children:[(0,yb.jsx)("h1",{children:"Search result here"}),(0,yb.jsx)("p",{children:'Search found 6 hits on "Rawand"'})]}),(0,yb.jsxs)("div",{className:"productWrapper",children:[(0,yb.jsx)("h1",{children:"Products (3)"}),(0,yb.jsx)(fw,{prods:e})]}),(0,yb.jsx)("div",{className:"articleCardResultContainer",children:(0,yb.jsxs)("div",{className:"articleCardResult",children:[(0,yb.jsx)("h1",{children:"test"}),(0,yb.jsx)("img",{src:e.imageUrl,alt:"profile_picture"})]})}),(0,yb.jsx)(Bb,{})]})}var Nw=function(e){var n=o((0,t.useState)([]),2),r=n[0],i=n[1];return(0,t.useEffect)((function(){return jp(Ed(ob,"products",e),(function(e){i(J(J({},e.data()),{},{id:e.id}))}))}),[e]),r};function Aw(){var e=(0,t.useContext)(Qb),n=e.cartState,r=e.setCartState,i=pb(),a=kb(),s=o((0,t.useState)(!1),2),u=s[0],c=s[1],l=M().id,f=Nw(l),h=o((0,t.useState)(1),2),d=h[0],p=h[1],v=o((0,t.useState)(""),2),m=v[0],y=v[1],g=function(){var e=re(te().mark((function e(t){var n,r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t),!i){e.next=8;break}return n=Ed(ob,"users","".concat(null===i||void 0===i?void 0:i.id)),e.next=5,Tp(n,{wishList:Pp(t)});case 5:c(!0),e.next=9;break;case 8:i||a||alert("please login to use Wishlist Function");case 9:if(!a){e.next=14;break}return r=Ed(ob,"artists","".concat(null===a||void 0===a?void 0:a.id)),e.next=13,Tp(r,{wishList:Pp(t)});case 13:c(!0);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=re(te().mark((function e(t){var n,r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i){e.next=5;break}return n=Ed(ob,"users","".concat(null===i||void 0===i?void 0:i.id)),e.next=4,Tp(n,{wishList:Lp(t)});case 4:c(!1);case 5:if(!a){e.next=10;break}return r=Ed(ob,"artists","".concat(null===a||void 0===a?void 0:a.id)),e.next=9,Tp(r,{wishList:Lp(t)});case 9:c(!1);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();(0,t.useEffect)((function(){if(i){!function(){var e,t=null===i||void 0===i||null===(e=i.wishList)||void 0===e?void 0:e.some((function(e){return e.id===f.id}));t&&c(!0)}()}if(a){!function(){var e,t=null===a||void 0===a||null===(e=a.wishList)||void 0===e?void 0:e.some((function(e){return e.id===f.id}));t&&c(!0)}()}}),[i,f.id,a]),(0,t.useEffect)((function(){f.categoryHandle&&y(f.categoryHandle[0].toUpperCase()+f.categoryHandle.substring(1))}),[f]);var b=function(e,t){e.preventDefault(),r([].concat($(n),[{prod:f,id:null===f||void 0===f?void 0:f.id,cartAmount:d}])),w(t)},w=function(e){var t=JSON.parse(localStorage.getItem("cart"));t.push({prod:e,id:null===e||void 0===e?void 0:e.id,cartAmount:d}),localStorage.setItem("cart",JSON.stringify(t))},x=function(e){return function(e){return!!e&&-1!==n.findIndex((function(t){return e===t.id}))}(e.id)?(0,yb.jsx)("button",{onClick:function(e){return b(e,f)},disabled:!0,className:"addToCart--prodPage",children:"Added to Cart"}):(0,yb.jsx)("button",{onClick:function(e){return b(e,f)},className:"addToCart--prodPage",children:"Add to Cart"})};return(0,yb.jsxs)(yb.Fragment,{children:[(0,yb.jsx)(Ob,{}),(0,yb.jsxs)("div",{className:"productPage--Container",children:[(0,yb.jsx)("div",{className:"backlinkContainer",children:(0,yb.jsxs)(Q,{to:"/category/"+(null===f||void 0===f?void 0:f.categoryHandle),children:[(0,yb.jsx)("i",{className:"fa-solid fa-long-arrow-left"}),(0,yb.jsx)("p",{children:"Back to Category"})]})}),(0,yb.jsxs)("div",{className:"middleContainer",children:[(0,yb.jsx)("div",{className:"imgContainer",children:(0,yb.jsx)("img",{src:null===f||void 0===f?void 0:f.imageUrl,alt:"product_img"})}),(0,yb.jsxs)("div",{className:"prodDetailContainer",children:[(0,yb.jsxs)("div",{className:"princenTitle",children:[(0,yb.jsx)("h1",{children:null===f||void 0===f?void 0:f.title}),(0,yb.jsxs)("p",{children:[null===f||void 0===f?void 0:f.price," USD"]})]}),(0,yb.jsxs)("div",{className:"qantityWish",children:[(0,yb.jsx)("button",{onClick:function(e){return function(e,t){e.preventDefault(),1!==t&&p(t-1)}(e,d)},children:"-"}),(0,yb.jsx)("div",{className:"quantityHolder",children:d}),(0,yb.jsx)("button",{onClick:function(e){return function(e,t){e.preventDefault(),p(t+1)}(e,d)},children:"+"}),u?(0,yb.jsx)("i",{className:"fa-solid fa-heart favHeart",onClick:function(){return k(f)}}):(0,yb.jsx)("i",{className:"fa-regular fa-heart favHeart",onClick:function(){return g(f)}})]}),(0,yb.jsx)(x,{id:f.id}),(0,yb.jsxs)("div",{className:"descInfo",children:[(0,yb.jsx)("h4",{children:"Description:"}),(0,yb.jsx)("p",{children:null===f||void 0===f?void 0:f.description}),(0,yb.jsx)("h4",{className:"designBy",children:"Category:"}),(0,yb.jsx)("p",{children:(0,yb.jsx)(Q,{to:"/category/"+(null===f||void 0===f?void 0:f.categoryHandle),children:m})}),(0,yb.jsx)("h4",{className:"designBy",children:"Designed By:"}),(0,yb.jsx)("p",{children:null===f||void 0===f?void 0:f.by})]})]})]})]}),(0,yb.jsx)(Bb,{})]})}function jw(){var e,n,r=kb(),i=L();(0,t.useEffect)((function(){!1===(null===r||void 0===r?void 0:r.admin)&&i("/")}),[r]);var a=Fb("artists"),s=a.filter((function(e){return"pending"===e.status})),u=a.filter((function(e){return"approved"===e.status||"rejected"===e.status})),c=function(){var e=re(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ip(mp(Sd(ob,"products"),gp("by","==",t)));case 2:e.sent.forEach((function(e){Tp(Ed(ob,"products",e.id),{status:n})}));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),l=function(){var e=re(te().mark((function e(t,n){var r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ed(ob,"artists",t),e.next=3,Tp(r,{status:"rejected"});case 3:return e.next=5,c(n,"rejected");case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),f=function(){var e=re(te().mark((function e(t,n){var r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ed(ob,"artists",t),e.next=3,Tp(r,{status:"approved"});case 3:return e.next=5,c(n,"approved");case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),h=function(){var e=re(te().mark((function e(t,n){var r,i;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===n||void 0===n||!n.admin){e.next=6;break}return r=Ed(ob,"artists",t),e.next=4,Tp(r,{admin:!1});case 4:e.next=9;break;case 6:return i=Ed(ob,"artists",t),e.next=9,Tp(i,{admin:!0});case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),d=o((0,t.useState)(),2),p=d[0],v=d[1],m=qb(),y=function(){var e=re(te().mark((function e(t){var n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(t),n=Ed(ob,"featured","featuredArtist"),e.next=4,Cp(n,{featuredArtist:t}).then((function(){v(t)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();(0,t.useEffect)((function(){v(null===m||void 0===m?void 0:m.featuredArtist)}),[m]);var g=Fb("orders"),k=g.filter((function(e){return"on-hold"===e.status||"transporting"===e.status||"delivered"===e.status})),b=g.filter((function(e){return"pending"===e.status})),w=o((0,t.useState)(),2),x=w[0],_=w[1],S=function(e){var t=0;return e.orderCart.forEach((function(e){t+=e.cartAmount})),t},E=function(){var e=re(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ed(ob,"orders",t);case 2:Tp(e.sent,{status:n});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),I=function(e){return E(e,"on-hold")},C=function(e){return E(e,"transporting")},T=function(e){return E(e,"delivered")},N=function(e){return _(e)};return(0,yb.jsxs)(yb.Fragment,{children:[(0,yb.jsx)(Ob,{}),(0,yb.jsxs)("div",{className:"admin-container",children:[(0,yb.jsx)("h1",{children:"Pending Requests"}),(0,yb.jsx)("table",{className:"artists-table-pending",children:(0,yb.jsxs)("tbody",{children:[(0,yb.jsxs)("tr",{children:[(0,yb.jsx)("th",{children:"Name"}),(0,yb.jsx)("th",{children:"Applied At"}),(0,yb.jsx)("th",{children:"Email"}),(0,yb.jsx)("th",{children:"Status"}),(0,yb.jsx)("th",{children:"Action"})]}),null===s||void 0===s?void 0:s.map((function(e){return(0,yb.jsxs)("tr",{children:[(0,yb.jsx)("td",{children:null===e||void 0===e?void 0:e.artistName}),(0,yb.jsx)("td",{children:null===e||void 0===e?void 0:e.createdAt}),(0,yb.jsx)("td",{children:null===e||void 0===e?void 0:e.eMail}),(0,yb.jsx)("td",{children:null===e||void 0===e?void 0:e.status}),(0,yb.jsxs)("td",{className:"action-cell",children:[(0,yb.jsx)("i",{onClick:function(){return l(e.id,e.artistName)},className:"fa-solid fa-ban"}),(0,yb.jsx)("i",{onClick:function(){return f(e.id,e.artistName)},className:"fa-solid fa-check"})]})]},null===e||void 0===e?void 0:e.id)}))]})}),(0,yb.jsx)("h1",{children:"Members"}),(0,yb.jsx)("table",{className:"artists-table-members",children:(0,yb.jsxs)("tbody",{children:[(0,yb.jsxs)("tr",{children:[(0,yb.jsx)("th",{children:"Name"}),(0,yb.jsx)("th",{children:"Member Since"}),(0,yb.jsx)("th",{children:"Email"}),(0,yb.jsx)("th",{children:"Items Sold"}),(0,yb.jsx)("th",{children:"Status"}),(0,yb.jsx)("th",{children:"Admin"}),(0,yb.jsx)("th",{children:"Action"}),(0,yb.jsx)("th",{children:"Featured"})]}),null===u||void 0===u?void 0:u.map((function(e){return(0,yb.jsxs)("tr",{children:[(0,yb.jsx)("td",{children:(0,yb.jsx)(Q,{to:"/artist/"+e.artistName,children:null===e||void 0===e?void 0:e.artistName})}),(0,yb.jsx)("td",{children:null===e||void 0===e?void 0:e.createdAt}),(0,yb.jsx)("td",{children:null===e||void 0===e?void 0:e.eMail}),(0,yb.jsx)("td",{children:null===e||void 0===e?void 0:e.itemsSold}),(0,yb.jsx)("td",{children:null===e||void 0===e?void 0:e.status}),(0,yb.jsx)("td",{children:null!==e&&void 0!==e&&e.admin?"admin":""}),(0,yb.jsxs)("td",{className:"action-cell",children:[(0,yb.jsx)("i",{onClick:function(){return l(e.id,e.artistName)},className:"fa-solid fa-ban"}),(0,yb.jsx)("i",{onClick:function(){return f(e.id,e.artistName)},className:"fa-solid fa-check"}),(0,yb.jsx)(Db,{onClick:function(){return h(e.id,e)}})]}),(0,yb.jsx)("td",{className:"featured-radio",children:(0,yb.jsx)("input",{onChange:function(t){return y(e)},checked:(null===p||void 0===p?void 0:p.id)===(null===e||void 0===e?void 0:e.id),type:"radio",name:"featured"})})]},null===e||void 0===e?void 0:e.id)}))]})}),(0,yb.jsx)("h1",{children:"Orders"}),(0,yb.jsx)("table",{className:"orders-table",children:(0,yb.jsxs)("tbody",{children:[(0,yb.jsxs)("tr",{children:[(0,yb.jsx)("th",{children:"OrderID"}),(0,yb.jsx)("th",{children:"Date"}),(0,yb.jsx)("th",{children:"Products"}),(0,yb.jsx)("th",{children:"Amount"}),(0,yb.jsx)("th",{children:"Status"}),(0,yb.jsx)("th",{children:"Action"}),(0,yb.jsx)("th",{children:(0,yb.jsx)(Nb,{})})]}),null===b||void 0===b?void 0:b.map((function(e){var t;return(0,yb.jsxs)("tr",{children:[(0,yb.jsx)("td",{children:null===e||void 0===e?void 0:e.orderID}),(0,yb.jsx)("td",{children:null===e||void 0===e||null===(t=e.orderDetails)||void 0===t?void 0:t.date}),(0,yb.jsx)("td",{children:S(e)}),(0,yb.jsxs)("td",{children:[null===e||void 0===e?void 0:e.total," $"]}),(0,yb.jsx)("td",{children:null===e||void 0===e?void 0:e.status}),(0,yb.jsxs)("td",{className:"action-cell",children:[(0,yb.jsx)(Cb,{onClick:function(){return I(e.id)}}),(0,yb.jsx)(Rb,{onClick:function(){return C(e.id)}}),(0,yb.jsx)(Tb,{onClick:function(){return T(e.id)}})]}),(0,yb.jsx)("td",{children:(0,yb.jsx)(Ab,{onClick:function(){return N(e)}})})]},null===e||void 0===e?void 0:e.id)})),null===k||void 0===k?void 0:k.map((function(e){var t;return(0,yb.jsxs)("tr",{children:[(0,yb.jsx)("td",{children:null===e||void 0===e?void 0:e.orderID}),(0,yb.jsx)("td",{children:null===e||void 0===e||null===(t=e.orderDetails)||void 0===t?void 0:t.date}),(0,yb.jsx)("td",{children:S(e)}),(0,yb.jsxs)("td",{children:[null===e||void 0===e?void 0:e.total," $"]}),(0,yb.jsx)("td",{children:null===e||void 0===e?void 0:e.status}),(0,yb.jsxs)("td",{className:"action-cell",children:[(0,yb.jsx)(Cb,{onClick:function(){return I(e.id)}}),(0,yb.jsx)(Rb,{onClick:function(){return C(e.id)}}),(0,yb.jsx)(Tb,{onClick:function(){return T(e.id)}})]}),(0,yb.jsx)("td",{children:(0,yb.jsx)(Ab,{onClick:function(){return N(e)}})})]},null===e||void 0===e?void 0:e.id)}))]})}),x&&(0,yb.jsxs)("div",{className:"specification",children:[(0,yb.jsx)("h1",{children:"Specification"}),(0,yb.jsx)(jb,{className:"close-btn",onClick:function(){return _(null)}}),(0,yb.jsxs)("h2",{children:["OrderID: ",x.orderID]}),(0,yb.jsxs)("div",{className:"order-specifications",children:[(0,yb.jsxs)("div",{className:"customer-info",children:[(0,yb.jsx)("h3",{children:"Customer Information"}),(0,yb.jsxs)("p",{children:[(0,yb.jsx)("span",{children:"Name:"})," ",x.orderDetails.name]}),(0,yb.jsxs)("p",{children:[(0,yb.jsx)("span",{children:"Adress:"})," ",x.orderDetails.address]}),(0,yb.jsxs)("p",{children:[(0,yb.jsx)("span",{children:"Adress:"})," ",x.orderDetails.addressTwo]}),(0,yb.jsxs)("p",{children:[(0,yb.jsx)("span",{children:"City:"})," ",x.orderDetails.city]}),(0,yb.jsxs)("p",{children:[(0,yb.jsx)("span",{children:"Zip:"})," ",x.orderDetails.zip]}),(0,yb.jsxs)("p",{children:[(0,yb.jsx)("span",{children:"Country:"})," ",x.orderDetails.country]})]}),(0,yb.jsxs)("div",{className:"card-information",children:[(0,yb.jsx)("h3",{children:"Payment Details"}),(0,yb.jsxs)("p",{children:[(0,yb.jsx)("span",{children:"Card Holder:"})," ",x.orderDetails.cardOwner]}),(0,yb.jsxs)("p",{children:[(0,yb.jsx)("span",{children:"Card Number:"})," ","****-****-****-"+(null===x||void 0===x||null===(e=x.orderDetails)||void 0===e?void 0:e.cardNumber.slice(-4))]}),(0,yb.jsxs)("p",{children:[(0,yb.jsx)("span",{children:"Total:"})," ",x.total," $"]}),(0,yb.jsx)("h3",{className:"contact-details",children:"Contact"}),(0,yb.jsxs)("p",{children:[(0,yb.jsx)("span",{children:"Email:"})," ",x.orderDetails.email]})]})]}),(0,yb.jsxs)("div",{className:"order-feedback",children:[(0,yb.jsx)("h3",{children:"Message from customer"}),(0,yb.jsx)("p",{children:x.orderDetails.feedback?x.orderDetails.feedback:"No message"})]}),(0,yb.jsx)("table",{className:"order-table-specifictation",children:(0,yb.jsxs)("tbody",{children:[(0,yb.jsxs)("tr",{children:[(0,yb.jsx)("th",{children:"Product"}),(0,yb.jsx)("th",{children:"Category"}),(0,yb.jsx)("th",{children:"By Artist"}),(0,yb.jsx)("th",{children:"Quantity"}),(0,yb.jsx)("th",{children:"Price"})]}),null===x||void 0===x||null===(n=x.orderCart)||void 0===n?void 0:n.map((function(e){var t,n,r,i;return(0,yb.jsxs)("tr",{children:[(0,yb.jsx)("td",{children:null===e||void 0===e||null===(t=e.prod)||void 0===t?void 0:t.title}),(0,yb.jsx)("td",{children:null===e||void 0===e||null===(n=e.prod)||void 0===n?void 0:n.categoryHandle}),(0,yb.jsx)("td",{children:null===e||void 0===e||null===(r=e.prod)||void 0===r?void 0:r.by}),(0,yb.jsx)("td",{children:null===e||void 0===e?void 0:e.cartAmount}),(0,yb.jsxs)("td",{children:[null===e||void 0===e||null===(i=e.prod)||void 0===i?void 0:i.price," $"]})]},null===e||void 0===e?void 0:e.id)}))]})})]})]}),(0,yb.jsx)(Bb,{})]})}var Rw=function(){return kb()?(0,yb.jsx)(jw,{}):(0,yb.jsx)(Xb,{})};var Dw=function(){var e=o((0,t.useState)(),2),n=e[0],r=e[1];return(0,t.useEffect)((function(){var e=JSON.parse(localStorage.getItem("cart"));e?r(e):localStorage.setItem("cart",JSON.stringify([]))}),[]),(0,yb.jsx)("div",{className:"App",children:(0,yb.jsx)(G,{children:(0,yb.jsx)(Qb.Provider,{value:{cartState:n,setCartState:r},children:(0,yb.jsxs)(z,{children:[(0,yb.jsx)(V,{path:"/",element:(0,yb.jsx)(zb,{})}),(0,yb.jsx)(V,{path:"/admin",element:(0,yb.jsx)(Rw,{})}),(0,yb.jsx)(V,{path:"/product/:id",element:(0,yb.jsx)(Aw,{})}),(0,yb.jsx)(V,{path:"/artist",element:(0,yb.jsx)(Wb,{})}),(0,yb.jsx)(V,{path:"/artist/:id",element:(0,yb.jsx)(Cw,{})}),(0,yb.jsx)(V,{path:"/profile",element:(0,yb.jsx)(kw,{})}),(0,yb.jsx)(V,{path:"/profile/products",element:(0,yb.jsx)(bw,{})}),(0,yb.jsx)(V,{path:"/profile/upload",element:(0,yb.jsx)(xw,{})}),(0,yb.jsx)(V,{path:"/profile/settings",element:(0,yb.jsx)(_w,{})}),(0,yb.jsx)(V,{path:"/cart",element:(0,yb.jsx)(Yb,{})}),(0,yb.jsx)(V,{path:"/signin",element:(0,yb.jsx)(Xb,{})}),(0,yb.jsx)(V,{path:"/wishlist",element:(0,yb.jsx)(Zb,{})}),(0,yb.jsx)(V,{path:"/category",element:(0,yb.jsx)($b,{})}),(0,yb.jsx)(V,{path:"/signup",element:(0,yb.jsx)(lw,{})}),(0,yb.jsx)(V,{path:"/category/:id",element:(0,yb.jsx)(pw,{})}),(0,yb.jsx)(V,{path:"/underconstruction",element:(0,yb.jsx)(Sw,{})}),(0,yb.jsx)(V,{path:"/query/:id",element:(0,yb.jsx)(Tw,{})}),(0,yb.jsx)(V,{path:"*",element:(0,yb.jsx)(vw,{})})]})})})})};r.createRoot(document.getElementById("root")).render((0,yb.jsx)(t.StrictMode,{children:(0,yb.jsx)(Dw,{})}))}()}();
//# sourceMappingURL=main.cc109fe6.js.map